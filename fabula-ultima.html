<span class="fabula-translation" data-i18n=""></span><span class="fabula-translation" data-i18n="1-handed">One-handed</span><span class="fabula-translation" data-i18n="2-handed">Two-handed</span><span class="fabula-translation" data-i18n="ab">AB</span><span class="fabula-translation" data-i18n="action">Action</span><span class="fabula-translation" data-i18n="attack">Attack</span><span class="fabula-translation" data-i18n="custom">Custom</span><span class="fabula-translation" data-i18n="damage">Damage</span><span class="fabula-translation" data-i18n="defense_full">Defense</span><span class="fabula-translation" data-i18n="dmg">DMG</span><span class="fabula-translation" data-i18n="high_roll">HR</span><span class="fabula-translation" data-i18n="HR">HR</span><span class="fabula-translation" data-i18n="im">IM</span><span class="fabula-translation" data-i18n="info">Info</span><span class="fabula-translation" data-i18n="mdefense_full">M. Defense</span><span class="fabula-translation" data-i18n="mod">MOD</span><span class="fabula-translation" data-i18n="modifier">Modifier</span><span class="fabula-translation" data-i18n="phase">Phase</span><span class="fabula-translation" data-i18n="rs">RS</span><span class="fabula-translation" data-i18n="spell">Spell</span><span class="fabula-translation" data-i18n="spend_fabula_failed">No Fabula Points to spend...</span><span class="fabula-translation" data-i18n="villain_major">Major Villain</span><span class="fabula-translation" data-i18n="villain_minor">Minor Villain</span><span class="fabula-translation" data-i18n="villain_supreme">Supreme Villain</span><span class="fabula-translation" data-i18n="vu">VU</span>
<input class="chimera-hidden" name="attr_sheet_version" type="hidden" value=""/>
<input class="chimera-hidden" name="attr_sheet_migrations" type="hidden" value=""/>
<input class="chimera-hidden" name="attr_sheet_type" type="hidden" value="character"/>
<input class="chimera-hidden" name="attr_sheet_mode" type="hidden"/>
<div class="fabula-ultima">
  <header class="fabula-ultima__header">
    <label class="chimera-checkbox sheet_mode" data-i18n-title="sheet_mode_title" title="Toggle edit mode">
      <div class="chimera-checkbox__field">
        <input id="sheet_mode" name="attr_sheet_mode" type="checkbox"/><img data-i18n-title="sheet_mode_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/feather.png" title="Toggle edit mode"/>
      </div><span class="chimera-checkbox__label" data-i18n="sheet_mode" for="sheet_mode">Edit</span>
    </label>
    <div class="chimera-input sheet-type chimera-input--flex-row chimera-input--nowrap">
      <label class="chimera-input__label" data-i18n="sheet_type" for="sheet_type">Sheet Type</label>
      <select class="chimera-input__field" data-i18n-title="sheet_type_title" id="sheet_type" name="attr_sheet_type" title="Sheet Type">
        <option data-i18n="character" selected="selected" value="character">Character</option>
        <option data-i18n="bestiary" selected="selected" value="bestiary">Bestiary</option>
        <option data-i18n="gm" value="gm">GM</option>
      </select>
    </div>
  </header>
  <main class="character">
    <input class="chimera-hidden" name="attr_nav" type="hidden" value="classes"/>
        <section class="character--view">
              <div class="traits--view">
                <input class="chimera-hidden" name="attr_character_avatar" type="hidden" value=""/>
                <div class="trait__avatar"><img data-i18n-title="avatar" name="attr_character_avatar" title="Despite everything, it's still you."/></div>
                <div class="trait__name"><span name="attr_character_name"></span><span class="trait__pronouns" name="attr_pronouns"></span>
                </div>
                <div class="trait__level">
                  <label data-i18n="lv">Lv</label><span name="attr_level"></span>
                </div>
                <div class="trait__description">
                  <div class="chimera-value trait__identity chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="identity" for="identity">Identity</label><span class="chimera-value__value" name="attr_identity"></span>
                  </div>
                  <div class="chimera-value trait__theme chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="theme" for="theme">Theme</label><span class="chimera-value__value" name="attr_theme"></span>
                  </div>
                  <div class="chimera-value trait__origin chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="origin" for="origin">Origin</label><span class="chimera-value__value" name="attr_origin"></span>
                  </div>
                </div>
              </div>
              <div class="statistics--view">
                <div class="attributes--view">
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="dexterity" for="dexterity">DEX</label><span class="chimera-value__value" name="attr_dexterity"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="insight" for="insight">INS</label><span class="chimera-value__value" name="attr_insight"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="might" for="might">MIG</label><span class="chimera-value__value" name="attr_might"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="willpower" for="willpower">WLP</label><span class="chimera-value__value" name="attr_willpower"></span>
                  </div>
                </div>
                    <div class="points--view">
                      <input class="chimera-hidden" name="attr_hp_crisis" type="hidden"/>
                      <label class="chimera-value__label" data-i18n="hp">HP</label>
                      <div class="point__hp">
                        <div class="chimera-value point--hp"><span class="chimera-value__value" name="attr_hp"></span>
                        </div><span class="fabula-diamond">⬥</span>
                        <div class="chimera-value point--hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                        </div>
                      </div>
                      <label class="chimera-value__label" data-i18n="mp">MP</label>
                      <div class="point__mp">
                        <div class="chimera-value point--mp"><span class="chimera-value__value" name="attr_mp"></span>
                        </div>
                      </div>
                      <div class="point__initiative">
                        <label class="chimera-value__label" data-i18n="init">Init.</label>
                        <div class="chimera-value point--initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                        </div>
                      </div>
                    </div>
                    <div class="defenses--view">
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="defense" for="defense">DEF</label><span class="chimera-value__value" name="attr_defense"></span>
                      </div>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="magic_defense" for="magic_defense">M.DEF</label><span class="chimera-value__value" name="attr_magic_defense"></span>
                      </div>
                    </div>
                    <div class="affinities--view">
                      <label class="affinity__wrapper affinity--physical">
                        <input class="chimera-hidden" name="attr_physical" type="hidden"/><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="physical" for="physical">Physical</label><span class="chimera-value__value" name="attr_physical"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--air">
                        <input class="chimera-hidden" name="attr_air" type="hidden"/><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="air" for="air">Air</label><span class="chimera-value__value" name="attr_air"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--bolt">
                        <input class="chimera-hidden" name="attr_bolt" type="hidden"/><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="bolt" for="bolt">Bolt</label><span class="chimera-value__value" name="attr_bolt"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--dark">
                        <input class="chimera-hidden" name="attr_dark" type="hidden"/><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="dark" for="dark">Dark</label><span class="chimera-value__value" name="attr_dark"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--earth">
                        <input class="chimera-hidden" name="attr_earth" type="hidden"/><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="earth" for="earth">Earth</label><span class="chimera-value__value" name="attr_earth"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--fire">
                        <input class="chimera-hidden" name="attr_fire" type="hidden"/><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="fire" for="fire">Fire</label><span class="chimera-value__value" name="attr_fire"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--ice">
                        <input class="chimera-hidden" name="attr_ice" type="hidden"/><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="ice" for="ice">Ice</label><span class="chimera-value__value" name="attr_ice"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--light">
                        <input class="chimera-hidden" name="attr_light" type="hidden"/><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="light" for="light">Light</label><span class="chimera-value__value" name="attr_light"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--poison">
                        <input class="chimera-hidden" name="attr_poison" type="hidden"/><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="poison" for="poison">Poison</label><span class="chimera-value__value" name="attr_poison"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                    </div>
              </div>
          <div class="character__controls">
                <div class="status-effects--view">
                  <div class="status-debuffs">
                    <input class="chimera-hidden" name="attr_slow_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_dazed_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_enraged_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_weak_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_shaken_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_poisoned_immunity" type="hidden" value="0"/>
                    <label class="chimera-checkbox status-effect status-effect--slow chimera-checkbox--column" data-i18n-title="slow_title" title="Slow temporarily reduces your Dexterity die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="slow" name="attr_slow" type="checkbox"/><img data-i18n-title="slow_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/slow-pixerelia.png" title="Slow temporarily reduces your Dexterity die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="slow" for="slow">Slow</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--dazed chimera-checkbox--column" data-i18n-title="dazed_title" title="Dazed temporarily reduces your Insight die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="dazed" name="attr_dazed" type="checkbox"/><img data-i18n-title="dazed_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/dazed-pixerelia.png" title="Dazed temporarily reduces your Insight die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="dazed" for="dazed">Dazed</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--enraged chimera-checkbox--column" data-i18n-title="enraged_title" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="enraged" name="attr_enraged" type="checkbox"/><img data-i18n-title="enraged_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/enraged-pixerelia.png" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="enraged" for="enraged">Enraged</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--weak chimera-checkbox--column" data-i18n-title="weak_title" title="Weak temporarily reduces your Might die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="weak" name="attr_weak" type="checkbox"/><img data-i18n-title="weak_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/weak-pixerelia.png" title="Weak temporarily reduces your Might die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="weak" for="weak">Weak</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--shaken chimera-checkbox--column" data-i18n-title="shaken_title" title="Shaken temporarily reduces your Willpower die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="shaken" name="attr_shaken" type="checkbox"/><img data-i18n-title="shaken_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/shaken-pixerelia.png" title="Shaken temporarily reduces your Willpower die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="shaken" for="shaken">Shaken</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--poisoned chimera-checkbox--column" data-i18n-title="poisoned_title" title="Poisoned temporarily reduces your Might and Willpower die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="poisoned" name="attr_poisoned" type="checkbox"/><img data-i18n-title="poisoned_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/poisoned-pixerelia.png" title="Poisoned temporarily reduces your Might and Willpower die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="poisoned" for="poisoned">Poisoned</span>
                    </label>
                  </div>
                  <div class="status-buffs">
                    <label class="chimera-checkbox status-boost status-boost--dexterity chimera-checkbox--column" data-i18n-title="dexterity_boost_title" title="Temporarily increases your Dexterity die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="dexterity_boost" name="attr_dexterity_boost" type="checkbox"/><img data-i18n-title="dexterity_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Dexterity die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="dexterity_boost" for="dexterity_boost">DEX+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--insight chimera-checkbox--column" data-i18n-title="insight_boost_title" title="Temporarily increases your Insight die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="insight_boost" name="attr_insight_boost" type="checkbox"/><img data-i18n-title="insight_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Insight die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="insight_boost" for="insight_boost">INS+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--might chimera-checkbox--column" data-i18n-title="might_boost_title" title="Temporarily increases your Might die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="might_boost" name="attr_might_boost" type="checkbox"/><img data-i18n-title="might_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Might die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="might_boost" for="might_boost">MIG+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--willpower chimera-checkbox--column" data-i18n-title="willpower_boost_title" title="Temporarily increases your Willpower die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="willpower_boost" name="attr_willpower_boost" type="checkbox"/><img data-i18n-title="willpower_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Willpower die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="willpower_boost" for="willpower_boost">WLP+</span>
                    </label>
                  </div>
                </div>
                <div class="controllers--view">
                  <div class="chimera-arithmetic controller__hp">
                    <label class="chimera-arithmetic__label" data-i18n="hp-control" for="hp-control">HP</label>
                    <button class="chimera-arithmetic__subtract" name="act_hp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="hp-control_title" id="hp-control" name="attr_hp-control" title="Health Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_hp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                  <div class="chimera-arithmetic controller__mp">
                    <label class="chimera-arithmetic__label" data-i18n="mp-control" for="mp-control">MP</label>
                    <button class="chimera-arithmetic__subtract" name="act_mp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="mp-control_title" id="mp-control" name="attr_mp-control" title="Mind Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_mp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                  <div class="chimera-arithmetic controller__ip">
                    <label class="chimera-arithmetic__label" data-i18n="ip-control" for="ip-control">IP</label>
                    <button class="chimera-arithmetic__subtract" name="act_ip-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="ip-control_title" id="ip-control" name="attr_ip-control" title="Inventory Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_ip-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                </div>
          </div>
          <!-- TODO tab navigation-->
              <div class="rolls--view">
                <h2 class="rolls__heading--view"><span data-i18n="frequently_used_checks">Frequently Used Checks</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="rolls_collapse_title" title="Toggle rolls">
                    <div class="chimera-toggle__field">
                      <input id="rolls_collapse" name="attr_rolls_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="rolls_collapse" for="rolls_collapse">Toggle rolls</span>
                  </label>
                </h2>
                <div class="chimera-wrapper">
                  <div class="roll__custom">
                    <div class="chimera-input roll__attr1 chimera-input--center chimera-input--smallest">
                      <label class="chimera-input__label" data-i18n="check_attr1" for="check_attr1">Attr 1</label>
                      <select class="chimera-input__field" data-i18n-title="check_attr1_title" id="check_attr1" name="attr_check_attr1" title="Attr 1">
                        <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                        <option data-i18n="insight" value="insight">INS</option>
                        <option data-i18n="might" value="might">MIG</option>
                        <option data-i18n="willpower" value="willpower">WLP</option>
                      </select>
                    </div>
                    <div class="chimera-input roll__attr2 chimera-input--center chimera-input--smallest">
                      <label class="chimera-input__label" data-i18n="check_attr2" for="check_attr2">Attr 2</label>
                      <select class="chimera-input__field" data-i18n-title="check_attr2_title" id="check_attr2" name="attr_check_attr2" title="Attr 2">
                        <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                        <option data-i18n="insight" value="insight">INS</option>
                        <option data-i18n="might" value="might">MIG</option>
                        <option data-i18n="willpower" value="willpower">WLP</option>
                      </select>
                    </div>
                    <div class="chimera-input roll__description">
                      <label class="chimera-input__label" data-i18n="check_description" for="check_description">Custom Check</label>
                      <input class="chimera-input__field" data-i18n-placeholder="check_description_placeholder" data-i18n-title="check_description_title" id="check_description" name="attr_check_description" placeholder="Custom Check" title="Custom Check" type="text"/>
                    </div>
                    <button class="chimera-action roll__check--custom" data-i18n-title="check_custom_title" name="act_check_custom" title="Roll Custom Check" type="action"><img data-i18n-title="dice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/dice.svg" title="Roll"/>
                      <label class="chimera-action__label" data-i18n="roll">Roll</label>
                    </button>
                  </div>
                  <button class="chimera-action roll__check" data-i18n-title="check_sneak_title" name="act_check_sneak" title="Moving silently, hiding and acting unnoticed." type="action">
                    <label class="chimera-action__label" data-i18n="check_sneak">Sneak【DEX + DEX】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_dodge_title" name="act_check_dodge" title="Avoiding a trap or finding a way to flee a collapsing building." type="action">
                    <label class="chimera-action__label" data-i18n="check_dodge">Dodge【DEX + INS】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_anticipate_title" name="act_check_anticipate" title="Anticipating someone’s movements and catching them by surprise." type="action">
                    <label class="chimera-action__label" data-i18n="check_anticipate">Anticipate【DEX + INS】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_tinker_title" name="act_check_tinker" title="Completing a work of craftsmanship or repairing something." type="action">
                    <label class="chimera-action__label" data-i18n="check_tinker">Tinker【DEX + INS】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_captivate_title" name="act_check_captivate" title="Moving gracefully to earn someone’s attention." type="action">
                    <label class="chimera-action__label" data-i18n="check_captivate">Captivate【DEX + WLP】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_study_title" name="act_check_study" title="Examining or investigating someone or something." type="action">
                    <label class="chimera-action__label" data-i18n="check_study">Study【INS + INS】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_recall_title" name="act_check_recall" title="Remembering useful information about something." type="action">
                    <label class="chimera-action__label" data-i18n="check_recall">Recall【INS + INS】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_interrogate_title" name="act_check_interrogate" title="Getting information from someone during a conversation." type="action">
                    <label class="chimera-action__label" data-i18n="check_interrogate">Interrogate【INS + WLP】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_persuade_title" name="act_check_persuade" title="Persuading someone through authority or diplomacy." type="action">
                    <label class="chimera-action__label" data-i18n="check_persuade">Persuade【INS + WLP】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_effort_title" name="act_check_effort" title="Hard work, such as lifting a portcullis or pushing a statue." type="action">
                    <label class="chimera-action__label" data-i18n="check_effort">Effort【MIG + MIG】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_endure_title" name="act_check_endure" title="Resisting intense pain or fatigue." type="action">
                    <label class="chimera-action__label" data-i18n="check_endure">Endure【MIG + WLP】</label>
                  </button>
                  <button class="chimera-action roll__check" data-i18n-title="check_intimidate_title" name="act_check_intimidate" title="Intimidating someone with your strength." type="action">
                    <label class="chimera-action__label" data-i18n="check_intimidate">Intimidate【MIG + WLP】</label>
                  </button>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rolls_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_rolls">
                    <button class="chimera-action roll__check--repeating" data-i18n-title="check_title" name="act_check" title="Roll Custom Check" type="action">
                      <div class="chimera-value roll__description"><span class="chimera-value__value" name="attr_check_description"></span>
                      </div>
                      <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_check_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_check_attr2"></span>
                      </div>
                    </button>
                  </fieldset>
                </div>
              </div>
              <div class="bonds--view">
                <h2 class="bonds__heading--view"><span data-i18n="bonds">Bonds</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="bonds_collapse_title" title="Toggle bonds">
                    <div class="chimera-toggle__field">
                      <input id="bonds_collapse" name="attr_bonds_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="bonds_collapse" for="bonds_collapse">Toggle bonds</span>
                  </label>
                </h2>
                <div class="chimera-wrapper">
                  <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                  <div class="bond bond--1">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond1_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond1chat_title" name="act_bond1chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <div class="bond bond--2">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond2_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond2chat_title" name="act_bond2chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <div class="bond bond--3">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond3_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond3chat_title" name="act_bond3chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <div class="bond bond--4">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond4_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond4chat_title" name="act_bond4chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <div class="bond bond--5">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond5_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond5chat_title" name="act_bond5chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <div class="bond bond--6">
                    <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond6_name"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_approval"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_allegiance"></span>
                    </div>
                    <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_fondness"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="bond6chat_title" name="act_bond6chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                </div>
              </div>
              <div class="fabula-points--view">
                <h2 class="fabula-points__heading--view"><span data-i18n="fabula_points"></span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="fabula-points_collapse_title" title="Toggle fabula-points">
                    <div class="chimera-toggle__field">
                      <input id="fabula-points_collapse" name="attr_fabula-points_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="fabula-points_collapse" for="fabula-points_collapse">Toggle fabula-points</span>
                  </label>
                </h2>
                <div class="point__wrapper chimera-wrapper">
                  <div class="chimera-input point--fabula chimera-input--small chimera-input--center chimera-input--column-reverse">
                    <label class="chimera-input__label" data-i18n="fabula_points" for="fabula_points">Fabula Points</label>
                    <input class="chimera-input__field" data-i18n-placeholder="fabula_points_placeholder" data-i18n-title="fabula_points_title" id="fabula_points" min="0" name="attr_fabula_points" placeholder="0" title="Fabula Points" type="number" value="0"/>
                  </div>
                  <div class="point__gain">
                    <div class="chimera-value gaining-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_gain_on_session_start">+1 Fabula Point if you have none at the start of the session.</span>
                    </div>
                    <div class="chimera-value gaining-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_gain_on_fumble_check">+1 Fabula Point when you fumble a check.</span>
                    </div>
                    <div class="chimera-value gaining-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_gain_on_villain_entrance">+1 Fabula Point when a Villain makes an entrance.</span>
                    </div>
                    <div class="chimera-value gaining-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_gain_on_surrender">+2 Fabula Point if you surrender at zero HP.</span>
                    </div>
                  </div>
                  <div class="point__spend">
                    <div class="chimera-value spending-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_spend_to_reroll_dice">Spend 1 Fabula Point after performing a Check to invoke a trait to reroll one or both dice (not a fumble).</span>
                    </div>
                    <div class="chimera-value spending-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_spend_to_invoke_bond">Spend 1 Fabula Point after performing a Check to invoke a bond and add its strength to the result (once per check).</span>
                    </div>
                    <div class="chimera-value spending-fabula chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="fabula_spend_to_alter_the_story">Spend 1 Fabula Point to alter the story. If you alter an existing element, you need permission from whoever introduced it.</span>
                    </div>
                  </div>
                  <div class="point__declare">
                    <div class="chimera-input point--spend-fabula">
                      <label class="chimera-input__label" data-i18n="spend_fabula_points" for="spend_fabula_points">Declare and Spend Fabula Point</label>
                      <input class="chimera-input__field" data-i18n-placeholder="spend_fabula_points_placeholder" data-i18n-title="spend_fabula_points_title" id="spend_fabula_points" name="attr_spend_fabula_points" placeholder="Declare to chat how you wish to spend Fabula Point" title="Spend Fabula Points" type="text"/>
                    </div>
                    <button class="chimera-action" data-i18n-title="declare-fabula_title" name="act_declare-fabula" type="action">
                      <label class="chimera-action__label">Declare & Spend</label>
                    </button>
                  </div>
                </div>
              </div>
              <div class="experience-points--view">
                <h2 class="experience-points__heading--view"><span data-i18n="experience_points"></span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="experience-points_collapse_title" title="Toggle experience-points">
                    <div class="chimera-toggle__field">
                      <input id="experience-points_collapse" name="attr_experience-points_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="experience-points_collapse" for="experience-points_collapse">Toggle experience-points</span>
                  </label>
                </h2>
                <div class="point__wrapper chimera-wrapper">
                  <div class="chimera-input point--xp chimera-input--small chimera-input--center chimera-input--column-reverse">
                    <label class="chimera-input__label" data-i18n="experience_points" for="experience_points">Experience Points</label>
                    <input class="chimera-input__field" data-i18n-placeholder="experience_points_placeholder" data-i18n-title="experience_points_title" id="experience_points" min="0" name="attr_experience_points" placeholder="0" title="Experience Points" type="number" value="0"/>
                  </div>
                  <div class="point__gain">
                    <div class="chimera-value gaining-experience chimera-value--helptext"><span class="chimera-value__value" data-i18n="experience_automatic_five">At the end of each session, you automatically gain 5 XP. Then:</span>
                    </div>
                    <div class="chimera-value gaining-experience chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="experience_fabula_spent">Gain XP equal to (Fabula Points spent by the group / number of Player Characters)</span>
                    </div>
                    <div class="chimera-value gaining-experience chimera-value--bullet chimera-value--helptext"><span class="chimera-value__value" data-i18n="experience_ultima_spent">Gain XP equal to Ultima Points spent by Villains</span>
                    </div>
                    <div class="chimera-value gaining-experience chimera-value--helptext"><span class="chimera-value__value" data-i18n="experience_level_up">Finally, if you have 10 or more Experience Points, you must spend ten of those points and increase your character level by one—you keep any Experience Points in excess.</span>
                    </div>
                  </div>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_weapons_empty" type="hidden"/>
              <div class="weapons">
                <h2 class="weapons__heading--view"><span data-i18n="weapons">Weapons</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="weapons_collapse_title" title="Toggle weapons">
                    <div class="chimera-toggle__field">
                      <input id="weapons_collapse" name="attr_weapons_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="weapons_collapse" for="weapons_collapse">Toggle weapons</span>
                  </label>
                </h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_weapon_is_equipped" type="hidden"/>
                          <button class="chimera-action weapon__roll" data-i18n-title="weaponattack_title" name="act_weaponattack" title="Weapon Attack" type="action"><img class="weapon__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="weapon__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="weapon__attack"><span class="weapon__name" name="attr_weapon_name"></span>
                            </div>
                          </button>
                          <div class="weapon__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div>
                          <div class="chimera-value weapon__special"><span class="chimera-value__value" name="attr_weapon_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_spells_empty" type="hidden"/>
              <div class="spells">
                <h2 class="spells__heading--view"><span data-i18n="spells">Spells</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="spells_collapse_title" title="Toggle spells">
                    <div class="chimera-toggle__field">
                      <input id="spells_collapse" name="attr_spells_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="spells_collapse" for="spells_collapse">Toggle spells</span>
                  </label>
                </h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                      </div>
                      <div class="chimera-repeater--view spells--view">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <button class="chimera-action spell__roll" data-i18n-title="spell_title" name="act_spell" title="Spell" type="action"><img class="spell__icon" data-i18n-title="spell_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg" title="Spell"/>
                            <div class="chimera-value spell__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                          </button>
                          <div class="spell__offensive">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_spell_damage_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__type chimera-value--no-label-bold"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_type"></span>
                            </div><span class="fabula-diamond">⬥</span>
                          </div>
                          <div class="chimera-value spell__mp chimera-value--reverse">
                            <label class="chimera-value__label" data-i18n="spell_mp" for="spell_mp">MP</label><span class="chimera-value__value" name="attr_spell_mp"></span>
                          </div>
                          <div class="spell__target-duration">
                            <div class="chimera-value spell__target chimera-value--center"><span class="chimera-value__value" name="attr_spell_target"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__duration chimera-value--center"><span class="chimera-value__value" name="attr_spell_duration"></span>
                            </div>
                          </div>
                          <div class="chimera-value spell__effect"><span class="chimera-value__value" name="attr_spell_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_rituals_empty" type="hidden"/>
              <div class="rituals rituals--view">
                <h2 class="rituals__heading--view"><span data-i18n="rituals">Rituals</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="rituals_collapse_title" title="Toggle rituals">
                    <div class="chimera-toggle__field">
                      <input id="rituals_collapse" name="attr_rituals_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="rituals_collapse" for="rituals_collapse">Toggle rituals</span>
                  </label>
                </h2>
                <div class="rituals-known">
                  <div class="chimera-value ritual__known chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="ritual_known" for="ritual_known">Rituals Known</label><span class="chimera-value__value" name="attr_ritual_known"></span>
                  </div>
                </div>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rituals_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_rituals_repeating">No rituals saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_rituals">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit rituals--edit">
                      </div>
                      <div class="chimera-repeater--delete rituals--delete">
                      </div>
                      <div class="chimera-repeater--view rituals--view">
                        <div class="ritual">
                          <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden"/>
                          <button class="chimera-action ritual__roll" data-i18n-title="ritual_title" name="act_ritual" title="Ritual" type="action"><img class="ritual__icon" data-i18n-title="candle_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/candle.svg" title="Candle"/>
                            <div class="chimera-value ritual__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_ritual_name"></span>
                            </div>
                          </button>
                          <div class="ritual__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr2"></span>
                              <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_ritual_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value ritual__difficulty chimera-value--center chimera-value--small">
                              <label class="chimera-value__label" data-i18n="ritual_difficulty" for="ritual_difficulty">DL</label><span class="chimera-value__value" name="attr_ritual_difficulty"></span>
                            </div><span class="fabula-diamond">⬥</span>
                          </div>
                          <div class="chimera-value ritual__mp chimera-value--reverse">
                            <label class="chimera-value__label" data-i18n="ritual_mp" for="ritual_mp">MP</label><span class="chimera-value__value" name="attr_ritual_mp"></span>
                          </div>
                          <div class="ritual__potency-area">
                            <div class="chimera-value ritual__discipline chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_discipline"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value ritual__potency chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_potency"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value ritual__area chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_area"></span>
                            </div>
                          </div>
                          <div class="chimera-value ritual__effect"><span class="chimera-value__value" name="attr_ritual_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
          <!-- TODO view Backpack-->
          <!-- TODO view Journal-->
              <div class="equipment--view">
                <h2 class="equipment__heading--view"><span data-i18n="equipment">Equipment</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="equipment_collapse_title" title="Toggle equipment">
                    <div class="chimera-toggle__field">
                      <input id="equipment_collapse" name="attr_equipment_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="equipment_collapse" for="equipment_collapse">Toggle equipment</span>
                  </label>
                </h2>
                <div class="chimera-value chimera-value--colon equipment__may_equip">
                  <label class="chimera-value__label" data-i18n="may_equip">May Equip</label><span class="chimera-value__value" name="attr_may_equip"></span>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_weapons">
                    <div class="equipment__weapon">
                      <label class="chimera-toggle weapon__is_equipped chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="weapon_is_equipped_title">
                        <div class="chimera-toggle__field">
                          <input id="weapon_is_equipped" name="attr_weapon_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                        </div><span class="chimera-toggle__label" data-i18n="weapon_is_equipped" for="weapon_is_equipped"></span>
                      </label>
                      <div class="chimera-value weapon__name chimera-value--colon">
                        <label class="chimera-value__label" data-i18n="weapon" for="weapon_name">Weapon</label><span class="chimera-value__value" name="attr_weapon_name"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                        <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value weapon__cost"><span class="chimera-value__value" name="attr_weapon_cost"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="weaponchat_title" name="act_weaponchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_armors_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_armors">
                    <div class="equipment__armor">
                      <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden" value="0"/>
                      <input class="chimera-hidden" name="attr_armor_is_equipped" type="hidden" value="0"/>
                      <label class="chimera-toggle armor__is_equipped chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="armor_is_equipped_title" title="Equip">
                        <div class="chimera-toggle__field">
                          <input id="armor_is_equipped" name="attr_armor_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                        </div><span class="chimera-toggle__label" data-i18n="armor_is_equipped" for="armor_is_equipped">Equip</span>
                      </label>
                      <div class="chimera-value armor__name chimera-value--colon">
                        <label class="chimera-value__label" data-i18n="armor" for="armor_name">Armor</label><span class="chimera-value__value" name="attr_armor_name"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value armor__defense">
                        <label class="chimera-value__label" data-i18n="armor_defense" for="armor_defense">DEF</label><span class="chimera-value__value" name="attr_armor_defense"></span>
                      </div>
                      <div class="chimera-value armor__defense_bonus">
                        <label class="chimera-value__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_armor_defense_bonus"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value">
                        <label class="chimera-value__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_armor_magic_defense_bonus"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value">
                        <label class="chimera-value__label" data-i18n="init" for="armor_initiative">Init.</label><span class="chimera-value__value" name="attr_armor_initiative"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_armor_cost"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="armorchat_title" name="act_armorchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_shields_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_shields">
                    <div class="equipment__shield">
                      <input class="chimera-hidden" name="attr_shield_is_martial" type="hidden" value="0"/>
                      <input class="chimera-hidden" name="attr_shield_is_equipped" type="hidden" value="0"/>
                      <label class="chimera-toggle shield__is_equipped chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="shield_is_equipped_title">
                        <div class="chimera-toggle__field">
                          <input id="shield_is_equipped" name="attr_shield_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                        </div><span class="chimera-toggle__label" data-i18n="shield_is_equipped" for="shield_is_equipped"></span>
                      </label>
                      <div class="chimera-value shield__name chimera-value--colon">
                        <label class="chimera-value__label" data-i18n="shield" for="shield_name">Shield</label><span class="chimera-value__value" name="attr_shield_name"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value shield__defense_bonus">
                        <label class="chimera-value__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_shield_defense_bonus"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value">
                        <label class="chimera-value__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_shield_magic_defense_bonus"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value">
                        <label class="chimera-value__label" data-i18n="init" for="shield_initiative">Init.</label><span class="chimera-value__value" name="attr_shield_initiative"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_shield_cost"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="shieldchat_title" name="act_shieldchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_accessories_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_accessories">
                    <div class="equipment__accessory">
                      <input class="chimera-hidden" name="attr_accessory_is_martial" type="hidden" value="0"/>
                      <input class="chimera-hidden" name="attr_accessory_is_equipped" type="hidden" value="0"/>
                      <label class="chimera-toggle accessory__is_equipped chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="accessory_is_equipped_title" title="Equip">
                        <div class="chimera-toggle__field">
                          <input id="accessory_is_equipped" name="attr_accessory_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                        </div><span class="chimera-toggle__label" data-i18n="accessory_is_equipped" for="accessory_is_equipped">Equip</span>
                      </label>
                      <div class="chimera-value accessory__name chimera-value--colon">
                        <label class="chimera-value__label" data-i18n="accessory" for="accessory_name">Accessory</label><span class="chimera-value__value" name="attr_accessory_name"></span>
                      </div><span class="fabula-diamond">⬥</span>
                      <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_accessory_cost"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="accessorychat_title" name="act_accessorychat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="inventory--view">
                <h2 class="inventory__heading--view"><span data-i18n="inventory">Inventory</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="inventory_collapse_title" title="Toggle inventory">
                    <div class="chimera-toggle__field">
                      <input id="inventory_collapse" name="attr_inventory_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="inventory_collapse" for="inventory_collapse">Toggle inventory</span>
                  </label>
                </h2>
                <div class="chimera-wrapper">
                  <div class="item__ip">
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="ip" for="ip">IP</label><span class="chimera-value__value" name="attr_ip"></span>
                    </div>
                  </div>
                  <div class="item__money">
                    <div class="chimera-value"><span class="chimera-value__value" name="attr_money_name"></span>
                    </div>
                    <div class="chimera-input backpack__money chimera-input--flex-row">
                      <input class="chimera-input__field" data-i18n-placeholder="money_placeholder" data-i18n-title="money_title" id="money" name="attr_money" placeholder="0" type="number"/>
                    </div><img data-i18n-title="coins_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/coins.png" title="Gold Coins"/>
                  </div>
                  <div class="item__table">
                    <label class="chimera-value__label" data-i18n="item">Item</label>
                    <label class="chimera-value__label" data-i18n="ip_cost">IP Cost</label>
                    <label class="chimera-value__label" data-i18n="effect">Effect</label>
                    <button class="chimera-action item__elixir" data-i18n-title="elixir_title" name="act_elixir" title="One creature recovers 50 Mind Points." type="action"><img data-i18n-title="elixir_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elixir.png" title="Elixir"/>
                      <div class="chimera-value item__elixir">
                        <label class="chimera-value__label" data-i18n="elixir">Elixir</label>
                      </div>
                    </button>
                    <div class="chimera-value chimera-value--center"><span class="chimera-value__value">3</span></div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="elixir_effect">One creature recovers 50 Mind Points.</span></div>
                    <button class="chimera-action item__remedy" data-i18n-title="remedy_title" name="act_remedy" title="One creature recovers 50 Hit Points." type="action"><img data-i18n-title="remedy_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/remedy.png" title="Remedy"/>
                      <div class="chimera-value item__remedy">
                        <label class="chimera-value__label" data-i18n="remedy">Remedy</label>
                      </div>
                    </button>
                    <div class="chimera-value chimera-value--center"><span class="chimera-value__value">3</span></div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="remedy_effect">One creature recovers 50 Hit Points.</span></div>
                    <button class="chimera-action item__tonic" data-i18n-title="tonic_title" name="act_tonic" title="One creature recovers from a single status effect." type="action"><img data-i18n-title="tonic_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/tonic.png" title="Tonic"/>
                      <div class="chimera-value item__tonic">
                        <label class="chimera-value__label" data-i18n="tonic">Tonic</label>
                      </div>
                    </button>
                    <div class="chimera-value chimera-value--center"><span class="chimera-value__value">2</span></div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="tonic_effect">One creature recovers from a single status effect.</span></div>
                    <button class="chimera-action item__elementalshard" data-i18n-title="elementalshard_title" name="act_elementalshard" title="One creature suffers 10 damage of a type of your choice (air, bolt, earth, fire, or ice)." type="action"><img data-i18n-title="elementalshard_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elemental-shard.png" title="Elemental Shard"/>
                      <div class="chimera-value item__elementalshard">
                        <label class="chimera-value__label" data-i18n="elementalshard">Elemental Shard</label>
                      </div>
                    </button>
                    <div class="chimera-value chimera-value--center"><span class="chimera-value__value">2</span></div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="elementalshard_effect">One creature suffers 10 damage of a type of your choice (air, bolt, earth, fire, or ice).</span></div>
                    <button class="chimera-action item__magictent" data-i18n-title="magictent_title" name="act_magictent" title="Allows the entire group to rest in the wilderness." type="action"><img data-i18n-title="magictent_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/magic-tent.png" title="Magic Tent"/>
                      <div class="chimera-value item__magictent">
                        <label class="chimera-value__label" data-i18n="magictent">Magic Tent</label>
                      </div>
                    </button>
                    <div class="chimera-value chimera-value--center"><span class="chimera-value__value">4</span></div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="magictent_effect">Allows the entire group to rest in the wilderness.</span></div>
                  </div>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_inventory_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_inventory">
                    <div class="item__table--repeating">
                      <button class="chimera-action item__name chimera-action--no-label-bold" data-i18n-title="inventory_name_title" name="act_inventory_name" type="action">
                        <div class="chimera-value item__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_inventory_name"></span>
                        </div>
                      </button>
                      <div class="chimera-value item__cost chimera-value--center chimera-value--small"><span class="chimera-value__value" name="attr_inventory_cost"></span>
                      </div>
                      <div class="chimera-value item__effect"><span class="chimera-value__value" name="attr_inventory_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_classes_empty" type="hidden"/>
              <div class="classes">
                <h2 class="classes__heading--view"><span data-i18n="classes">Classes</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="classes_collapse_title" title="Toggle classes">
                    <div class="chimera-toggle__field">
                      <input id="classes_collapse" name="attr_classes_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="classes_collapse" for="classes_collapse">Toggle classes</span>
                  </label>
                </h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_classes_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_classes_repeating">No classes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_classes">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit classes--edit">
                      </div>
                      <div class="chimera-repeater--delete classes--delete">
                      </div>
                      <div class="chimera-repeater--view classes--view">
                        <div class="class">
                          <input class="chimera-hidden" name="attr_character_level" type="hidden"/>
                          <input class="chimera-hidden" name="attr_class_hide" type="hidden"/>
                          <input class="chimera-hidden" name="attr_class_skills_taken" type="hidden"/>
                          <input class="chimera-hidden" name="attr_class_benefit" type="hidden"/>
                          <div class="chimera-value class__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_name"></span>
                          </div>
                          <div class="chimera-value class__level">
                            <label class="chimera-value__label" data-i18n="lv" for="class_level">Lv</label><span class="chimera-value__value" name="attr_class_level"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="classchat_title" name="act_classchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value class__skills_taken chimera-value--hide-label"><span class="chimera-value__value" name="attr_class_skills_taken"></span>
                          </div>
                          <div class="chimera-value class__description"><span class="chimera-value__value" name="attr_class_description"></span>
                          </div>
                          <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_class_skill1_level" type="hidden" value="0"/>
                          <div class="class__skill">
                            <div class="chimera-value class__skill_name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_skill1_name"></span>
                            </div>
                            <div class="chimera-value class__skill_level chimera-value--small chimera-value--center">
                              <label class="chimera-value__label" data-i18n="class_skill1_level" for="class_skill1_level">SL</label><span class="chimera-value__value" name="attr_class_skill1_level"></span>
                            </div>
                            <button class="chimera-action send-to-chat" data-i18n-title="skill1chat_title" name="act_skill1chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                            </button>
                            <div class="chimera-value class__skill_description"><span class="chimera-value__value" name="attr_class_skill1_description"></span>
                            </div>
                          </div>
                          <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_class_skill2_level" type="hidden" value="0"/>
                          <div class="class__skill">
                            <div class="chimera-value class__skill_name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_skill2_name"></span>
                            </div>
                            <div class="chimera-value class__skill_level chimera-value--small chimera-value--center">
                              <label class="chimera-value__label" data-i18n="class_skill2_level" for="class_skill2_level">SL</label><span class="chimera-value__value" name="attr_class_skill2_level"></span>
                            </div>
                            <button class="chimera-action send-to-chat" data-i18n-title="skill2chat_title" name="act_skill2chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                            </button>
                            <div class="chimera-value class__skill_description"><span class="chimera-value__value" name="attr_class_skill2_description"></span>
                            </div>
                          </div>
                          <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_class_skill3_level" type="hidden" value="0"/>
                          <div class="class__skill">
                            <div class="chimera-value class__skill_name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_skill3_name"></span>
                            </div>
                            <div class="chimera-value class__skill_level chimera-value--small chimera-value--center">
                              <label class="chimera-value__label" data-i18n="class_skill3_level" for="class_skill3_level">SL</label><span class="chimera-value__value" name="attr_class_skill3_level"></span>
                            </div>
                            <button class="chimera-action send-to-chat" data-i18n-title="skill3chat_title" name="act_skill3chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                            </button>
                            <div class="chimera-value class__skill_description"><span class="chimera-value__value" name="attr_class_skill3_description"></span>
                            </div>
                          </div>
                          <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_class_skill4_level" type="hidden" value="0"/>
                          <div class="class__skill">
                            <div class="chimera-value class__skill_name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_skill4_name"></span>
                            </div>
                            <div class="chimera-value class__skill_level chimera-value--small chimera-value--center">
                              <label class="chimera-value__label" data-i18n="class_skill4_level" for="class_skill4_level">SL</label><span class="chimera-value__value" name="attr_class_skill4_level"></span>
                            </div>
                            <button class="chimera-action send-to-chat" data-i18n-title="skill4chat_title" name="act_skill4chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                            </button>
                            <div class="chimera-value class__skill_description"><span class="chimera-value__value" name="attr_class_skill4_description"></span>
                            </div>
                          </div>
                          <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_class_skill5_level" type="hidden" value="0"/>
                          <div class="class__skill">
                            <div class="chimera-value class__skill_name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_class_skill5_name"></span>
                            </div>
                            <div class="chimera-value class__skill_level chimera-value--small chimera-value--center">
                              <label class="chimera-value__label" data-i18n="class_skill5_level" for="class_skill5_level">SL</label><span class="chimera-value__value" name="attr_class_skill5_level"></span>
                            </div>
                            <button class="chimera-action send-to-chat" data-i18n-title="skill5chat_title" name="act_skill5chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                            </button>
                            <div class="chimera-value class__skill_description"><span class="chimera-value__value" name="attr_class_skill5_description"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="journal--view">
                <h2 class="journal__heading--view"><span data-i18n="journal">Journal</span>
                  <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="journal_collapse_title" title="Toggle journal">
                    <div class="chimera-toggle__field">
                      <input id="journal_collapse" name="attr_journal_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                    </div><span class="chimera-toggle__label" data-i18n="journal_collapse" for="journal_collapse">Toggle journal</span>
                  </label>
                </h2>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_notes">
                    <div class="journal__notes">
                      <div class="chimera-value note__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_note_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="notechat_title" name="act_notechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value note__effect"><span class="chimera-value__value" name="attr_note_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_quests_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_quests">
                    <div class="journal__quests">
                      <div class="chimera-value quest__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_quest_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="questchat_title" name="act_questchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value quest__effect"><span class="chimera-value__value" name="attr_quest_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_projects_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_projects">
                    <div class="journal__projects">
                      <div class="chimera-value project__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_project_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="projectchat_title" name="act_projectchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value project__special"><span class="chimera-value__value" name="attr_project_special"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_friends_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_friends">
                    <div class="journal__friends">
                      <div class="chimera-value friend__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_friend_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="friendchat_title" name="act_friendchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value friend__effect"><span class="chimera-value__value" name="attr_friend_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_creatures_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_creatures">
                    <div class="journal__creatures">
                      <div class="chimera-value creature__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_creature_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="creaturechat_title" name="act_creaturechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value creature__effect"><span class="chimera-value__value" name="attr_creature_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_locations_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_locations">
                    <div class="journal__locations">
                      <div class="chimera-value location__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_location_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="locationchat_title" name="act_locationchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value location__effect"><span class="chimera-value__value" name="attr_location_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_artifacts_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_artifacts">
                    <div class="journal__artifacts">
                      <div class="chimera-value artifact__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_artifact_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="artifactchat_title" name="act_artifactchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value artifact__effect"><span class="chimera-value__value" name="attr_artifact_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_discoveries_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_discoveries">
                    <div class="journal__discoveries">
                      <div class="chimera-value discovery__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_discovery_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="discoverychat_title" name="act_discoverychat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value discovery__effect"><span class="chimera-value__value" name="attr_discovery_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
                <div class="chimera-repeater--simple">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_items_empty" type="hidden" value="0"/>
                  <fieldset class="repeating_items">
                    <div class="journal__items">
                      <div class="chimera-value item__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_item_name"></span>
                      </div>
                      <button class="chimera-action send-to-chat" data-i18n-title="itemchat_title" name="act_itemchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                      </button>
                      <div class="chimera-value item__effect"><span class="chimera-value__value" name="attr_item_effect"></span>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
        </section>
        <section class="character--edit">
              <div class="traits--edit">
                <div class="chimera-input trait__name">
                  <label class="chimera-input__label" data-i18n="character_name" for="character_name">Name</label>
                  <input class="chimera-input__field" data-i18n-placeholder="character_name_placeholder" data-i18n-title="character_name_title" id="character_name" name="attr_character_name" placeholder="Name" title="Name" type="text"/>
                </div>
                <div class="chimera-input trait__pronouns">
                  <label class="chimera-input__label" data-i18n="pronouns" for="pronouns">Pronouns</label>
                  <input class="chimera-input__field" data-i18n-placeholder="pronouns_placeholder" data-i18n-title="pronouns_title" id="pronouns" name="attr_pronouns" placeholder="Pronouns" title="Pronouns" type="text"/>
                </div>
                <div class="chimera-input trait__identity">
                  <label class="chimera-input__label" data-i18n="identity" for="identity">Identity</label>
                  <input class="chimera-input__field" data-i18n-placeholder="identity_placeholder" data-i18n-title="identity_title" id="identity" name="attr_identity" placeholder="Identity" title="Identity" type="text"/>
                </div>
                <div class="chimera-input trait__theme">
                  <label class="chimera-input__label" data-i18n="theme" for="theme">Theme</label>
                  <input class="chimera-input__field" data-i18n-placeholder="theme_placeholder" data-i18n-title="theme_title" id="theme" name="attr_theme" placeholder="Theme" title="Theme" type="text"/>
                </div>
                <div class="chimera-input trait__origin">
                  <label class="chimera-input__label" data-i18n="origin" for="origin">Origin</label>
                  <input class="chimera-input__field" data-i18n-placeholder="origin_placeholder" data-i18n-title="origin_title" id="origin" name="attr_origin" placeholder="Origin" title="Origin" type="text"/>
                </div>
              </div>
              <div class="attributes--edit">
                <div class="attributes__distribution chimera-shadow">
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="jack_of_all_trades">Jack of All Trades</label><span class="chimera-value__value">d8, d8, d8, d8</span>
                  </div>
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="standard">Standard</label><span class="chimera-value__value">d10, d8, d8, d6</span>
                  </div>
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="specialized">Specialized</label><span class="chimera-value__value">d10, d10, d6, d6</span>
                  </div>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="dexterity_max" for="dexterity_max">DEX</label>
                  <select class="chimera-input__field" data-i18n-title="dexterity_max_title" id="dexterity_max" name="attr_dexterity_max" title="Dexterity">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="insight_max" for="insight_max">INS</label>
                  <select class="chimera-input__field" data-i18n-title="insight_max_title" id="insight_max" name="attr_insight_max" title="Insight">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="might_max" for="might_max">MIG</label>
                  <select class="chimera-input__field" data-i18n-title="might_max_title" id="might_max" name="attr_might_max" title="Might">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="willpower_max" for="willpower_max">WLP</label>
                  <select class="chimera-input__field" data-i18n-title="willpower_max_title" id="willpower_max" name="attr_willpower_max" title="Willpower">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
              </div>
              <div class="nav" style="display: flex; flex-direction: row; gap: 4px">
                <button class="chimera-action" data-i18n-title="stats_title" name="act_stats" title="Stats" type="action"><span class="chimera-value__value" data-i18n="stats">Stats</span>
                </button>
                <button class="chimera-action" data-i18n-title="bonds_title" name="act_bonds" title="Bonds" type="action"><span class="chimera-value__value" data-i18n="bonds">Bonds</span>
                </button>
                <button class="chimera-action" data-i18n-title="classes_title" name="act_classes" title="Classes" type="action"><span class="chimera-value__value" data-i18n="classes">Classes</span>
                </button>
                <button class="chimera-action" data-i18n-title="equipment_title" name="act_equipment" title="Equipment" type="action"><span class="chimera-value__value" data-i18n="equipment">Equipment</span>
                </button>
                <button class="chimera-action" data-i18n-title="backpack_title" name="act_backpack" title="Backpack" type="action"><span class="chimera-value__value" data-i18n="backpack">Backpack</span>
                </button>
                <button class="chimera-action" data-i18n-title="magic_title" name="act_magic" title="Magic" type="action"><span class="chimera-value__value" data-i18n="magic">Magic</span>
                </button>
                <button class="chimera-action" data-i18n-title="journal_title" name="act_journal" title="Journal" type="action"><span class="chimera-value__value" data-i18n="journal">Journal</span>
                </button>
                <button class="chimera-action" data-i18n-title="settings_title" name="act_settings" title="Settings" type="action"><span class="chimera-value__value" data-i18n="settings">Settings</span>
                </button>
              </div>
          <div class="character__stats">
                <div class="statistics--edit">
                      <div class="points--edit">
                        <input class="chimera-hidden" name="attr_hp_crisis" type="hidden"/>
                        <div class="point__hp">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="hit_points">Hit Points</h2>
                            <div class="chimera-value point--hp"><span class="chimera-value__value" name="attr_hp_max"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value point--hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                            </div>
                          </div>
                          <div class="chimera-input point--hp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="hp_extra" for="hp_extra">Extra HP</label>
                            <input class="chimera-input__field" data-i18n-placeholder="hp_extra_placeholder" data-i18n-title="hp_extra_title" id="hp_extra" name="attr_hp_extra" placeholder="0" step="5" title="Extra HP" type="number"/>
                          </div><span class="point__helptext" data-i18n="hp_calculation">(MIG x 5) + LEVEL + OTHER</span>
                        </div>
                        <div class="point__mp">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="mind_points">Mind Points</h2>
                            <div class="chimera-value point--mp"><span class="chimera-value__value" name="attr_mp_max"></span>
                            </div>
                          </div>
                          <div class="chimera-input point--mp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="mp_extra" for="mp_extra">Extra MP</label>
                            <input class="chimera-input__field" data-i18n-placeholder="mp_extra_placeholder" data-i18n-title="mp_extra_title" id="mp_extra" name="attr_mp_extra" placeholder="0" step="5" title="Extra MP" type="number"/>
                          </div><span class="point__helptext" data-i18n="mp_calculation">(WLP x 5) + LEVEL + OTHER</span>
                        </div>
                        <div class="point__ip">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="inventory_points">Inventory Points</h2>
                            <div class="chimera-value point--ip"><span class="chimera-value__value" name="attr_ip_max"></span>
                            </div>
                          </div>
                          <div class="chimera-input point--mp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="ip_extra" for="ip_extra">Extra IP</label>
                            <input class="chimera-input__field" data-i18n-placeholder="ip_extra_placeholder" data-i18n-title="ip_extra_title" id="ip_extra" name="attr_ip_extra" placeholder="0" step="2" title="Extra IP" type="number"/>
                          </div><span class="point__helptext" data-i18n="ip_calculation">6 + OTHER</span>
                        </div>
                        <div class="point__initiative">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="initiative">Initiative</h2>
                            <div class="chimera-value point--initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                            </div>
                          </div>
                          <div class="chimera-input point--init-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="initiative_extra" for="initiative_extra">Extra Initiative</label>
                            <input class="chimera-input__field" data-i18n-placeholder="initiative_extra_placeholder" data-i18n-title="initiative_extra_title" id="initiative_extra" name="attr_initiative_extra" placeholder="0" title="Extra Initiative" type="number"/>
                          </div>
                        </div>
                      </div>
                  <div class="affinities--edit">
                    <h2 class="affinities__heading--edit" data-i18n="damage_affinities">Damage Affinities</h2>
                    <div class="chimera-input affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/>
                      <label class="chimera-input__label" data-i18n="physical" for="physical">Physical</label>
                      <select class="chimera-input__field" data-i18n-title="physical_title" id="physical" name="attr_physical" title="Physical Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/>
                      <label class="chimera-input__label" data-i18n="air" for="air">Air</label>
                      <select class="chimera-input__field" data-i18n-title="air_title" id="air" name="attr_air" title="Air Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/>
                      <label class="chimera-input__label" data-i18n="bolt" for="bolt">Bolt</label>
                      <select class="chimera-input__field" data-i18n-title="bolt_title" id="bolt" name="attr_bolt" title="Bolt Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/>
                      <label class="chimera-input__label" data-i18n="dark" for="dark">Dark</label>
                      <select class="chimera-input__field" data-i18n-title="dark_title" id="dark" name="attr_dark" title="Dark Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/>
                      <label class="chimera-input__label" data-i18n="earth" for="earth">Earth</label>
                      <select class="chimera-input__field" data-i18n-title="earth_title" id="earth" name="attr_earth" title="Earth Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/>
                      <label class="chimera-input__label" data-i18n="fire" for="fire">Fire</label>
                      <select class="chimera-input__field" data-i18n-title="fire_title" id="fire" name="attr_fire" title="Fire Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/>
                      <label class="chimera-input__label" data-i18n="ice" for="ice">Ice</label>
                      <select class="chimera-input__field" data-i18n-title="ice_title" id="ice" name="attr_ice" title="Ice Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/>
                      <label class="chimera-input__label" data-i18n="light" for="light">Light</label>
                      <select class="chimera-input__field" data-i18n-title="light_title" id="light" name="attr_light" title="Light Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/>
                      <label class="chimera-input__label" data-i18n="poison" for="poison">Poison</label>
                      <select class="chimera-input__field" data-i18n-title="poison_title" id="poison" name="attr_poison" title="Poison Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="status-immunities--edit">
                  <h2 class="status-immunities__heading--edit" data-i18n="status_immunities">Status Immunities</h2>
                  <label class="chimera-checkbox status-immunity status-immunity--slow chimera-checkbox--column" data-i18n-title="slow_immunity_title" title="Slow temporarily reduces your Dexterity die size by one.">
                    <div class="chimera-checkbox__field">
                      <input id="slow_immunity" name="attr_slow_immunity" type="checkbox"/><img data-i18n-title="slow_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/slow-pixerelia.png" title="Slow temporarily reduces your Dexterity die size by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="slow_immunity" for="slow_immunity">Slow</span>
                  </label>
                  <label class="chimera-checkbox status-immunity status-immunity--dazed chimera-checkbox--column" data-i18n-title="dazed_immunity_title" title="Dazed temporarily reduces your Insight die size by one.">
                    <div class="chimera-checkbox__field">
                      <input id="dazed_immunity" name="attr_dazed_immunity" type="checkbox"/><img data-i18n-title="dazed_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/dazed-pixerelia.png" title="Dazed temporarily reduces your Insight die size by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="dazed_immunity" for="dazed_immunity">Dazed</span>
                  </label>
                  <label class="chimera-checkbox status-immunity status-immunity--enraged chimera-checkbox--column" data-i18n-title="enraged_immunity_title" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one.">
                    <div class="chimera-checkbox__field">
                      <input id="enraged_immunity" name="attr_enraged_immunity" type="checkbox"/><img data-i18n-title="enraged_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/enraged-pixerelia.png" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="enraged_immunity" for="enraged_immunity">Enraged</span>
                  </label>
                  <label class="chimera-checkbox status-immunity status-immunity--weak chimera-checkbox--column" data-i18n-title="weak_immunity_title" title="Weak temporarily reduces your Might die size by one.">
                    <div class="chimera-checkbox__field">
                      <input id="weak_immunity" name="attr_weak_immunity" type="checkbox"/><img data-i18n-title="weak_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/weak-pixerelia.png" title="Weak temporarily reduces your Might die size by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="weak_immunity" for="weak_immunity">Weak</span>
                  </label>
                  <label class="chimera-checkbox status-immunity status-immunity--shaken chimera-checkbox--column" data-i18n-title="shaken_immunity_title" title="Shaken temporarily reduces your Willpower die size by one.">
                    <div class="chimera-checkbox__field">
                      <input id="shaken_immunity" name="attr_shaken_immunity" type="checkbox"/><img data-i18n-title="shaken_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/shaken-pixerelia.png" title="Shaken temporarily reduces your Willpower die size by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="shaken_immunity" for="shaken_immunity">Shaken</span>
                  </label>
                  <label class="chimera-checkbox status-immunity status-immunity--poisoned chimera-checkbox--column" data-i18n-title="poisoned_immunity_title" title="Poisoned temporarily reduces your Might and Willpower die sizes by one.">
                    <div class="chimera-checkbox__field">
                      <input id="poisoned_immunity" name="attr_poisoned_immunity" type="checkbox"/><img data-i18n-title="poisoned_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/poisoned-pixerelia.png" title="Poisoned temporarily reduces your Might and Willpower die sizes by one."/>
                    </div><span class="chimera-checkbox__label" data-i18n="poisoned_immunity" for="poisoned_immunity">Poisoned</span>
                  </label>
                </div>
                <div class="rolls">
                  <h2 class="rolls__heading--edit"><span data-i18n="custom_checks">Custom Checks</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="rolls_collapse_title" title="Toggle rolls">
                      <div class="chimera-toggle__field">
                        <input id="rolls_collapse" name="attr_rolls_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="rolls_collapse" for="rolls_collapse">Toggle rolls</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rolls_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_rolls_repeating">No rolls saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_rolls">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit rolls--edit">
                          <div class="roll">
                            <div class="chimera-input roll__attr1 chimera-input--center chimera-input--smallest">
                              <label class="chimera-input__label" data-i18n="check_attr1" for="check_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="check_attr1_title" id="check_attr1" name="attr_check_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input roll__attr2 chimera-input--center chimera-input--smallest">
                              <label class="chimera-input__label" data-i18n="check_attr2" for="check_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="check_attr2_title" id="check_attr2" name="attr_check_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input roll__description">
                              <label class="chimera-input__label" data-i18n="check_description" for="check_description">Custom Check</label>
                              <input class="chimera-input__field" data-i18n-placeholder="check_description_placeholder" data-i18n-title="check_description_title" id="check_description" name="attr_check_description" placeholder="Custom Check" title="Custom Check" type="text"/>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete rolls--delete">
                          <div class="roll">
                            <div class="chimera-value roll__description"><span class="chimera-value__value" name="attr_check_description"></span>
                            </div>
                            <div class="roll__offensive"><span class="fabula-diamond">⬥</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_check_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_check_attr2"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view rolls--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__bonds">
                <div class="bonds--edit">
                  <h2 class="bonds__heading--edit"><span data-i18n="bonds">Bonds</span>
                  </h2>
                  <div class="chimera-wrapper">
                    <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                    <div class="bond bond--1">
                      <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond1_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond1_name_placeholder" data-i18n-title="bond1_name_title" id="bond1_name" name="attr_bond1_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond1_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond1_approval_title" id="bond1_approval" name="attr_bond1_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond1_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond1_allegiance_title" id="bond1_allegiance" name="attr_bond1_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond1_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond1_fondness_title" id="bond1_fondness" name="attr_bond1_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond1_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond1_description_title" id="bond1_description" name="attr_bond1_description" type="textarea"></textarea>
                      </div>
                    </div>
                    <div class="bond bond--2">
                      <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond2_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond2_name_placeholder" data-i18n-title="bond2_name_title" id="bond2_name" name="attr_bond2_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond2_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond2_approval_title" id="bond2_approval" name="attr_bond2_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond2_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond2_allegiance_title" id="bond2_allegiance" name="attr_bond2_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond2_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond2_fondness_title" id="bond2_fondness" name="attr_bond2_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond2_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond2_description_title" id="bond2_description" name="attr_bond2_description" type="textarea"></textarea>
                      </div>
                    </div>
                    <div class="bond bond--3">
                      <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond3_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond3_name_placeholder" data-i18n-title="bond3_name_title" id="bond3_name" name="attr_bond3_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond3_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond3_approval_title" id="bond3_approval" name="attr_bond3_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond3_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond3_allegiance_title" id="bond3_allegiance" name="attr_bond3_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond3_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond3_fondness_title" id="bond3_fondness" name="attr_bond3_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond3_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond3_description_title" id="bond3_description" name="attr_bond3_description" type="textarea"></textarea>
                      </div>
                    </div>
                    <div class="bond bond--4">
                      <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond4_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond4_name_placeholder" data-i18n-title="bond4_name_title" id="bond4_name" name="attr_bond4_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond4_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond4_approval_title" id="bond4_approval" name="attr_bond4_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond4_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond4_allegiance_title" id="bond4_allegiance" name="attr_bond4_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond4_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond4_fondness_title" id="bond4_fondness" name="attr_bond4_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond4_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond4_description_title" id="bond4_description" name="attr_bond4_description" type="textarea"></textarea>
                      </div>
                    </div>
                    <div class="bond bond--5">
                      <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond5_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond5_name_placeholder" data-i18n-title="bond5_name_title" id="bond5_name" name="attr_bond5_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond5_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond5_approval_title" id="bond5_approval" name="attr_bond5_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond5_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond5_allegiance_title" id="bond5_allegiance" name="attr_bond5_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond5_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond5_fondness_title" id="bond5_fondness" name="attr_bond5_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond5_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond5_description_title" id="bond5_description" name="attr_bond5_description" type="textarea"></textarea>
                      </div>
                    </div>
                    <div class="bond bond--6">
                      <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                      <div class="chimera-input bond__name">
                        <label class="chimera-input__label" data-i18n="bond_name" for="bond6_name">Bond Name</label>
                        <input class="chimera-input__field" data-i18n-placeholder="bond6_name_placeholder" data-i18n-title="bond6_name_title" id="bond6_name" name="attr_bond6_name" type="text"/>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_approval" for="bond6_approval">Approval</label>
                        <select class="chimera-input__field" data-i18n-title="bond6_approval_title" id="bond6_approval" name="attr_bond6_approval">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="admiration" value="admiration">Admiration</option>
                          <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond6_allegiance">Allegiance</label>
                        <select class="chimera-input__field" data-i18n-title="bond6_allegiance_title" id="bond6_allegiance" name="attr_bond6_allegiance">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                          <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__emotion chimera-input--center">
                        <label class="chimera-input__label" data-i18n="bond_fondness" for="bond6_fondness">Fondness</label>
                        <select class="chimera-input__field" data-i18n-title="bond6_fondness_title" id="bond6_fondness" name="attr_bond6_fondness">
                          <option data-i18n="none" selected="selected" value="">—</option>
                          <option data-i18n="affection" value="affection">Affection</option>
                          <option data-i18n="hatred" value="hatred">Hatred</option>
                        </select>
                      </div>
                      <div class="chimera-input bond__description">
                        <label class="chimera-input__label" data-i18n="bond_description" for="bond6_description">Description</label>
                        <textarea class="chimera-input__field" data-i18n-title="bond6_description_title" id="bond6_description" name="attr_bond6_description" type="textarea"></textarea>
                      </div>
                    </div>
                  </div>
                </div>
          </div>
          <div class="character__classes">
                <div class="classes--edit">
                  <h2 class="classes__heading--edit"><span data-i18n="classes">Classes</span>
                  </h2>
                  <input class="chimera-hidden" name="attr_class_hp_total" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_class_mp_total" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_class_ip_total" type="hidden" value="0"/>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_classes_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_classes_repeating">No classes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_classes">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit classes--edit">
                          <div class="class">
                            <input class="chimera-hidden" name="attr_character_level" type="hidden"/>
                            <input class="chimera-hidden" name="attr_class_hide" type="hidden"/>
                            <input class="chimera-hidden" name="attr_class_skills_taken" type="hidden"/>
                            <input class="chimera-hidden" name="attr_class_benefit" type="hidden"/>
                            <label class="chimera-toggle class__hide chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="class_hide_title" title="Hide">
                              <div class="chimera-toggle__field">
                                <input id="class_hide" name="attr_class_hide" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                              </div><span class="chimera-toggle__label" data-i18n="class_hide" for="class_hide">Hide</span>
                            </label>
                            <div class="chimera-input class__name--view">
                              <label class="chimera-input__label" data-i18n="class_name" for="class_name">Name</label><span class="chimera-input__field" name="attr_class_name"></span>
                            </div>
                            <div class="chimera-input class__name">
                              <label class="chimera-input__label" data-i18n="class_name" for="class_name">Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="class_name_placeholder" data-i18n-title="class_name_title" id="class_name" name="attr_class_name" placeholder="Name" title="Name" type="text"/>
                            </div>
                            <div class="chimera-input class__level chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="class_level" for="class_level">Level</label><span class="chimera-input__field" name="attr_class_level"></span>
                            </div>
                            <div class="chimera-input class__special">
                              <label class="chimera-input__label" data-i18n="class_special" for="class_special">Special</label>
                              <input class="chimera-input__field" data-i18n-placeholder="class_special_placeholder" data-i18n-title="class_special_title" id="class_special" name="attr_class_special" placeholder="Special" title="Special" type="text"/>
                            </div>
                            <div class="chimera-input class__skills_taken chimera-input--hide-label">
                              <label class="chimera-input__label" data-i18n="class_skills_taken" for="class_skills_taken">Skills Taken</label><span class="chimera-input__field" name="attr_class_skills_taken"></span>
                            </div>
                            <div class="chimera-input class__benefit chimera-input--center">
                              <label class="chimera-input__label" data-i18n="class_benefit" for="class_benefit">Free Benefit</label>
                              <select class="chimera-input__field" data-i18n-title="class_benefit_title" id="class_benefit" name="attr_class_benefit" title="Free Benefit">
                                <option data-i18n="plusHP" selected="selected" value="hp">+5 HP</option>
                                <option data-i18n="plusMP" value="mp">+5 MP</option>
                                <option data-i18n="plusIP" value="ip">+2 IP</option>
                              </select>
                            </div>
                            <label class="chimera-checkbox class__martialmelee chimera-checkbox--column-reverse" data-i18n-title="class_martialmelee_title" title="Martial Melee">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialmelee" name="attr_class_martialmelee" type="checkbox"/><img data-i18n-title="martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Is Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialmelee" for="class_martialmelee">Martial Melee</span>
                            </label>
                            <label class="chimera-checkbox class__martialranged chimera-checkbox--column-reverse" data-i18n-title="class_martialranged_title" title="Martial Ranged">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialranged" name="attr_class_martialranged" type="checkbox"/><img data-i18n-title="martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Is Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialranged" for="class_martialranged">Martial Ranged</span>
                            </label>
                            <label class="chimera-checkbox class__martialarmor chimera-checkbox--column-reverse" data-i18n-title="class_martialarmor_title" title="Martial Armor">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialarmor" name="attr_class_martialarmor" type="checkbox"/><img data-i18n-title="martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Is Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialarmor" for="class_martialarmor">Martial Armor</span>
                            </label>
                            <label class="chimera-checkbox class__martialshield chimera-checkbox--column-reverse" data-i18n-title="class_martialshield_title" title="Martial Shield">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialshield" name="attr_class_martialshield" type="checkbox"/><img data-i18n-title="martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Is Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialshield" for="class_martialshield">Martial Shield</span>
                            </label>
                            <div class="chimera-input class__description">
                              <label class="chimera-input__label" data-i18n="class_description" for="class_description">Description</label>
                              <textarea class="chimera-input__field" data-i18n-title="class_description_title" id="class_description" name="attr_class_description" title="Description" type="textarea"></textarea>
                            </div>
                            <div class="class__skill">
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill1_name" for="class_skill1_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill1_name_placeholder" data-i18n-title="class_skill1_name_title" id="class_skill1_name" name="attr_class_skill1_name" placeholder="Skill Name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill1_level" for="class_skill1_level">SL</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill1_level_placeholder" data-i18n-title="class_skill1_level_title" id="class_skill1_level" min="0" name="attr_class_skill1_level" placeholder="0" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill1_description" for="class_skill1_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill1_description_title" id="class_skill1_description" name="attr_class_skill1_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill2_name" for="class_skill2_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill2_name_placeholder" data-i18n-title="class_skill2_name_title" id="class_skill2_name" name="attr_class_skill2_name" placeholder="Skill Name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill2_level" for="class_skill2_level">SL</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill2_level_placeholder" data-i18n-title="class_skill2_level_title" id="class_skill2_level" min="0" name="attr_class_skill2_level" placeholder="0" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill2_description" for="class_skill2_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill2_description_title" id="class_skill2_description" name="attr_class_skill2_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill3_name" for="class_skill3_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill3_name_placeholder" data-i18n-title="class_skill3_name_title" id="class_skill3_name" name="attr_class_skill3_name" placeholder="Skill Name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill3_level" for="class_skill3_level">SL</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill3_level_placeholder" data-i18n-title="class_skill3_level_title" id="class_skill3_level" min="0" name="attr_class_skill3_level" placeholder="0" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill3_description" for="class_skill3_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill3_description_title" id="class_skill3_description" name="attr_class_skill3_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill4_name" for="class_skill4_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill4_name_placeholder" data-i18n-title="class_skill4_name_title" id="class_skill4_name" name="attr_class_skill4_name" placeholder="Skill Name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill4_level" for="class_skill4_level">SL</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill4_level_placeholder" data-i18n-title="class_skill4_level_title" id="class_skill4_level" min="0" name="attr_class_skill4_level" placeholder="0" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill4_description" for="class_skill4_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill4_description_title" id="class_skill4_description" name="attr_class_skill4_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill5_name" for="class_skill5_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill5_name_placeholder" data-i18n-title="class_skill5_name_title" id="class_skill5_name" name="attr_class_skill5_name" placeholder="Skill Name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill5_level" for="class_skill5_level">SL</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_skill5_level_placeholder" data-i18n-title="class_skill5_level_title" id="class_skill5_level" min="0" name="attr_class_skill5_level" placeholder="0" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill5_description" for="class_skill5_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill5_description_title" id="class_skill5_description" name="attr_class_skill5_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_heroic_skill_name" for="class_heroic_skill_name">Heroic Skill</label>
                                <input class="chimera-input__field" data-i18n-placeholder="class_heroic_skill_name_placeholder" data-i18n-title="class_heroic_skill_name_title" id="class_heroic_skill_name" name="attr_class_heroic_skill_name" placeholder="Heroic Skill" title="Heroic Skill" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_heroic_skill_description" for="class_heroic_skill_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_heroic_skill_description_title" id="class_heroic_skill_description" name="attr_class_heroic_skill_description" title="Description" type="textarea"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete classes--delete">
                          <div class="class">
                            <div class="chimera-value class__name"><span class="chimera-value__value" name="attr_class_name"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value class__level"><span class="chimera-value__value" name="attr_class_level"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view classes--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__equipment">
                <div class="weapons">
                  <h2 class="weapons__heading--edit"><span data-i18n="weapons">Weapons</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="weapons_collapse_title" title="Toggle weapons">
                      <div class="chimera-toggle__field">
                        <input id="weapons_collapse" name="attr_weapons_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="weapons_collapse" for="weapons_collapse">Toggle weapons</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_weapons">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit weapons--edit">
                          <div class="weapon">
                            <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                            <input class="chimera-hidden" name="attr_weapon_is_equipped" type="hidden"/>
                            <div class="chimera-input weapon__name">
                              <label class="chimera-input__label" data-i18n="weapon_name" for="weapon_name">Weapon Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="weapon_name_placeholder" data-i18n-title="weapon_name_title" id="weapon_name" name="attr_weapon_name" placeholder="Weapon Name" title="Weapon Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox weapon__martial chimera-checkbox--column-reverse" data-i18n-title="weapon_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="weapon_is_martial" name="attr_weapon_is_martial" type="checkbox"/><img data-i18n-title="weapon_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="weapon_is_martial" for="weapon_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input weapon__range chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_range" for="weapon_range">Range</label>
                              <div class="chimera-switch">
                                <input name="attr_weapon_range" type="hidden"/>
                                <div class="chimera-switch__group">
                                  <label class="chimera-switch__label">
                                    <input id="weapon_range" name="attr_weapon_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                  </label>
                                  <label class="chimera-switch__label">
                                    <input id="weapon_range" name="attr_weapon_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <label class="chimera-toggle weapon__is_equipped chimera-toggle--column-reverse chimera-toggle--tiny" data-i18n-title="weapon_is_equipped_title" title="Equip">
                              <div class="chimera-toggle__field">
                                <input id="weapon_is_equipped" name="attr_weapon_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                              </div><span class="chimera-toggle__label" data-i18n="weapon_is_equipped" for="weapon_is_equipped">Equip</span>
                            </label>
                            <div class="chimera-input weapon__category chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_category" for="weapon_category">Category</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_category_title" id="weapon_category" name="attr_weapon_category" title="Category">
                                <option data-i18n="arcane" selected="selected" value="arcane">Arcane</option>
                                <option data-i18n="bow" value="bow">Bow</option>
                                <option data-i18n="brawling" value="brawling">Brawling</option>
                                <option data-i18n="dagger" selected="selected" value="dagger">Dagger</option>
                                <option data-i18n="firearm" value="firearm">Firearm</option>
                                <option data-i18n="flail" value="flail">Flail</option>
                                <option data-i18n="heavy" value="heavy">Heavy</option>
                                <option data-i18n="spear" value="spear">Spear</option>
                                <option data-i18n="sword" value="sword">Sword</option>
                                <option data-i18n="thrown" value="thrown">Thrown</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__attr1 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_attr1" for="weapon_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_attr1_title" id="weapon_attr1" name="attr_weapon_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__attr2 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_attr2" for="weapon_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_attr2_title" id="weapon_attr2" name="attr_weapon_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" selected="selected" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_accuracy" for="weapon_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-placeholder="weapon_accuracy_placeholder" data-i18n-title="weapon_accuracy_title" id="weapon_accuracy" min="0" name="attr_weapon_accuracy" placeholder="0" title="Accuracy" type="number"/>
                            </div>
                            <div class="chimera-input weapon__hands chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_hands" for="weapon_hands">Hands</label>
                              <input class="chimera-input__field" data-i18n-placeholder="weapon_hands_placeholder" data-i18n-title="weapon_hands_title" id="weapon_hands" max="2" min="1" name="attr_weapon_hands" placeholder="0" title="Hands" type="number"/>
                            </div>
                            <div class="chimera-input weapon__cost chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_cost" for="weapon_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="weapon_cost_placeholder" data-i18n-title="weapon_cost_title" id="weapon_cost" min="0" name="attr_weapon_cost" placeholder="0" step="50" title="Cost" type="number"/>
                            </div>
                            <div class="chimera-input weapon__type chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_type" for="weapon_type">Damage Type</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_type_title" id="weapon_type" name="attr_weapon_type" title="Damage Type">
                                <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                                <option data-i18n="air" value="air">Air</option>
                                <option data-i18n="bolt" value="bolt">Bolt</option>
                                <option data-i18n="dark" value="dark">Dark</option>
                                <option data-i18n="earth" value="earth">Earth</option>
                                <option data-i18n="fire" value="fire">Fire</option>
                                <option data-i18n="ice" value="ice">Ice</option>
                                <option data-i18n="light" value="light">Light</option>
                                <option data-i18n="poison" value="poison">Poison</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__damage chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_damage" for="weapon_damage">Damage</label>
                              <input class="chimera-input__field" data-i18n-placeholder="weapon_damage_placeholder" data-i18n-title="weapon_damage_title" id="weapon_damage" min="0" name="attr_weapon_damage" placeholder="0" title="Damage" type="number"/>
                            </div>
                            <div class="chimera-input weapon__special">
                              <label class="chimera-input__label" data-i18n="weapon_special" for="weapon_special">Special</label>
                              <textarea class="chimera-input__field" data-i18n-title="weapon_special_title" id="weapon_special" name="attr_weapon_special" title="Special" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete weapons--delete">
                          <div class="weapon">
                            <div class="chimera-value weapon__name"><span class="chimera-value__value" name="attr_weapon_name"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view weapons--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="armors">
                  <h2 class="armors__heading--edit"><span data-i18n="armor">Armor</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="armors_collapse_title" title="Toggle armors">
                      <div class="chimera-toggle__field">
                        <input id="armors_collapse" name="attr_armors_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="armors_collapse" for="armors_collapse">Toggle armors</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_armors_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_armors_repeating">No armors saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_armors">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit armors--edit">
                          <div class="armor">
                            <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                            <input class="chimera-hidden" name="attr_armor_is_equipped" type="hidden"/>
                            <label class="chimera-toggle armor__is_equipped chimera-toggle--column-reverse chimera-toggle--tiny" data-i18n-title="armor_is_equipped_title" title="Equip">
                              <div class="chimera-toggle__field">
                                <input id="armor_is_equipped" name="attr_armor_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                              </div><span class="chimera-toggle__label" data-i18n="armor_is_equipped" for="armor_is_equipped">Equip</span>
                            </label>
                            <div class="chimera-input armor__name">
                              <label class="chimera-input__label" data-i18n="armor_name" for="armor_name">Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_name_placeholder" data-i18n-title="armor_name_title" id="armor_name" name="attr_armor_name" placeholder="Name" title="Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox armor__martial chimera-checkbox--column-reverse" data-i18n-title="armor_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="armor_is_martial" name="attr_armor_is_martial" type="checkbox"/><img data-i18n-title="armor_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="armor_is_martial" for="armor_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input armor__defense chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_defense" for="armor_defense">DEF</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_defense_placeholder" data-i18n-title="armor_defense_title" id="armor_defense" name="attr_armor_defense" placeholder="0" title="Defense" type="number"/>
                            </div>
                            <div class="chimera-input armor__defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_defense_bonus_placeholder" data-i18n-title="armor_defense_bonus_title" id="armor_defense_bonus" name="attr_armor_defense_bonus" placeholder="0" title="Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input armor__magic_defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_magic_defense_bonus_placeholder" data-i18n-title="armor_magic_defense_bonus_title" id="armor_magic_defense_bonus" name="attr_armor_magic_defense_bonus" placeholder="0" title="Magic Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input armor__initiative chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_initiative" for="armor_initiative">Initiative</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_initiative_placeholder" data-i18n-title="armor_initiative_title" id="armor_initiative" name="attr_armor_initiative" placeholder="0" title="Initiative" type="number"/>
                            </div>
                            <div class="chimera-input armor__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_cost" for="armor_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="armor_cost_placeholder" data-i18n-title="armor_cost_title" id="armor_cost" min="0" name="attr_armor_cost" placeholder="0" step="50" title="Cost" type="number" value="0"/>
                            </div>
                            <div class="chimera-input armor__special">
                              <label class="chimera-input__label" data-i18n="armor_special" for="armor_special">Special</label>
                              <textarea class="chimera-input__field" data-i18n-title="armor_special_title" id="armor_special" name="attr_armor_special" title="Special" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete armors--delete">
                          <div class="armor">
                            <div class="chimera-value armor__name"><span class="chimera-value__value" name="attr_armor_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view armors--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="shields">
                  <h2 class="shields__heading--edit"><span data-i18n="shield">Shield</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="shields_collapse_title" title="Toggle shields">
                      <div class="chimera-toggle__field">
                        <input id="shields_collapse" name="attr_shields_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="shields_collapse" for="shields_collapse">Toggle shields</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_shields_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_shields_repeating">No shields saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_shields">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit shields--edit">
                          <div class="shield">
                            <input class="chimera-hidden" name="attr_shield_is_martial" type="hidden"/>
                            <input class="chimera-hidden" name="attr_shield_is_equipped" type="hidden"/>
                            <label class="chimera-toggle shield__is_equipped chimera-toggle--column-reverse chimera-toggle--tiny" data-i18n-title="shield_is_equipped_title" title="Equip">
                              <div class="chimera-toggle__field">
                                <input id="shield_is_equipped" name="attr_shield_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                              </div><span class="chimera-toggle__label" data-i18n="shield_is_equipped" for="shield_is_equipped">Equip</span>
                            </label>
                            <div class="chimera-input shield__name">
                              <label class="chimera-input__label" data-i18n="shield_name" for="shield_name">Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="shield_name_placeholder" data-i18n-title="shield_name_title" id="shield_name" name="attr_shield_name" placeholder="Name" title="Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox shield__martial chimera-checkbox--column-reverse" data-i18n-title="shield_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="shield_is_martial" name="attr_shield_is_martial" type="checkbox"/><img data-i18n-title="shield_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="shield_is_martial" for="shield_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input shield__defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label>
                              <input class="chimera-input__field" data-i18n-placeholder="shield_defense_bonus_placeholder" data-i18n-title="shield_defense_bonus_title" id="shield_defense_bonus" name="attr_shield_defense_bonus" placeholder="0" title="Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input shield__magic_defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label>
                              <input class="chimera-input__field" data-i18n-placeholder="shield_magic_defense_bonus_placeholder" data-i18n-title="shield_magic_defense_bonus_title" id="shield_magic_defense_bonus" name="attr_shield_magic_defense_bonus" placeholder="0" title="Magic Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input shield__initiative chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_initiative" for="shield_initiative">Initiative</label>
                              <input class="chimera-input__field" data-i18n-placeholder="shield_initiative_placeholder" data-i18n-title="shield_initiative_title" id="shield_initiative" name="attr_shield_initiative" placeholder="0" title="Initiative" type="number"/>
                            </div>
                            <div class="chimera-input shield__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_cost" for="shield_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="shield_cost_placeholder" data-i18n-title="shield_cost_title" id="shield_cost" min="0" name="attr_shield_cost" placeholder="0" step="50" title="Cost" type="number" value="0"/>
                            </div>
                            <div class="chimera-input shield__special">
                              <label class="chimera-input__label" data-i18n="shield_special" for="shield_special">Special</label>
                              <textarea class="chimera-input__field" data-i18n-title="shield_special_title" id="shield_special" name="attr_shield_special" title="Special" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete shields--delete">
                          <div class="shield">
                            <div class="chimera-value shield__name"><span class="chimera-value__value" name="attr_shield_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view shields--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="accessories">
                  <h2 class="accessories__heading--edit"><span data-i18n="accessories">Accessories</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="accessories_collapse_title" title="Toggle accessories">
                      <div class="chimera-toggle__field">
                        <input id="accessories_collapse" name="attr_accessories_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="accessories_collapse" for="accessories_collapse">Toggle accessories</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_accessories_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_accessories_repeating">No accessories saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_accessories">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit accessories--edit">
                          <div class="accessory">
                            <input class="chimera-hidden" name="attr_accessory_is_martial" type="hidden"/>
                            <input class="chimera-hidden" name="attr_accessory_is_equipped" type="hidden"/>
                            <label class="chimera-toggle accessory__is_equipped chimera-toggle--column-reverse chimera-toggle--tiny" data-i18n-title="accessory_is_equipped_title" title="Equip">
                              <div class="chimera-toggle__field">
                                <input id="accessory_is_equipped" name="attr_accessory_is_equipped" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="toggleOff_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-off.svg" title="Off"/><img class="chimera-toggle--on" data-i18n-title="toggleOn_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/toggle-on.svg" title="On"/>
                              </div><span class="chimera-toggle__label" data-i18n="accessory_is_equipped" for="accessory_is_equipped">Equip</span>
                            </label>
                            <div class="chimera-input accessory__name">
                              <label class="chimera-input__label" data-i18n="accessory_name" for="accessory_name">Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="accessory_name_placeholder" data-i18n-title="accessory_name_title" id="accessory_name" name="attr_accessory_name" placeholder="Name" title="Name" type="text"/>
                            </div>
                            <div class="chimera-input accessory__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="accessory_cost" for="accessory_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="accessory_cost_placeholder" data-i18n-title="accessory_cost_title" id="accessory_cost" min="0" name="attr_accessory_cost" placeholder="0" step="50" title="Cost" type="number" value="0"/>
                            </div>
                            <div class="chimera-input accessory__special">
                              <label class="chimera-input__label" data-i18n="accessory_special" for="accessory_special">Special</label>
                              <textarea class="chimera-input__field" data-i18n-title="accessory_special_title" id="accessory_special" name="attr_accessory_special" title="Special" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete accessories--delete">
                          <div class="accessory">
                            <div class="chimera-value accessory__name"><span class="chimera-value__value" name="attr_accessory_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view accessories--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__backpack">
                <div class="inventory">
                  <h2 class="inventory__heading--edit"><span data-i18n="inventory">Inventory</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="inventory_collapse_title" title="Toggle inventory">
                      <div class="chimera-toggle__field">
                        <input id="inventory_collapse" name="attr_inventory_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="inventory_collapse" for="inventory_collapse">Toggle inventory</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_inventory_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_inventory_repeating">No inventory saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_inventory">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit inventory--edit">
                          <div class="item">
                            <div class="chimera-input item__name">
                              <label class="chimera-input__label" data-i18n="inventory_name" for="inventory_name">Item</label>
                              <input class="chimera-input__field" data-i18n-placeholder="inventory_name_placeholder" data-i18n-title="inventory_name_title" id="inventory_name" name="attr_inventory_name" placeholder="Item" title="Item" type="text"/>
                            </div>
                            <div class="chimera-input item__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="inventory_cost" for="inventory_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="inventory_cost_placeholder" data-i18n-title="inventory_cost_title" id="inventory_cost" name="attr_inventory_cost" placeholder="0" title="Cost" type="number"/>
                            </div>
                            <div class="chimera-input item__effect">
                              <label class="chimera-input__label" data-i18n="inventory_effect" for="inventory_effect">Effect</label>
                              <textarea class="chimera-input__field" data-i18n-title="inventory_effect_title" id="inventory_effect" name="attr_inventory_effect" title="Effect" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete inventory--delete">
                          <div class="item">
                            <div class="chimera-value item__name"><span class="chimera-value__value" name="attr_inventory_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view inventory--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="projects">
                  <h2 class="projects__heading--edit"><span data-i18n="projects">Projects</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="projects_collapse_title" title="Toggle projects">
                      <div class="chimera-toggle__field">
                        <input id="projects_collapse" name="attr_projects_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="projects_collapse" for="projects_collapse">Toggle projects</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_projects_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_projects_repeating">No projects saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_projects">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit projects--edit">
                          <div class="project">
                            <div class="chimera-input project__name">
                              <label class="chimera-input__label" data-i18n="project_name" for="project_name">Project</label>
                              <input class="chimera-input__field" data-i18n-placeholder="project_name_placeholder" data-i18n-title="project_name_title" id="project_name" name="attr_project_name" placeholder="Project" title="Project" type="text"/>
                            </div>
                            <div class="chimera-input project__cost chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="project_cost" for="project_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-placeholder="project_cost_placeholder" data-i18n-title="project_cost_title" id="project_cost" name="attr_project_cost" placeholder="0" title="Cost" type="number"/>
                            </div>
                            <div class="chimera-input project__clock chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="project_clock" for="project_clock">Clock</label>
                              <input class="chimera-input__field" data-i18n-placeholder="project_clock_placeholder" data-i18n-title="project_clock_title" id="project_clock" name="attr_project_clock" placeholder="0" title="Clock" type="number"/>
                            </div>
                            <div class="chimera-input project__special">
                              <label class="chimera-input__label" data-i18n="project_special" for="project_special">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="project_special_title" id="project_special" name="attr_project_special" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete projects--delete">
                          <div class="project">
                            <div class="chimera-value project__name"><span class="chimera-value__value" name="attr_project_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view projects--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="items">
                  <h2 class="items__heading--edit"><span data-i18n="items">Items</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="items_collapse_title" title="Toggle items">
                      <div class="chimera-toggle__field">
                        <input id="items_collapse" name="attr_items_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="items_collapse" for="items_collapse">Toggle items</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_items_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_items_repeating">No items saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_items">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit items--edit">
                          <div class="item">
                            <div class="chimera-input item__name">
                              <label class="chimera-input__label" data-i18n="item_name" for="item_name">Item</label>
                              <input class="chimera-input__field" data-i18n-placeholder="item_name_placeholder" data-i18n-title="item_name_title" id="item_name" name="attr_item_name" placeholder="Item" title="Item" type="text"/>
                            </div>
                            <div class="chimera-input item__effect">
                              <label class="chimera-input__label" data-i18n="item_effect" for="item_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="item_effect_title" id="item_effect" name="attr_item_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete items--delete">
                          <div class="item">
                            <div class="chimera-value item__name"><span class="chimera-value__value" name="attr_item_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view items--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__magic">
                <div class="spells">
                  <h2 class="spells__heading--edit"><span data-i18n="spells">Spells</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="spells_collapse_title" title="Toggle spells">
                      <div class="chimera-toggle__field">
                        <input id="spells_collapse" name="attr_spells_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="spells_collapse" for="spells_collapse">Toggle spells</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_spells">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit spells--edit">
                          <div class="spell">
                            <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                            <div class="chimera-input spell__name">
                              <label class="chimera-input__label" data-i18n="spell_name" for="spell_name">Spell Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_name_placeholder" data-i18n-title="spell_name_title" id="spell_name" name="attr_spell_name" placeholder="Spell Name" title="Spell Name" type="text"/>
                            </div>
                            <div class="chimera-input spell__mp chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="spell_mp" for="spell_mp">MP</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_mp_placeholder" data-i18n-title="spell_mp_title" id="spell_mp" name="attr_spell_mp" placeholder="MP" title="MP" type="text"/>
                            </div>
                            <label class="chimera-checkbox spell__offensive chimera-checkbox--column-reverse" data-i18n-title="spell_is_offensive_title" title="Is Offensive">
                              <div class="chimera-checkbox__field">
                                <input id="spell_is_offensive" name="attr_spell_is_offensive" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="spell_is_offensive" for="spell_is_offensive">Is Offensive</span>
                            </label>
                            <div class="chimera-input spell__attr1 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_attr1" for="spell_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="spell_attr1_title" id="spell_attr1" name="attr_spell_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__attr2 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_attr2" for="spell_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="spell_attr2_title" id="spell_attr2" name="attr_spell_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_accuracy" for="spell_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_accuracy_placeholder" data-i18n-title="spell_accuracy_title" id="spell_accuracy" min="0" name="attr_spell_accuracy" placeholder="0" title="Accuracy" type="number" value="0"/>
                            </div>
                            <div class="chimera-input spell__type chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_type" for="spell_type">Damage Type</label>
                              <select class="chimera-input__field" data-i18n-title="spell_type_title" id="spell_type" name="attr_spell_type" title="Damage Type">
                                <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                                <option data-i18n="air" value="air">Air</option>
                                <option data-i18n="bolt" value="bolt">Bolt</option>
                                <option data-i18n="dark" value="dark">Dark</option>
                                <option data-i18n="earth" value="earth">Earth</option>
                                <option data-i18n="fire" value="fire">Fire</option>
                                <option data-i18n="ice" value="ice">Ice</option>
                                <option data-i18n="light" value="light">Light</option>
                                <option data-i18n="poison" value="poison">Poison</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__damage chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_damage" for="spell_damage">Damage</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_damage_placeholder" data-i18n-title="spell_damage_title" id="spell_damage" min="0" name="attr_spell_damage" placeholder="0" title="Damage" type="number" value="0"/>
                            </div>
                            <div class="chimera-input spell__target">
                              <label class="chimera-input__label" data-i18n="spell_target" for="spell_target">Target</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_target_placeholder" data-i18n-title="spell_target_title" id="spell_target" name="attr_spell_target" placeholder="Target" title="Target" type="text"/>
                            </div>
                            <div class="chimera-input spell__duration">
                              <label class="chimera-input__label" data-i18n="spell_duration" for="spell_duration">Duration</label>
                              <input class="chimera-input__field" data-i18n-placeholder="spell_duration_placeholder" data-i18n-title="spell_duration_title" id="spell_duration" name="attr_spell_duration" placeholder="Duration" title="Duration" type="text"/>
                            </div>
                            <div class="chimera-input spell__effect">
                              <label class="chimera-input__label" data-i18n="spell_effect" for="spell_effect">Effect</label>
                              <textarea class="chimera-input__field" data-i18n-title="spell_effect_title" id="spell_effect" name="attr_spell_effect" title="Effect" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete spells--delete">
                          <div class="spell">
                            <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                            <div class="chimera-value spell__name"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                            <div class="spell__offensive"><span class="fabula-diamond">⬥</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                                <input class="chimera-hidden" name="attr_spell_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view spells--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="rituals">
                  <h2 class="rituals__heading--edit"><span data-i18n="rituals">Rituals</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="rituals_collapse_title" title="Toggle rituals">
                      <div class="chimera-toggle__field">
                        <input id="rituals_collapse" name="attr_rituals_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="rituals_collapse" for="rituals_collapse">Toggle rituals</span>
                    </label>
                  </h2>
                  <div class="rituals-known">
                    <label class="chimera-value__label" data-i18n="ritual_known">Rituals Known</label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="arcanism_title" title="Arcanism">
                      <div class="chimera-checkbox__field">
                        <input id="arcanism" name="attr_arcanism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="arcanism" for="arcanism">Arcanism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="chimerism_title" title="Chimerism">
                      <div class="chimera-checkbox__field">
                        <input id="chimerism" name="attr_chimerism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="chimerism" for="chimerism">Chimerism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="elementalism_title" title="Elementalism">
                      <div class="chimera-checkbox__field">
                        <input id="elementalism" name="attr_elementalism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="elementalism" for="elementalism">Elementalism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="entropism_title" title="Entropism">
                      <div class="chimera-checkbox__field">
                        <input id="entropism" name="attr_entropism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="entropism" for="entropism">Entropism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="ritualism_title" title="Ritualism">
                      <div class="chimera-checkbox__field">
                        <input id="ritualism" name="attr_ritualism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="ritualism" for="ritualism">Ritualism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="spiritism_title" title="Spiritism">
                      <div class="chimera-checkbox__field">
                        <input id="spiritism" name="attr_spiritism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="spiritism" for="spiritism">Spiritism</span>
                    </label>
                  </div>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rituals_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_rituals_repeating">No rituals saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_rituals">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit rituals--edit">
                          <div class="ritual">
                            <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden"/>
                            <div class="chimera-input ritual__name">
                              <label class="chimera-input__label" data-i18n="ritual_name" for="ritual_name">Ritual Name</label>
                              <input class="chimera-input__field" data-i18n-placeholder="ritual_name_placeholder" data-i18n-title="ritual_name_title" id="ritual_name" name="attr_ritual_name" placeholder="Ritual Name" title="Ritual Name" type="text"/>
                            </div>
                            <div class="chimera-input ritual__discipline chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_discipline" for="ritual_discipline">Discipline</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_discipline_title" id="ritual_discipline" name="attr_ritual_discipline" title="Discipline">
                                <option data-i18n="arcanism" selected="selected" value="arcanism">Arcanism</option>
                                <option data-i18n="chimerism" value="chimerism">Chimerism</option>
                                <option data-i18n="elementalism" value="elementalism">Elementalism</option>
                                <option data-i18n="entropism" value="entropism">Entropism</option>
                                <option data-i18n="ritualism" value="ritualism">Ritualism</option>
                                <option data-i18n="spiritism" value="spiritism">Spiritism</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__potency chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_potency" for="ritual_potency">Potency</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_potency_title" id="ritual_potency" name="attr_ritual_potency" title="Potency">
                                <option data-i18n="minor" selected="selected" value="minor">Minor</option>
                                <option data-i18n="medium" value="medium">Medium</option>
                                <option data-i18n="major" value="major">Major</option>
                                <option data-i18n="extreme" value="extreme">Extreme</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__area chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_area" for="ritual_area">Area</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_area_title" id="ritual_area" name="attr_ritual_area" title="Area">
                                <option data-i18n="individual" selected="selected" value="individual">Individual</option>
                                <option data-i18n="small" value="small">Small</option>
                                <option data-i18n="large" value="large">Large</option>
                                <option data-i18n="huge" value="huge">Huge</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__attr1 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_attr1" for="ritual_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_attr1_title" id="ritual_attr1" name="attr_ritual_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__attr2 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_attr2" for="ritual_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_attr2_title" id="ritual_attr2" name="attr_ritual_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_accuracy" for="ritual_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-placeholder="ritual_accuracy_placeholder" data-i18n-title="ritual_accuracy_title" id="ritual_accuracy" min="0" name="attr_ritual_accuracy" placeholder="0" title="Accuracy" type="number" value="0"/>
                            </div>
                            <div class="chimera-input ritual__mp chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="ritual_mp" for="ritual_mp">MP</label>
                              <input class="chimera-input__field" data-i18n-placeholder="ritual_mp_placeholder" data-i18n-title="ritual_mp_title" id="ritual_mp" name="attr_ritual_mp" placeholder="MP" title="MP" type="text"/>
                            </div>
                            <div class="chimera-input ritual__effect">
                              <label class="chimera-input__label" data-i18n="ritual_effect" for="ritual_effect">Effect</label>
                              <textarea class="chimera-input__field" data-i18n-title="ritual_effect_title" id="ritual_effect" name="attr_ritual_effect" title="Effect" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete rituals--delete">
                          <div class="ritual">
                            <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden"/>
                            <div class="chimera-value ritual__name"><span class="chimera-value__value" name="attr_ritual_name"></span>
                            </div>
                            <div class="ritual__offensive"><span class="fabula-diamond">⬥</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr2"></span>
                                <input class="chimera-hidden" name="attr_ritual_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_ritual_accuracy"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view rituals--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__journal">
                <div class="notes">
                  <h2 class="notes__heading--edit"><span data-i18n="notes">Notes</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="notes_collapse_title" title="Toggle notes">
                      <div class="chimera-toggle__field">
                        <input id="notes_collapse" name="attr_notes_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="notes_collapse" for="notes_collapse">Toggle notes</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_notes">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit notes--edit">
                          <div class="note">
                            <div class="chimera-input note__name">
                              <label class="chimera-input__label" data-i18n="note_name" for="note_name">Note</label>
                              <input class="chimera-input__field" data-i18n-placeholder="note_name_placeholder" data-i18n-title="note_name_title" id="note_name" name="attr_note_name" placeholder="Note" title="Note" type="text"/>
                            </div>
                            <div class="chimera-input note__effect">
                              <label class="chimera-input__label" data-i18n="note_effect" for="note_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="note_effect_title" id="note_effect" name="attr_note_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete notes--delete">
                          <div class="note">
                            <div class="chimera-value note__name"><span class="chimera-value__value" name="attr_note_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view notes--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="quests">
                  <h2 class="quests__heading--edit"><span data-i18n="quests">Quests</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="quests_collapse_title" title="Toggle quests">
                      <div class="chimera-toggle__field">
                        <input id="quests_collapse" name="attr_quests_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="quests_collapse" for="quests_collapse">Toggle quests</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_quests_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_quests_repeating">No quests saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_quests">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit quests--edit">
                          <div class="quest">
                            <div class="chimera-input quest__name">
                              <label class="chimera-input__label" data-i18n="quest_name" for="quest_name">Quest</label>
                              <input class="chimera-input__field" data-i18n-placeholder="quest_name_placeholder" data-i18n-title="quest_name_title" id="quest_name" name="attr_quest_name" placeholder="Quest" title="Quest" type="text"/>
                            </div>
                            <div class="chimera-input quest__effect">
                              <label class="chimera-input__label" data-i18n="quest_effect" for="quest_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="quest_effect_title" id="quest_effect" name="attr_quest_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete quests--delete">
                          <div class="quest">
                            <div class="chimera-value quest__name"><span class="chimera-value__value" name="attr_quest_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view quests--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="friends">
                  <h2 class="friends__heading--edit"><span data-i18n="friends">Friends</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="friends_collapse_title" title="Toggle friends">
                      <div class="chimera-toggle__field">
                        <input id="friends_collapse" name="attr_friends_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="friends_collapse" for="friends_collapse">Toggle friends</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_friends_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_friends_repeating">No friends saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_friends">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit friends--edit">
                          <div class="friend">
                            <div class="chimera-input friend__name">
                              <label class="chimera-input__label" data-i18n="friend_name" for="friend_name">Character</label>
                              <input class="chimera-input__field" data-i18n-placeholder="friend_name_placeholder" data-i18n-title="friend_name_title" id="friend_name" name="attr_friend_name" placeholder="Character" title="Character" type="text"/>
                            </div>
                            <div class="chimera-input friend__effect">
                              <label class="chimera-input__label" data-i18n="friend_effect" for="friend_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="friend_effect_title" id="friend_effect" name="attr_friend_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete friends--delete">
                          <div class="friend">
                            <div class="chimera-value friend__name"><span class="chimera-value__value" name="attr_friend_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view friends--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="creatures">
                  <h2 class="creatures__heading--edit"><span data-i18n="creatures">Creatures</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="creatures_collapse_title" title="Toggle creatures">
                      <div class="chimera-toggle__field">
                        <input id="creatures_collapse" name="attr_creatures_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="creatures_collapse" for="creatures_collapse">Toggle creatures</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_creatures_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_creatures_repeating">No creatures saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_creatures">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit creatures--edit">
                          <div class="creature">
                            <div class="chimera-input creature__name">
                              <label class="chimera-input__label" data-i18n="creature_name" for="creature_name">Creature</label>
                              <input class="chimera-input__field" data-i18n-placeholder="creature_name_placeholder" data-i18n-title="creature_name_title" id="creature_name" name="attr_creature_name" placeholder="Creature" title="Creature" type="text"/>
                            </div>
                            <div class="chimera-input creature__effect">
                              <label class="chimera-input__label" data-i18n="creature_effect" for="creature_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="creature_effect_title" id="creature_effect" name="attr_creature_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete creatures--delete">
                          <div class="creature">
                            <div class="chimera-value creature__name"><span class="chimera-value__value" name="attr_creature_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view creatures--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="locations">
                  <h2 class="locations__heading--edit"><span data-i18n="locations">Locations</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="locations_collapse_title" title="Toggle locations">
                      <div class="chimera-toggle__field">
                        <input id="locations_collapse" name="attr_locations_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="locations_collapse" for="locations_collapse">Toggle locations</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_locations_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_locations_repeating">No locations saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_locations">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit locations--edit">
                          <div class="location">
                            <div class="chimera-input location__name">
                              <label class="chimera-input__label" data-i18n="location_name" for="location_name">Location</label>
                              <input class="chimera-input__field" data-i18n-placeholder="location_name_placeholder" data-i18n-title="location_name_title" id="location_name" name="attr_location_name" placeholder="Location" title="Location" type="text"/>
                            </div>
                            <div class="chimera-input location__effect">
                              <label class="chimera-input__label" data-i18n="location_effect" for="location_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="location_effect_title" id="location_effect" name="attr_location_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete locations--delete">
                          <div class="location">
                            <div class="chimera-value location__name"><span class="chimera-value__value" name="attr_location_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view locations--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="artifacts">
                  <h2 class="artifacts__heading--edit"><span data-i18n="artifacts">Artifacts</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="artifacts_collapse_title" title="Toggle artifacts">
                      <div class="chimera-toggle__field">
                        <input id="artifacts_collapse" name="attr_artifacts_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="artifacts_collapse" for="artifacts_collapse">Toggle artifacts</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_artifacts_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_artifacts_repeating">No artifacts saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_artifacts">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit artifacts--edit">
                          <div class="artifact">
                            <div class="chimera-input artifact__name">
                              <label class="chimera-input__label" data-i18n="artifact_name" for="artifact_name">Artifact</label>
                              <input class="chimera-input__field" data-i18n-placeholder="artifact_name_placeholder" data-i18n-title="artifact_name_title" id="artifact_name" name="attr_artifact_name" placeholder="Artifact" title="Artifact" type="text"/>
                            </div>
                            <div class="chimera-input artifact__effect">
                              <label class="chimera-input__label" data-i18n="artifact_effect" for="artifact_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="artifact_effect_title" id="artifact_effect" name="attr_artifact_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete artifacts--delete">
                          <div class="artifact">
                            <div class="chimera-value artifact__name"><span class="chimera-value__value" name="attr_artifact_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view artifacts--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="discoveries">
                  <h2 class="discoveries__heading--edit"><span data-i18n="discoveries">Discoveries</span>
                    <label class="chimera-toggle chimera-toggle--hidden-label chimera-toggle--tiny" data-i18n-title="discoveries_collapse_title" title="Toggle discoveries">
                      <div class="chimera-toggle__field">
                        <input id="discoveries_collapse" name="attr_discoveries_collapse" type="checkbox"/><img class="chimera-toggle--off" data-i18n-title="collapse_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/collapse.svg" title="Collapse"/><img class="chimera-toggle--on" data-i18n-title="expand_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/expand.svg" title="Expand"/>
                      </div><span class="chimera-toggle__label" data-i18n="discoveries_collapse" for="discoveries_collapse">Toggle discoveries</span>
                    </label>
                  </h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_discoveries_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_discoveries_repeating">No discoveries saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_discoveries">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit discoveries--edit">
                          <div class="discovery">
                            <div class="chimera-input discovery__name">
                              <label class="chimera-input__label" data-i18n="discovery_name" for="discovery_name">Discovery</label>
                              <input class="chimera-input__field" data-i18n-placeholder="discovery_name_placeholder" data-i18n-title="discovery_name_title" id="discovery_name" name="attr_discovery_name" placeholder="Discovery" title="Discovery" type="text"/>
                            </div>
                            <div class="chimera-input discovery__effect">
                              <label class="chimera-input__label" data-i18n="discovery_effect" for="discovery_effect">Details</label>
                              <textarea class="chimera-input__field" data-i18n-title="discovery_effect_title" id="discovery_effect" name="attr_discovery_effect" title="Details" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete discoveries--delete">
                          <div class="discovery">
                            <div class="chimera-value discovery__name"><span class="chimera-value__value" name="attr_discovery_name"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view discoveries--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__settings">
                <div class="settings--edit">
                  <h2 class="settings__heading--edit" data-i18n="settings">Settings</h2>
                  <!-- TODO Implement settings-->
                  <div class="setting">
                    <label class="chimera-checkbox settings_roll_mods" data-i18n-title="roll_mods_title" title="Ask for Accuracy Check modifiers">
                      <div class="chimera-checkbox__field">
                        <input id="roll_mods" name="attr_roll_mods" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="roll_mods" for="roll_mods">Ask for Accuracy Check modifiers</span>
                    </label>
                  </div>
                  <div class="setting">
                    <label class="chimera-checkbox settings_high_fantasy_atlas" data-i18n-title="high_fantasy_atlas_title" title="Enable High Fantasy Atlas">
                      <div class="chimera-checkbox__field">
                        <input id="high_fantasy_atlas" name="attr_high_fantasy_atlas" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="high_fantasy_atlas" for="high_fantasy_atlas">Enable High Fantasy Atlas</span>
                    </label>
                  </div>
                  <div class="setting">
                    <label class="chimera-checkbox settings_automatic_mp" data-i18n-title="automatic_mp_title" title="Automatically subtract MP when casting spells and rituals">
                      <div class="chimera-checkbox__field">
                        <input id="automatic_mp" name="attr_automatic_mp" type="checkbox"/><img data-i18n-title="automatic_mp_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Automatically subtract MP when casting spells and rituals"/>
                      </div><span class="chimera-checkbox__label" data-i18n="automatic_mp" for="automatic_mp">Automatic MP Use</span>
                    </label>
                  </div>
                  <div class="setting">
                    <label class="chimera-checkbox settings_money_name chimera-checkbox--flex-row chimera-checkbox--small" data-i18n-title="dual_shieldbearer_title" title="You can equip two shields">
                      <div class="chimera-checkbox__field">
                        <input id="dual_shieldbearer" name="attr_dual_shieldbearer" type="checkbox"/><img data-i18n-title="dual_shieldbearer_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="You can equip two shields"/>
                      </div><span class="chimera-checkbox__label" data-i18n="dual_shieldbearer" for="dual_shieldbearer">Dual Shieldbearer</span>
                    </label>
                  </div>
                  <div class="setting">
                    <div class="chimera-input settings_money_name chimera-input--flex-row chimera-input--small">
                      <label class="chimera-input__label" data-i18n="money_name" for="money_name">Currency Name</label>
                      <input class="chimera-input__field" data-i18n-placeholder="money_name_placeholder" data-i18n-title="money_name_title" id="money_name" name="attr_money_name" placeholder="Currency Name" title="Currency Name" type="text" value="zenit"/>
                    </div>
                  </div>
                </div>
          </div>
        </section>
  </main>
  <main class="bestiary">
        <section class="bestiary--view">
              <div class="bio--view">
                <div class="bio">
                  <input class="chimera-hidden" name="attr_character_avatar" type="hidden" value=""/>
                  <div class="bio__avatar"><img data-i18n-title="avatar" name="attr_character_avatar" title="Despite everything, it's still you."/></div>
                  <div class="bio__name"><span name="attr_character_name"></span>
                  </div>
                  <div class="bio__meta">
                    <label data-i18n="lv">Lv</label>
                    <input class="chimera-hidden" name="attr_rank" type="hidden"/><span name="attr_level"></span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_rank"></span><span class="fabula-diamond">⬥</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_species"></span>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_villainous" type="hidden"/>
                  <div class="bio__villain"><span name="attr_villainous"></span>
                  </div>
                  <div class="bio__description"><span name="attr_description"></span>
                  </div>
                  <div class="chimera-value bio__traits">
                    <label class="chimera-value__label" data-i18n="typical_traits" for="traits">Typical Traits</label><span class="chimera-value__value" name="attr_traits"></span>
                  </div>
                </div>
              </div>
              <div class="statistics--view">
                <div class="attributes--view">
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="dexterity" for="dexterity">DEX</label><span class="chimera-value__value" name="attr_dexterity"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="insight" for="insight">INS</label><span class="chimera-value__value" name="attr_insight"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="might" for="might">MIG</label><span class="chimera-value__value" name="attr_might"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="willpower" for="willpower">WLP</label><span class="chimera-value__value" name="attr_willpower"></span>
                  </div>
                </div>
                    <div class="points--view">
                      <input class="chimera-hidden" name="attr_villain" type="hidden"/>
                      <label class="chimera-value__label" data-i18n="hp">HP</label>
                      <div class="point__hp">
                        <div class="chimera-value point--hp"><span class="chimera-value__value" name="attr_hp"></span>
                        </div><span class="fabula-diamond">⬥</span>
                        <div class="chimera-value point--hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                        </div>
                      </div>
                      <label class="chimera-value__label" data-i18n="mp">MP</label>
                      <div class="point__mp">
                        <div class="chimera-value point--mp"><span class="chimera-value__value" name="attr_mp"></span>
                        </div>
                      </div>
                      <div class="point__initiative">
                        <label class="chimera-value__label" data-i18n="init">Init.</label>
                        <div class="chimera-value point--initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                        </div>
                      </div>
                    </div>
                    <div class="defenses--view">
                      <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="defense" for="defense">DEF</label><span class="chimera-value__value" name="attr_defense"></span>
                      </div>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="magic_defense" for="magic_defense">M.DEF</label><span class="chimera-value__value" name="attr_magic_defense"></span>
                      </div>
                    </div>
                    <div class="affinities--view">
                      <label class="affinity__wrapper affinity--physical">
                        <input class="chimera-hidden" name="attr_physical" type="hidden"/><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="physical" for="physical">Physical</label><span class="chimera-value__value" name="attr_physical"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--air">
                        <input class="chimera-hidden" name="attr_air" type="hidden"/><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="air" for="air">Air</label><span class="chimera-value__value" name="attr_air"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--bolt">
                        <input class="chimera-hidden" name="attr_bolt" type="hidden"/><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="bolt" for="bolt">Bolt</label><span class="chimera-value__value" name="attr_bolt"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--dark">
                        <input class="chimera-hidden" name="attr_dark" type="hidden"/><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="dark" for="dark">Dark</label><span class="chimera-value__value" name="attr_dark"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--earth">
                        <input class="chimera-hidden" name="attr_earth" type="hidden"/><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="earth" for="earth">Earth</label><span class="chimera-value__value" name="attr_earth"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--fire">
                        <input class="chimera-hidden" name="attr_fire" type="hidden"/><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="fire" for="fire">Fire</label><span class="chimera-value__value" name="attr_fire"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--ice">
                        <input class="chimera-hidden" name="attr_ice" type="hidden"/><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="ice" for="ice">Ice</label><span class="chimera-value__value" name="attr_ice"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--light">
                        <input class="chimera-hidden" name="attr_light" type="hidden"/><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="light" for="light">Light</label><span class="chimera-value__value" name="attr_light"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--poison">
                        <input class="chimera-hidden" name="attr_poison" type="hidden"/><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="poison" for="poison">Poison</label><span class="chimera-value__value" name="attr_poison"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                    </div>
              </div>
          <div class="bestiary__controls">
                <div class="status-effects--view">
                  <div class="status-debuffs">
                    <input class="chimera-hidden" name="attr_slow_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_dazed_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_enraged_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_weak_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_shaken_immunity" type="hidden" value="0"/>
                    <input class="chimera-hidden" name="attr_poisoned_immunity" type="hidden" value="0"/>
                    <label class="chimera-checkbox status-effect status-effect--slow chimera-checkbox--column" data-i18n-title="slow_title" title="Slow temporarily reduces your Dexterity die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="slow" name="attr_slow" type="checkbox"/><img data-i18n-title="slow_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/slow-pixerelia.png" title="Slow temporarily reduces your Dexterity die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="slow" for="slow">Slow</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--dazed chimera-checkbox--column" data-i18n-title="dazed_title" title="Dazed temporarily reduces your Insight die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="dazed" name="attr_dazed" type="checkbox"/><img data-i18n-title="dazed_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/dazed-pixerelia.png" title="Dazed temporarily reduces your Insight die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="dazed" for="dazed">Dazed</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--enraged chimera-checkbox--column" data-i18n-title="enraged_title" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="enraged" name="attr_enraged" type="checkbox"/><img data-i18n-title="enraged_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/enraged-pixerelia.png" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="enraged" for="enraged">Enraged</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--weak chimera-checkbox--column" data-i18n-title="weak_title" title="Weak temporarily reduces your Might die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="weak" name="attr_weak" type="checkbox"/><img data-i18n-title="weak_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/weak-pixerelia.png" title="Weak temporarily reduces your Might die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="weak" for="weak">Weak</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--shaken chimera-checkbox--column" data-i18n-title="shaken_title" title="Shaken temporarily reduces your Willpower die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="shaken" name="attr_shaken" type="checkbox"/><img data-i18n-title="shaken_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/shaken-pixerelia.png" title="Shaken temporarily reduces your Willpower die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="shaken" for="shaken">Shaken</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--poisoned chimera-checkbox--column" data-i18n-title="poisoned_title" title="Poisoned temporarily reduces your Might and Willpower die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="poisoned" name="attr_poisoned" type="checkbox"/><img data-i18n-title="poisoned_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/poisoned-pixerelia.png" title="Poisoned temporarily reduces your Might and Willpower die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="poisoned" for="poisoned">Poisoned</span>
                    </label>
                  </div>
                  <div class="status-buffs">
                    <label class="chimera-checkbox status-boost status-boost--dexterity chimera-checkbox--column" data-i18n-title="dexterity_boost_title" title="Temporarily increases your Dexterity die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="dexterity_boost" name="attr_dexterity_boost" type="checkbox"/><img data-i18n-title="dexterity_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Dexterity die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="dexterity_boost" for="dexterity_boost">DEX+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--insight chimera-checkbox--column" data-i18n-title="insight_boost_title" title="Temporarily increases your Insight die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="insight_boost" name="attr_insight_boost" type="checkbox"/><img data-i18n-title="insight_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Insight die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="insight_boost" for="insight_boost">INS+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--might chimera-checkbox--column" data-i18n-title="might_boost_title" title="Temporarily increases your Might die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="might_boost" name="attr_might_boost" type="checkbox"/><img data-i18n-title="might_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Might die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="might_boost" for="might_boost">MIG+</span>
                    </label>
                    <label class="chimera-checkbox status-boost status-boost--willpower chimera-checkbox--column" data-i18n-title="willpower_boost_title" title="Temporarily increases your Willpower die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="willpower_boost" name="attr_willpower_boost" type="checkbox"/><img data-i18n-title="willpower_boost_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Temporarily increases your Willpower die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="willpower_boost" for="willpower_boost">WLP+</span>
                    </label>
                  </div>
                </div>
                <div class="study">
                  <label class="study__label" data-i18n="study">Study</label>
                  <button class="chimera-action study__roll" data-i18n-title="study7_title" name="act_study7" title="Study 7+ The NPCs Rank, Species, maximum HP, and maximum MP." type="action">
                    <label class="chimera-action__label">7+</label>
                    <label class="sr-only" data-i18n="study7_caption">The NPCs Rank, Species, maximum HP, and maximum MP.</label>
                  </button>
                  <button class="chimera-action study__roll" data-i18n-title="study10_title" name="act_study10" title="Study 10+ All the above, plus Traits, Attributes, Defense, Magic Defense, Affinities." type="action">
                    <label class="chimera-action__label">10+</label>
                    <label class="sr-only" data-i18n="study10_caption">All the above, plus Traits, Attributes, Defense, Magic Defense, Affinities.</label>
                  </button>
                  <button class="chimera-action study__roll" data-i18n-title="study13_title" name="act_study13" title="Study 13+ All the above, plus basic attacks and spells." type="action">
                    <label class="chimera-action__label">13+</label>
                    <label class="sr-only" data-i18n="study13_caption">All the above, plus basic attacks and spells.</label>
                  </button>
                </div>
                <div class="controllers--view">
                  <div class="chimera-arithmetic controller__hp">
                    <label class="chimera-arithmetic__label" data-i18n="hp-control" for="hp-control">HP</label>
                    <button class="chimera-arithmetic__subtract" name="act_hp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="hp-control_title" id="hp-control" name="attr_hp-control" title="Health Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_hp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                  <div class="chimera-arithmetic controller__mp">
                    <label class="chimera-arithmetic__label" data-i18n="mp-control" for="mp-control">MP</label>
                    <button class="chimera-arithmetic__subtract" name="act_mp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="mp-control_title" id="mp-control" name="attr_mp-control" title="Mind Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_mp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                  <div class="chimera-arithmetic controller__ip">
                    <label class="chimera-arithmetic__label" data-i18n="ip-control" for="ip-control">IP</label>
                    <button class="chimera-arithmetic__subtract" name="act_ip-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="ip-control_title" id="ip-control" name="attr_ip-control" title="Inventory Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__add" name="act_ip-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                  </div>
                </div>
                <div class="ultima-points--view">
                  <input class="chimera-hidden" name="attr_villain" type="hidden" value="0"/>
                  <div class="chimera-input point--ultima chimera-input--small chimera-input--center chimera-input--column-reverse">
                    <label class="chimera-input__label" data-i18n="ultima_points" for="ultima_points">Ultima Points</label>
                    <input class="chimera-input__field" data-i18n-placeholder="ultima_points_placeholder" data-i18n-title="ultima_points_title" id="ultima_points" max="15" min="0" name="attr_ultima_points" placeholder="0" title="Ultima Points" type="number"/>
                  </div>
                  <div class="point__spending-ultima">
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="escape" for="ultima_escape">Escape</label><span class="chimera-value__value" data-i18n="ultima_escape">A Villain may spend 1 Ultima Point to safely leave the scene — the Game Master describes how they do so, perhaps leaving a few henchmen behind to &quot;keep the heroes company&quot;.</span>
                    </div>
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="invoke_trait" for="ultima_invoke_trait">Invoke Trait</label><span class="chimera-value__value" data-i18n="ultima_invoke_trait">After performing a Check, a Villain may spend 1 Ultima Point to invoke one of their Traits and reroll one or both dice (this follows the same rules seen on page 46).</span>
                    </div>
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="recover" for="ultima_recovery">Recovery</label><span class="chimera-value__value" data-i18n="ultima_recovery">A Villain may use an action and spend 1 Ultima Point to recover from all status effects and also recover 50 Mind Points.</span>
                    </div>
                  </div>
                </div>
          </div>
              <div class="basic-attacks">
                <h2 class="basic-attacks__heading--view" data-i18n="basic_attacks">Basic Attacks</h2>
                <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_basic-attacks_empty" type="hidden"/>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_basic-attacks_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_basic-attacks_repeating">No basic attacks saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_basic-attacks">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit basic-attacks--edit">
                      </div>
                      <div class="chimera-repeater--delete basic-attacks--delete">
                      </div>
                      <div class="chimera-repeater--view basic-attacks--view">
                        <div class="basic-attack">
                          <input class="chimera-hidden" name="attr_attack_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_damage_total" type="hidden"/>
                          <button class="chimera-action basic-attack__roll" data-i18n-title="basicattack_title" name="act_basicattack" title="Basic Attack" type="action"><img class="basic-attack__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="basic-attack__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="chimera-value basic-attack__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_attack_name"></span>
                            </div>
                          </button>
                          <div class="basic-attack__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr2"></span>
                              <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_attack_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_attack_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value basic-attack__type chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_type"></span>
                          </div>
                          <div class="chimera-value basic-attack__special"><span class="chimera-value__value" name="attr_attack_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_weapons_empty" type="hidden"/>
              <div class="weapons">
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <button class="chimera-action weapon__roll" data-i18n-title="weaponattack_title" name="act_weaponattack" title="Weapon Attack" type="action"><img class="weapon__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="weapon__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="weapon__attack"><span class="weapon__attack_name" name="attr_weapon_attack_name"></span><span class="weapon__name" name="attr_weapon_name"></span>
                            </div>
                          </button>
                          <div class="weapon__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div>
                          <div class="chimera-value weapon__special"><span class="chimera-value__value" name="attr_weapon_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_spells_empty" type="hidden"/>
              <div class="spells">
                <h2 class="spells__heading--view" data-i18n="spells">Spells</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                      </div>
                      <div class="chimera-repeater--view spells--view">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <button class="chimera-action spell__roll" data-i18n-title="spell_title" name="act_spell" title="Spell" type="action"><img class="spell__icon" data-i18n-title="spell_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg" title="Spell"/>
                            <div class="chimera-value spell__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                          </button>
                          <div class="spell__offensive">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_spell_damage_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__type chimera-value--no-label-bold"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_type"></span>
                            </div><span class="fabula-diamond">⬥</span>
                          </div>
                          <div class="chimera-value spell__mp chimera-value--reverse">
                            <label class="chimera-value__label" data-i18n="spell_mp" for="spell_mp">MP</label><span class="chimera-value__value" name="attr_spell_mp"></span>
                          </div>
                          <div class="spell__target-duration">
                            <div class="chimera-value spell__target chimera-value--center"><span class="chimera-value__value" name="attr_spell_target"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__duration chimera-value--center"><span class="chimera-value__value" name="attr_spell_duration"></span>
                            </div>
                          </div>
                          <div class="chimera-value spell__effect"><span class="chimera-value__value" name="attr_spell_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_other-actions_empty" type="hidden"/>
              <div class="other-actions">
                <h2 class="other-actions__heading--view" data-i18n="other_actions">Other Actions</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_other-actions_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_other-actions_repeating">No other actions saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_other-actions">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit other-actions--edit">
                      </div>
                      <div class="chimera-repeater--delete other-actions--delete">
                      </div>
                      <div class="chimera-repeater--view other-actions--view">
                        <div class="other-action"><img class="other-action__icon" data-i18n-title="cog_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/cog.svg" title="Cog"/>
                          <div class="chimera-value other-action__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_action_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="otheractionchat_title" name="act_otheractionchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value other-action__effect"><span class="chimera-value__value" name="attr_action_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_special-rules_empty" type="hidden"/>
              <div class="special-rules">
                <h2 class="special-rules__heading--view" data-i18n="special_rules">Special Rules</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_special-rules_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_special-rules_repeating">No special rules saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_special-rules">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit special-rules--edit">
                      </div>
                      <div class="chimera-repeater--delete special-rules--delete">
                      </div>
                      <div class="chimera-repeater--view special-rules--view">
                        <div class="special-rule">
                          <div class="chimera-value special-rule__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_special_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="specialrulechat_title" name="act_specialrulechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value special-rule__effect"><span class="chimera-value__value" name="attr_special_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_equipments_empty" type="hidden"/>
              <div class="equipments">
                <h2 class="equipments__heading--view" data-i18n="equipment">Equipment</h2>
                <div class="equipment">
                  <div class="equipment__weapons">
                    <div class="chimera-repeater--simple">
                      <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                      <fieldset class="repeating_weapons">
                        <div class="equipment__weapon">
                          <div class="chimera-value weapon__name chimera-value--colon">
                            <label class="chimera-value__label" data-i18n="weapon" for="weapon_name">Weapon</label><span class="chimera-value__value" name="attr_weapon_name"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                            <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="chimera-value weapon__cost"><span class="chimera-value__value" name="attr_weapon_cost"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="weaponchat_title" name="act_weaponchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                        </div>
                      </fieldset>
                    </div>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_armor_name" type="hidden"/>
                  <div class="equipment__armor">
                    <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden" value="0"/>
                    <div class="chimera-value armor__name chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="armor" for="armor_name">Armor</label><span class="chimera-value__value" name="attr_armor_name"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__defense">
                      <label class="chimera-value__label" data-i18n="armor_defense" for="armor_defense">DEF</label><span class="chimera-value__value" name="attr_armor_defense"></span>
                    </div>
                    <div class="chimera-value armor__defense_bonus">
                      <label class="chimera-value__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_armor_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_armor_magic_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="init" for="armor_initiative">Init.</label><span class="chimera-value__value" name="attr_armor_initiative"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_armor_cost"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="armorchat_title" name="act_armorchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_shield_name" type="hidden"/>
                  <div class="equipment__shield">
                    <div class="chimera-value shield__name chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="shield" for="shield_name">Shield</label><span class="chimera-value__value" name="attr_shield_name"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value shield__defense_bonus">
                      <label class="chimera-value__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_shield_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_shield_magic_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="init" for="shield_initiative">Init.</label><span class="chimera-value__value" name="attr_shield_initiative"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_shield_cost"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="shieldchat_title" name="act_shieldchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_rare-gears_empty" type="hidden"/>
              <div class="rare-gears">
                <h2 class="rare-gears__heading--view" data-i18n="rare_gear">rare gear</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rare-gears_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_rare-gears_repeating">No rare gears saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_rare-gears">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit rare-gears--edit">
                      </div>
                      <div class="chimera-repeater--delete rare-gears--delete">
                      </div>
                      <div class="chimera-repeater--view rare-gears--view">
                        <div class="rare-gear"><img class="rare-gear__icon" data-i18n-title="equipment_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/equipment.svg" title="Equipment"/>
                          <div class="chimera-value rare-gear__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_raregear_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="raregearchat_title" name="act_raregearchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value rare-gear__effect"><span class="chimera-value__value" name="attr_raregear_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_notes_empty" type="hidden"/>
              <div class="notes">
                <h2 class="notes__heading--view" data-i18n="notes">Notes</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_notes">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit notes--edit">
                      </div>
                      <div class="chimera-repeater--delete notes--delete">
                      </div>
                      <div class="chimera-repeater--view notes--view">
                        <div class="note"><img class="note__icon" data-i18n-title="book_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/book.svg" title="Book"/>
                          <div class="chimera-value note__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_note_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="notechat_title" name="act_notechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value note__effect"><span class="chimera-value__value" name="attr_note_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
        </section>
        <section class="bestiary--edit">
          <!-- TODO Nav bar to settings-->
              <div class="bio--edit">
                <div class="bio">
                  <input class="chimera-hidden" name="attr_rank" type="hidden"/>
                  <div class="chimera-input bio__name">
                    <label class="chimera-input__label" data-i18n="character_name" for="character_name">Name</label>
                    <input class="chimera-input__field" data-i18n-placeholder="character_name_placeholder" data-i18n-title="character_name_title" id="character_name" name="attr_character_name" placeholder="Name" title="Name" type="text"/>
                  </div>
                  <div class="chimera-input bio__traits">
                    <label class="chimera-input__label" data-i18n="traits" for="traits">Traits</label>
                    <input class="chimera-input__field" data-i18n-placeholder="traits_placeholder" data-i18n-title="traits_title" id="traits" name="attr_traits" placeholder="Traits" title="Traits" type="text"/>
                  </div>
                  <div class="chimera-input bio__level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="level" for="level">Level</label>
                    <input class="chimera-input__field" data-i18n-placeholder="level_placeholder" data-i18n-title="level_title" id="level" max="60" min="5" name="attr_level" placeholder="0" step="5" title="Level" type="number"/>
                  </div>
                  <div class="chimera-input bio__species">
                    <label class="chimera-input__label" data-i18n="species" for="species">Species</label>
                    <select class="chimera-input__field" data-i18n-title="species_title" id="species" name="attr_species" title="Species">
                      <option data-i18n="beast" selected="selected" value="beast">Beast</option>
                      <option data-i18n="construct" value="construct">Construct</option>
                      <option data-i18n="demon" value="demon">Demon</option>
                      <option data-i18n="elemental" value="elemental">Elemental</option>
                      <option data-i18n="monster" value="monster">Monster</option>
                      <option data-i18n="plant" value="plant">Plant</option>
                      <option data-i18n="undead" value="undead">Undead</option>
                      <option data-i18n="humanoid" value="humanoid">Humanoid</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__rank">
                    <label class="chimera-input__label" data-i18n="rank" for="rank">Rank</label>
                    <select class="chimera-input__field" data-i18n-title="rank_title" id="rank" name="attr_rank" title="Rank">
                      <option data-i18n="soldier" selected="selected" value="soldier">Soldier</option>
                      <option data-i18n="elite" value="elite">Elite</option>
                      <option data-i18n="champion" value="champion">Champion</option>
                      <option data-i18n="champion2" value="champion2">Champion (2)</option>
                      <option data-i18n="champion3" value="champion3">Champion (3)</option>
                      <option data-i18n="champion4" value="champion4">Champion (4)</option>
                      <option data-i18n="champion5" value="champion5">Champion (5)</option>
                      <option data-i18n="companion" value="companion">Companion</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__villain">
                    <label class="chimera-input__label" data-i18n="villain" for="villain">Villain</label>
                    <select class="chimera-input__field" data-i18n-title="villain_title" id="villain" name="attr_villain" title="Villain">
                      <option data-i18n="none" selected="selected" value="none">—</option>
                      <option data-i18n="minor" value="minor">Minor</option>
                      <option data-i18n="major" value="major">Major</option>
                      <option data-i18n="supreme" value="supreme">Supreme</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__companion_skill_level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="companion_skill_level" for="companion_skill_level">Skill Level</label>
                    <input class="chimera-input__field" data-i18n-placeholder="companion_skill_level_placeholder" data-i18n-title="companion_skill_level_title" id="companion_skill_level" max="5" min="1" name="attr_companion_skill_level" placeholder="0" title="Skill Level" type="number"/>
                  </div>
                  <div class="chimera-input bio__pc_level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="pc_level" for="pc_level">PC Level</label>
                    <input class="chimera-input__field" data-i18n-placeholder="pc_level_placeholder" data-i18n-title="pc_level_title" id="pc_level" max="50" min="5" name="attr_pc_level" placeholder="0" title="PC Level" type="number"/>
                  </div>
                  <div class="chimera-input bio__multipart">
                    <label class="chimera-input__label" data-i18n="multipart" for="multipart">Multi-Part</label>
                    <input class="chimera-input__field" data-i18n-placeholder="multipart_placeholder" data-i18n-title="multipart_title" id="multipart" name="attr_multipart" placeholder="Multi-Part" title="Multi-Part" type="text"/>
                  </div>
                  <div class="chimera-input bio__phases chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="phases" for="phases">Phases</label>
                    <input class="chimera-input__field" data-i18n-placeholder="phases_placeholder" data-i18n-title="phases_title" id="phases" min="0" name="attr_phases" placeholder="0" title="Phases" type="number"/>
                  </div>
                  <div class="chimera-input bio__createdby">
                    <label class="chimera-input__label" data-i18n="createdby" for="createdby">Created By</label>
                    <input class="chimera-input__field" data-i18n-placeholder="createdby_placeholder" data-i18n-title="createdby_title" id="createdby" name="attr_createdby" placeholder="Created By" title="Created By" type="text"/>
                  </div>
                  <div class="chimera-input bio__description">
                    <label class="chimera-input__label" data-i18n="description" for="description">Description</label>
                    <textarea class="chimera-input__field" data-i18n-title="description_title" id="description" name="attr_description" title="Description" type="textarea"></textarea>
                  </div>
                </div>
              </div>
          <div class="attributes--edit">
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="dexterity_max" for="dexterity_max">DEX</label>
              <select class="chimera-input__field" data-i18n-title="dexterity_max_title" id="dexterity_max" name="attr_dexterity_max" title="Dexterity">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="insight_max" for="insight_max">INS</label>
              <select class="chimera-input__field" data-i18n-title="insight_max_title" id="insight_max" name="attr_insight_max" title="Insight">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="might_max" for="might_max">MIG</label>
              <select class="chimera-input__field" data-i18n-title="might_max_title" id="might_max" name="attr_might_max" title="Might">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="willpower_max" for="willpower_max">WLP</label>
              <select class="chimera-input__field" data-i18n-title="willpower_max_title" id="willpower_max" name="attr_willpower_max" title="Willpower">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
          </div>
          <div class="attributes__distribution chimera-shadow">
            <div class="chimera-value distribution chimera-value--helptext"><span class="chimera-value__value" data-i18n="attribute_distribution">Distribute one of the following arrays among the NPC's Attributes.</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="jack_of_all_trades">Jack of All Trades</label><span class="chimera-value__value">d8, d8, d8, d8</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="standard">Standard</label><span class="chimera-value__value">d10, d8, d8, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="specialized">Specialized</label><span class="chimera-value__value">d10, d10, d6, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="super_specialized">Super Specialized</label><span class="chimera-value__value">d12, d8, d6, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--helptext"><span class="chimera-value__value" data-i18n="attribute_higher_levels">Upon reaching levels 20, 40, and 60, the NPC chooses one of its Attributes and increases it by one die size (to a maximum of d12).</span>
            </div>
          </div>
          <div class="affinities--edit">
            <div class="chimera-input affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/>
              <label class="chimera-input__label" data-i18n="physical" for="physical">Physical</label>
              <select class="chimera-input__field" data-i18n-title="physical_title" id="physical" name="attr_physical" title="Physical Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/>
              <label class="chimera-input__label" data-i18n="air" for="air">Air</label>
              <select class="chimera-input__field" data-i18n-title="air_title" id="air" name="attr_air" title="Air Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/>
              <label class="chimera-input__label" data-i18n="bolt" for="bolt">Bolt</label>
              <select class="chimera-input__field" data-i18n-title="bolt_title" id="bolt" name="attr_bolt" title="Bolt Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/>
              <label class="chimera-input__label" data-i18n="dark" for="dark">Dark</label>
              <select class="chimera-input__field" data-i18n-title="dark_title" id="dark" name="attr_dark" title="Dark Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/>
              <label class="chimera-input__label" data-i18n="earth" for="earth">Earth</label>
              <select class="chimera-input__field" data-i18n-title="earth_title" id="earth" name="attr_earth" title="Earth Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/>
              <label class="chimera-input__label" data-i18n="fire" for="fire">Fire</label>
              <select class="chimera-input__field" data-i18n-title="fire_title" id="fire" name="attr_fire" title="Fire Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/>
              <label class="chimera-input__label" data-i18n="ice" for="ice">Ice</label>
              <select class="chimera-input__field" data-i18n-title="ice_title" id="ice" name="attr_ice" title="Ice Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/>
              <label class="chimera-input__label" data-i18n="light" for="light">Light</label>
              <select class="chimera-input__field" data-i18n-title="light_title" id="light" name="attr_light" title="Light Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/>
              <label class="chimera-input__label" data-i18n="poison" for="poison">Poison</label>
              <select class="chimera-input__field" data-i18n-title="poison_title" id="poison" name="attr_poison" title="Poison Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
          </div>
          <div class="affinities__skillcost chimera-shadow">
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_general_vulnerability">Gain 1 skill per vulnerability</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_physical_vulnerability">Gain 2 skills per physical vulnerability</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_resistance">Use 0.5 skill per Resistance</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_immunity">Use 1 skill per Immunity</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_absorption">Use 2 skill per Absorption</span>
            </div>
          </div>
          <div class="status-immunity--edit">
            <!-- TODO Status Immunities-->
          </div>
              <div class="defenses--edit">
                <div class="chimera-input defense defense__quick chimera-input--center">
                  <label class="chimera-input__label" data-i18n="defense_quick" for="defense_quick">Defenses</label>
                  <select class="chimera-input__field" data-i18n-title="defense_quick_title" id="defense_quick" name="attr_defense_quick" title="Defense Quick Select">
                    <option data-i18n="extra_defense_null" selected="selected" value="">—</option>
                    <option data-i18n="extra_defense_00" selected="selected" value="0/0">+0 Def / +0 M. Def</option>
                    <option data-i18n="extra_defense_12" value="1/2">+1 Def / +2 M. Def</option>
                    <option data-i18n="extra_defense_21" value="2/1">+2 Def / +1 M. Def</option>
                    <option data-i18n="extra_defense_33" value="3/3">+3 Def / +3 M. Def</option>
                    <option data-i18n="extra_defense_24" value="2/4">+2 Def / +4 M. Def</option>
                    <option data-i18n="extra_defense_42" value="4/2">+4 Def / +2 M. Def</option>
                  </select>
                </div>
                <div class="chimera-input defense defense__def chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="defense_extra" for="defense_extra">+DEF</label>
                  <input class="chimera-input__field" data-i18n-placeholder="defense_extra_placeholder" data-i18n-title="defense_extra_title" id="defense_extra" name="attr_defense_extra" placeholder="0" title="+DEF" type="number"/>
                </div>
                <div class="chimera-input defense defense__mdef chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="magic_defense_extra" for="magic_defense_extra">+M.DEF</label>
                  <input class="chimera-input__field" data-i18n-placeholder="magic_defense_extra_placeholder" data-i18n-title="magic_defense_extra_title" id="magic_defense_extra" name="attr_magic_defense_extra" placeholder="0" title="+M.DEF" type="number"/>
                </div>
              </div>
          <div class="extras">
            <!-- TODO Show max HP/MP here to see calculations at work-->
            <div class="chimera-input extra extra__hp_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="hp_extra" for="hp_extra">Extra HP</label>
              <input class="chimera-input__field" data-i18n-placeholder="hp_extra_placeholder" data-i18n-title="hp_extra_title" id="hp_extra" name="attr_hp_extra" placeholder="0" step="10" title="Extra HP" type="number"/>
            </div>
            <div class="chimera-input extra extra__mp_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="mp_extra" for="mp_extra">Extra MP</label>
              <input class="chimera-input__field" data-i18n-placeholder="mp_extra_placeholder" data-i18n-title="mp_extra_title" id="mp_extra" name="attr_mp_extra" placeholder="0" step="10" title="Extra MP" type="number"/>
            </div>
            <div class="chimera-input extra extra__initiative_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="initiative_extra" for="initiative_extra">Extra Initiative</label>
              <input class="chimera-input__field" data-i18n-placeholder="initiative_extra_placeholder" data-i18n-title="initiative_extra_title" id="initiative_extra" name="attr_initiative_extra" placeholder="0" title="Extra Initiative" type="number"/>
            </div>
          </div>
          <div class="extras extra--checkboxes">
            <label class="chimera-checkbox extra extra__initiative_bonus" data-i18n-title="initiative_bonus_title" title="+4 Initiative">
              <div class="chimera-checkbox__field">
                <input id="initiative_bonus" name="attr_initiative_bonus" type="checkbox" value="4"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="initiative_bonus" for="initiative_bonus">+4 Initiative</span>
            </label>
            <label class="chimera-checkbox extra extra__accuracy_bonus" data-i18n-title="accuracy_bonus_title" title="+3 bonus to all Accuracy checks">
              <div class="chimera-checkbox__field">
                <input id="accuracy_bonus" name="attr_accuracy_bonus" type="checkbox" value="3"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="accuracy_bonus" for="accuracy_bonus">+3 bonus to all Accuracy checks</span>
            </label>
            <label class="chimera-checkbox extra extra__magic_bonus" data-i18n-title="magic_bonus_title" title="+3 bonus to all Magic checks">
              <div class="chimera-checkbox__field">
                <input id="magic_bonus" name="attr_magic_bonus" type="checkbox" value="3"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="magic_bonus" for="magic_bonus">+3 bonus to all Magic checks</span>
            </label>
          </div>
              <div class="armor--edit">
                <h2 class="armor__heading--edit" data-i18n="armor">Armor</h2>
                <div class="armor">
                  <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                  <div class="chimera-input armor__name">
                    <label class="chimera-input__label" data-i18n="armor_name" for="armor_name">Name</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_name_placeholder" data-i18n-title="armor_name_title" id="armor_name" name="attr_armor_name" placeholder="Name" title="Name" type="text"/>
                  </div>
                  <label class="chimera-checkbox armor__martial chimera-checkbox--column-reverse" data-i18n-title="armor_is_martial_title" title="Martial">
                    <div class="chimera-checkbox__field">
                      <input id="armor_is_martial" name="attr_armor_is_martial" type="checkbox"/><img data-i18n-title="armor_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Martial"/>
                    </div><span class="chimera-checkbox__label" data-i18n="armor_is_martial" for="armor_is_martial">Martial</span>
                  </label>
                  <div class="chimera-input armor__defense chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_defense" for="armor_defense">DEF</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_defense_placeholder" data-i18n-title="armor_defense_title" id="armor_defense" name="attr_armor_defense" placeholder="0" title="Defense" type="number"/>
                  </div>
                  <div class="chimera-input armor__defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_defense_bonus_placeholder" data-i18n-title="armor_defense_bonus_title" id="armor_defense_bonus" name="attr_armor_defense_bonus" placeholder="0" title="Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input armor__magic_defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_magic_defense_bonus_placeholder" data-i18n-title="armor_magic_defense_bonus_title" id="armor_magic_defense_bonus" name="attr_armor_magic_defense_bonus" placeholder="0" title="Magic Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input armor__initiative chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_initiative" for="armor_initiative">Initiative</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_initiative_placeholder" data-i18n-title="armor_initiative_title" id="armor_initiative" name="attr_armor_initiative" placeholder="0" title="Initiative" type="number"/>
                  </div>
                  <div class="chimera-input armor__cost chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_cost" for="armor_cost">Cost</label>
                    <input class="chimera-input__field" data-i18n-placeholder="armor_cost_placeholder" data-i18n-title="armor_cost_title" id="armor_cost" min="0" name="attr_armor_cost" placeholder="0" step="50" title="Cost" type="number" value="0"/>
                  </div>
                </div>
              </div>
              <div class="shield--edit">
                <h2 class="shield__heading--edit" data-i18n="shield">Shield</h2>
                <div class="shield">
                  <div class="chimera-input shield__name">
                    <label class="chimera-input__label" data-i18n="shield_name" for="shield_name">Name</label>
                    <input class="chimera-input__field" data-i18n-placeholder="shield_name_placeholder" data-i18n-title="shield_name_title" id="shield_name" name="attr_shield_name" placeholder="Name" title="Name" type="text"/>
                  </div>
                  <label class="chimera-checkbox shield__martial chimera-checkbox--column-reverse" data-i18n-title="shield_is_martial_title" title="Martial">
                    <div class="chimera-checkbox__field">
                      <input id="shield_is_martial" name="attr_shield_is_martial" type="checkbox"/><img data-i18n-title="shield_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/martial.svg" title="Martial"/>
                    </div><span class="chimera-checkbox__label" data-i18n="shield_is_martial" for="shield_is_martial">Martial</span>
                  </label>
                  <div class="chimera-input shield__defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label>
                    <input class="chimera-input__field" data-i18n-placeholder="shield_defense_bonus_placeholder" data-i18n-title="shield_defense_bonus_title" id="shield_defense_bonus" name="attr_shield_defense_bonus" placeholder="0" title="Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input shield__magic_defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label>
                    <input class="chimera-input__field" data-i18n-placeholder="shield_magic_defense_bonus_placeholder" data-i18n-title="shield_magic_defense_bonus_title" id="shield_magic_defense_bonus" name="attr_shield_magic_defense_bonus" placeholder="0" title="Magic Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input shield__initiative chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_initiative" for="shield_initiative">Initiative</label>
                    <input class="chimera-input__field" data-i18n-placeholder="shield_initiative_placeholder" data-i18n-title="shield_initiative_title" id="shield_initiative" name="attr_shield_initiative" placeholder="0" title="Initiative" type="number"/>
                  </div>
                  <div class="chimera-input shield__cost chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_cost" for="shield_cost">Cost</label>
                    <input class="chimera-input__field" data-i18n-placeholder="shield_cost_placeholder" data-i18n-title="shield_cost_title" id="shield_cost" min="0" name="attr_shield_cost" placeholder="0" step="50" title="Cost" type="number" value="0"/>
                  </div>
                </div>
              </div>
              <div class="basic-attacks">
                <h2 class="basic-attacks__heading--edit" data-i18n="basic_attacks">Basic Attacks</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_basic-attacks_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_basic-attacks_repeating">No basic attacks saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_basic-attacks">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit basic-attacks--edit">
                        <div class="basic-attack">
                          <input class="chimera-hidden" name="attr_attack_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_damage_total" type="hidden"/>
                          <div class="chimera-input basic-attack__name">
                            <label class="chimera-input__label" data-i18n="attack_name" for="attack_name">Attack Name</label>
                            <input class="chimera-input__field" data-i18n-placeholder="attack_name_placeholder" data-i18n-title="attack_name_title" id="attack_name" name="attr_attack_name" placeholder="Attack Name" title="Attack Name" type="text"/>
                          </div>
                          <div class="chimera-input basic-attack__range chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_range" for="attack_range">Range</label>
                            <div class="chimera-switch">
                              <input name="attr_attack_range" type="hidden"/>
                              <div class="chimera-switch__group">
                                <label class="chimera-switch__label">
                                  <input id="attack_range" name="attr_attack_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                </label>
                                <label class="chimera-switch__label">
                                  <input id="attack_range" name="attr_attack_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-input basic-attack__attr1 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_attr1" for="attack_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="attack_attr1_title" id="attack_attr1" name="attr_attack_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input basic-attack__attr2 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_attr2" for="attack_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="attack_attr2_title" id="attack_attr2" name="attr_attack_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input basic-attack__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_type" for="attack_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="attack_type_title" id="attack_type" name="attr_attack_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <label class="chimera-checkbox basic-attack__extra_damage chimera-checkbox--column-reverse" data-i18n-title="attack_extra_damage_title" title="Extra Damage">
                            <div class="chimera-checkbox__field">
                              <input id="attack_extra_damage" name="attr_attack_extra_damage" type="checkbox" value="5"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="attack_extra_damage" for="attack_extra_damage">Extra Damage</span>
                          </label>
                          <div class="chimera-input basic-attack__special">
                            <label class="chimera-input__label" data-i18n="attack_special" for="attack_special">Special</label>
                            <textarea class="chimera-input__field" data-i18n-title="attack_special_title" id="attack_special" name="attr_attack_special" title="Special" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete basic-attacks--delete">
                        <div class="basic-attack">
                          <div class="chimera-value basic-attack__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_attack_name"></span>
                          </div><span>✦</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr2"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view basic-attacks--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="weapons">
                <h2 class="weapons__heading--edit" data-i18n="weapons">Weapons</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <div class="chimera-input weapon__name">
                            <label class="chimera-input__label" data-i18n="weapon_name" for="weapon_name">Weapon Name</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_name_placeholder" data-i18n-title="weapon_name_title" id="weapon_name" name="attr_weapon_name" placeholder="Weapon Name" title="Weapon Name" type="text"/>
                          </div>
                          <label class="chimera-checkbox weapon__martial chimera-checkbox--column-reverse" data-i18n-title="weapon_is_martial_title" title="Martial">
                            <div class="chimera-checkbox__field">
                              <input id="weapon_is_martial" name="attr_weapon_is_martial" type="checkbox"/><img data-i18n-title="weapon_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                            </div><span class="chimera-checkbox__label" data-i18n="weapon_is_martial" for="weapon_is_martial">Martial</span>
                          </label>
                          <div class="chimera-input weapon__range chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_range" for="weapon_range">Range</label>
                            <div class="chimera-switch">
                              <input name="attr_weapon_range" type="hidden"/>
                              <div class="chimera-switch__group">
                                <label class="chimera-switch__label">
                                  <input id="weapon_range" name="attr_weapon_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                </label>
                                <label class="chimera-switch__label">
                                  <input id="weapon_range" name="attr_weapon_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-input weapon__category chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_category" for="weapon_category">Category</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_category_title" id="weapon_category" name="attr_weapon_category" title="Category">
                              <option data-i18n="arcane" selected="selected" value="arcane">Arcane</option>
                              <option data-i18n="bow" value="bow">Bow</option>
                              <option data-i18n="brawling" value="brawling">Brawling</option>
                              <option data-i18n="dagger" selected="selected" value="dagger">Dagger</option>
                              <option data-i18n="firearm" value="firearm">Firearm</option>
                              <option data-i18n="flail" value="flail">Flail</option>
                              <option data-i18n="heavy" value="heavy">Heavy</option>
                              <option data-i18n="spear" value="spear">Spear</option>
                              <option data-i18n="sword" value="sword">Sword</option>
                              <option data-i18n="thrown" value="thrown">Thrown</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__attr1 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attr1" for="weapon_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_attr1_title" id="weapon_attr1" name="attr_weapon_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__attr2 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attr2" for="weapon_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_attr2_title" id="weapon_attr2" name="attr_weapon_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_accuracy" for="weapon_accuracy">Accuracy</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_accuracy_placeholder" data-i18n-title="weapon_accuracy_title" id="weapon_accuracy" min="0" name="attr_weapon_accuracy" placeholder="0" title="Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input weapon__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_type" for="weapon_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_type_title" id="weapon_type" name="attr_weapon_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__hands chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_hands" for="weapon_hands">Hands</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_hands_placeholder" data-i18n-title="weapon_hands_title" id="weapon_hands" max="2" min="1" name="attr_weapon_hands" placeholder="0" title="Hands" type="number"/>
                          </div>
                          <div class="chimera-input weapon__damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_damage" for="weapon_damage">Damage</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_damage_placeholder" data-i18n-title="weapon_damage_title" id="weapon_damage" min="0" name="attr_weapon_damage" placeholder="0" title="Damage" type="number"/>
                          </div>
                          <div class="chimera-input weapon__cost chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_cost" for="weapon_cost">Cost</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_cost_placeholder" data-i18n-title="weapon_cost_title" id="weapon_cost" min="0" name="attr_weapon_cost" placeholder="0" step="50" title="Cost" type="number"/>
                          </div>
                          <div class="chimera-input weapon__attack_name">
                            <label class="chimera-input__label" data-i18n="weapon_attack_name" for="weapon_attack_name">Attack Name</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_attack_name_placeholder" data-i18n-title="weapon_attack_name_title" id="weapon_attack_name" name="attr_weapon_attack_name" placeholder="Attack Name" title="Attack Name" type="text"/>
                          </div>
                          <div class="chimera-input weapon__attack_accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attack_accuracy" for="weapon_attack_accuracy">Attack Accuracy</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_attack_accuracy_placeholder" data-i18n-title="weapon_attack_accuracy_title" id="weapon_attack_accuracy" min="0" name="attr_weapon_attack_accuracy" placeholder="0" title="Attack Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input weapon__attack_damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attack_damage" for="weapon_attack_damage">Attack Damage</label>
                            <input class="chimera-input__field" data-i18n-placeholder="weapon_attack_damage_placeholder" data-i18n-title="weapon_attack_damage_title" id="weapon_attack_damage" min="0" name="attr_weapon_attack_damage" placeholder="0" title="Attack Damage" type="number"/>
                          </div>
                          <label class="chimera-checkbox weapon__extra_damage chimera-checkbox--column-reverse" data-i18n-title="weapon_extra_damage_title" title="Extra Damage">
                            <div class="chimera-checkbox__field">
                              <input id="weapon_extra_damage" name="attr_weapon_extra_damage" type="checkbox" value="5"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="weapon_extra_damage" for="weapon_extra_damage">Extra Damage</span>
                          </label>
                          <div class="chimera-input weapon__special">
                            <label class="chimera-input__label" data-i18n="weapon_special" for="weapon_special">Special</label>
                            <textarea class="chimera-input__field" data-i18n-title="weapon_special_title" id="weapon_special" name="attr_weapon_special" title="Special" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                        <div class="weapon">
                          <div class="chimera-value weapon__name"><span class="chimera-value__value" name="attr_weapon_name"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                            <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="spells">
                <h2 class="spells__heading--edit" data-i18n="spells">Spells</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <div class="chimera-input spell__name">
                            <label class="chimera-input__label" data-i18n="spell_name" for="spell_name">Spell Name</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_name_placeholder" data-i18n-title="spell_name_title" id="spell_name" name="attr_spell_name" placeholder="Spell Name" title="Spell Name" type="text"/>
                          </div>
                          <div class="chimera-input spell__mp chimera-input--center chimera-input--small">
                            <label class="chimera-input__label" data-i18n="spell_mp" for="spell_mp">MP</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_mp_placeholder" data-i18n-title="spell_mp_title" id="spell_mp" name="attr_spell_mp" placeholder="MP" title="MP" type="text"/>
                          </div>
                          <label class="chimera-checkbox spell__offensive chimera-checkbox--column-reverse" data-i18n-title="spell_is_offensive_title" title="Is Offensive">
                            <div class="chimera-checkbox__field">
                              <input id="spell_is_offensive" name="attr_spell_is_offensive" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="spell_is_offensive" for="spell_is_offensive">Is Offensive</span>
                          </label>
                          <div class="chimera-input spell__attr1 chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_attr1" for="spell_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="spell_attr1_title" id="spell_attr1" name="attr_spell_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__attr2 chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_attr2" for="spell_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="spell_attr2_title" id="spell_attr2" name="attr_spell_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_accuracy" for="spell_accuracy">Accuracy</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_accuracy_placeholder" data-i18n-title="spell_accuracy_title" id="spell_accuracy" min="0" name="attr_spell_accuracy" placeholder="0" title="Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input spell__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_type" for="spell_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="spell_type_title" id="spell_type" name="attr_spell_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_damage" for="spell_damage">Damage</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_damage_placeholder" data-i18n-title="spell_damage_title" id="spell_damage" min="0" name="attr_spell_damage" placeholder="0" title="Damage" type="number"/>
                          </div>
                          <div class="chimera-input spell__target">
                            <label class="chimera-input__label" data-i18n="spell_target" for="spell_target">Target</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_target_placeholder" data-i18n-title="spell_target_title" id="spell_target" name="attr_spell_target" placeholder="Target" title="Target" type="text"/>
                          </div>
                          <div class="chimera-input spell__duration">
                            <label class="chimera-input__label" data-i18n="spell_duration" for="spell_duration">Duration</label>
                            <input class="chimera-input__field" data-i18n-placeholder="spell_duration_placeholder" data-i18n-title="spell_duration_title" id="spell_duration" name="attr_spell_duration" placeholder="Duration" title="Duration" type="text"/>
                          </div>
                          <div class="chimera-input spell__effect">
                            <label class="chimera-input__label" data-i18n="spell_effect" for="spell_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="spell_effect_title" id="spell_effect" name="attr_spell_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <div class="chimera-value spell__name"><span class="chimera-value__value" name="attr_spell_name"></span>
                          </div>
                          <div class="spell__offensive"><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view spells--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="other-actions">
                <h2 class="other-actions__heading--edit" data-i18n="other_actions">Other Actions</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_other-actions_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_other-actions_repeating">No other actions saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_other-actions">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit other-actions--edit">
                        <div class="other-action">
                          <div class="chimera-input other-action__name">
                            <label class="chimera-input__label" data-i18n="action_name" for="action_name">Action</label>
                            <input class="chimera-input__field" data-i18n-placeholder="action_name_placeholder" data-i18n-title="action_name_title" id="action_name" name="attr_action_name" placeholder="Action" title="Action" type="text"/>
                          </div>
                          <div class="chimera-input other-action__effect">
                            <label class="chimera-input__label" data-i18n="action_effect" for="action_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="action_effect_title" id="action_effect" name="attr_action_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete other-actions--delete">
                        <div class="other-action">
                          <div class="chimera-value other-action__name"><span class="chimera-value__value" name="attr_action_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view other-actions--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="special-rules">
                <h2 class="special-rules__heading--edit" data-i18n="special_rules">Special Rules</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_special-rules_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_special-rules_repeating">No special rules saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_special-rules">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit special-rules--edit">
                        <div class="special-rule">
                          <div class="chimera-input special-rule__name">
                            <label class="chimera-input__label" data-i18n="special_name" for="special_name">Special</label>
                            <input class="chimera-input__field" data-i18n-placeholder="special_name_placeholder" data-i18n-title="special_name_title" id="special_name" name="attr_special_name" placeholder="Special" title="Special" type="text"/>
                          </div>
                          <div class="chimera-input special-rule__effect">
                            <label class="chimera-input__label" data-i18n="special_effect" for="special_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="special_effect_title" id="special_effect" name="attr_special_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete special-rules--delete">
                        <div class="special-rule">
                          <div class="chimera-value special-rule__name"><span class="chimera-value__value" name="attr_special_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view special-rules--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="rare-gears">
                <h2 class="rare-gears__heading--edit" data-i18n="rare_gear">rare gear</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rare-gears_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_rare-gears_repeating">No rare gears saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_rare-gears">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit rare-gears--edit">
                        <div class="rare-gear">
                          <div class="chimera-input rare-gear__name">
                            <label class="chimera-input__label" data-i18n="raregear_name" for="raregear_name">Equipment</label>
                            <input class="chimera-input__field" data-i18n-placeholder="raregear_name_placeholder" data-i18n-title="raregear_name_title" id="raregear_name" name="attr_raregear_name" placeholder="Equipment" title="Equipment" type="text"/>
                          </div>
                          <div class="chimera-input rare-gear__effect">
                            <label class="chimera-input__label" data-i18n="raregear_effect" for="raregear_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="raregear_effect_title" id="raregear_effect" name="attr_raregear_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete rare-gears--delete">
                        <div class="rare-gear">
                          <div class="chimera-value rare-gear__name"><span class="chimera-value__value" name="attr_raregear_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view rare-gears--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="notes">
                <h2 class="notes__heading--edit" data-i18n="notes">Notes</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_notes">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit notes--edit">
                        <div class="note">
                          <div class="chimera-input note__name">
                            <label class="chimera-input__label" data-i18n="note_name" for="note_name">Note</label>
                            <input class="chimera-input__field" data-i18n-placeholder="note_name_placeholder" data-i18n-title="note_name_title" id="note_name" name="attr_note_name" placeholder="Note" title="Note" type="text"/>
                          </div>
                          <div class="chimera-input note__effect">
                            <label class="chimera-input__label" data-i18n="note_effect" for="note_effect">Details</label>
                            <textarea class="chimera-input__field" data-i18n-title="note_effect_title" id="note_effect" name="attr_note_effect" title="Details" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete notes--delete">
                        <div class="note">
                          <div class="chimera-value note__name"><span class="chimera-value__value" name="attr_note_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view notes--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
        </section>
  </main>
  <main class="gm"><span>[GM]</span></main>
  <footer>
    <div class="chimera-value">
      <label class="chimera-value__label" data-i18n="sheet_version" for="sheet_version">Version</label><span class="chimera-value__value" name="attr_sheet_version"></span>
    </div>
  </footer>
</div>
<rolltemplate class="sheet-rolltemplate-fabula-attack">
  <div class="sheet-roll sheet-{{sheet_type}}">
    <div class="sheet-roll-header">{{#avatar}}
      <div class="sheet-avatar">[avatar]({{ avatar }})</div>{{/avatar}}
      <div class="sheet-character-name"><span>{{ character }}</span></div>
      <div class="sheet-roll-type"><span>{{ action }}</span></div>
    </div>{{#^rollTotal() computed::critical 0}}{{#rollGreater() computed::critical 0}}
    <div class="sheet-critical-success"><span class="sheet-fabula-important" data-i18n="is_critical">Critical Success!</span></div>{{/rollGreater() computed::critical 0}}{{#rollLess() computed::critical 0}}
    <div class="sheet-critical-fumble"><span class="sheet-fabula-important" data-i18n="is_fumble">Critical Fumble!</span></div>{{/rollLess() computed::critical 0}}{{/^rollTotal() computed::critical 0}}
    <div class="sheet-header">{{#melee}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg"/>{{/melee}}{{#distance}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg"/>{{/distance}}{{#spell}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg"/>{{/spell}}{{#elixir}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elixir.png"/>{{/elixir}}{{#remedy}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/remedy.png"/>{{/remedy}}{{#tonic}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/tonic.png"/>{{/tonic}}{{#elementalshard}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elemental-shard.png"/>{{/elementalshard}}{{#magictent}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/magic-tent.png"/>{{/magictent}}<span class="sheet-fabula-label">{{ name }}</span>
    </div>{{^noaction}}
    <div class="sheet-action">
      <div><span class="sheet-fabula-label">{{ check }}</span><span class="sheet-fabula-span">{{ roll }}</span>{{#vs}}<span class="sheet-fabula-span" data-i18n="vs">vs</span><span class="sheet-fabula-span">{{ vs }}</span>{{/vs}}
      </div>{{^nodamage}}{{#damage}}
      <div><span class="span sheet-fabula-label">{{ hr }}</span><span class="sheet-fabula-span">{{ computed::damage }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ type }}</span></div>{{/damage}}{{/nodamage}}
      <!-- TODO Vunerable and Resistance calculations-->
      <!-- preferrably shown by hover or something?-->
    </div>{{/noaction}}
    <div class="sheet-details">{{#potency}}
      <div><span class="sheet-fabula-label" data-i18n="potency">Potency</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ potency }}</span></div>{{/potency}}{{#area}}
      <div><span class="sheet-fabula-label" data-i18n="area">Area</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ area }}</span></div>{{/area}}{{#mp}}
      <div><span class="sheet-fabula-span">{{ mp }}</span><span class="sheet-fabula-label" data-i18n="mp">MP</span></div>{{/mp}}{{#target}}
      <div><span class="sheet-fabula-label" data-i18n="target">Target</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ target }}</span></div>{{/target}}{{#duration}}
      <div><span class="sheet-fabula-label" data-i18n="duration">Duration</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ duration }}</span></div>{{/duration}}{{#effect}}<span class="sheet-fabula-span">{{ effect }}</span>{{/effect}}{{#special}}<span class="sheet-fabula-span">{{ special }}</span>{{/special}}
    </div>
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-fabula-chat">
  <div class="sheet-roll sheet-{{sheet_type}}">
    <div class="sheet-roll-header">{{#avatar}}
      <div class="sheet-avatar">[avatar]({{ avatar }})</div>{{/avatar}}
      <div class="sheet-character-name"><span>{{ character }}</span></div>
      <div class="sheet-roll-type"><span>{{ action }}</span></div>
    </div>{{#name}}
    <div class="sheet-header">{{#melee}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg"/>{{/melee}}{{#distance}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg"/>{{/distance}}{{#spell}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg"/>{{/spell}}{{#elixir}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elixir.png"/>{{/elixir}}{{#remedy}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/remedy.png"/>{{/remedy}}{{#tonic}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/tonic.png"/>{{/tonic}}{{#elementalshard}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/elemental-shard.png"/>{{/elementalshard}}{{#magictent}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/inventory/magic-tent.png"/>{{/magictent}}<span class="sheet-fabula-label">{{ name }}</span>{{#level}}<span class="sheet-fabula-level" data-i18n="lv">Lv</span><span class="sheet-fabula-level">{{ level }}</span>{{/level}}{{#martial}}<span class="sheet-fabula-diamond">✦</span>{{/martial}}{{#subtitle}}<span class="sheet-fabula-subtitle">{{ subtitle }}</span>{{/subtitle}}
    </div>{{/name}}{{#study}}
    <div class="sheet-header sheet-space-around">{{#rank}}{{#species}}<span class="sheet-fabula-span">{{ rank }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ species }}</span>{{/species}}{{/rank}}{{#hp_max}}{{#mp_max}}<span class="sheet-fabula-diamond">⬥</span>
      <div class="sheet-hp"><span class="sheet-fabula-span">{{ hp_max }}</span><span class="sheet-fabula-label" data-i18n="hp_max">HP</span></div><span class="sheet-fabula-diamond">⬥</span>
      <div class="sheet-mp"><span class="sheet-fabula-span">{{ mp_max }}</span><span class="sheet-fabula-label" data-i18n="mp_max">MP</span></div>{{/mp_max}}{{/hp_max}}
    </div>{{/study}}{{#dexterity}}{{#insight}}{{#might}}{{#willpower}}
    <div class="sheet-details">
      <div class="sheet-attributes sheet-space-around">
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="dexterity">DEX</span><span class="sheet-fabula-span">{{ dexterity }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="insight">INS</span><span class="sheet-fabula-span">{{ insight }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="might">MIG</span><span class="sheet-fabula-span">{{ might }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="willpower">WLP</span><span class="sheet-fabula-span">{{ willpower }}</span></div>
      </div>
    </div>{{/willpower}}{{/might}}{{/insight}}{{/dexterity}}
    <div class="sheet-details sheet-flex">{{#physical}}
      <div class="sheet-affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="physical">Physical</span><span class="sheet-fabula-span sheet-uppercase">{{ physical }}</span>
      </div>{{/physical}}{{#air}}
      <div class="sheet-affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="air">Air</span><span class="sheet-fabula-span sheet-uppercase">{{ air }}</span>
      </div>{{/air}}{{#bolt}}
      <div class="sheet-affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="bolt">Bolt</span><span class="sheet-fabula-span sheet-uppercase">{{ bolt }}</span>
      </div>{{/bolt}}{{#dark}}
      <div class="sheet-affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="dark">Dark</span><span class="sheet-fabula-span sheet-uppercase">{{ dark }}</span>
      </div>{{/dark}}{{#earth}}
      <div class="sheet-affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="earth">Earth</span><span class="sheet-fabula-span sheet-uppercase">{{ earth }}</span>
      </div>{{/earth}}{{#fire}}
      <div class="sheet-affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="fire">Fire</span><span class="sheet-fabula-span sheet-uppercase">{{ fire }}</span>
      </div>{{/fire}}{{#ice}}
      <div class="sheet-affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="ice">Ice</span><span class="sheet-fabula-span sheet-uppercase">{{ ice }}</span>
      </div>{{/ice}}{{#light}}
      <div class="sheet-affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="light">Light</span><span class="sheet-fabula-span sheet-uppercase">{{ light }}</span>
      </div>{{/light}}{{#poison}}
      <div class="sheet-affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="poison">Poison</span><span class="sheet-fabula-span sheet-uppercase">{{ poison }}</span>
      </div>{{/poison}}
    </div>
    <div class="sheet-details">{{#benefit}}
      <div><span class="sheet-fabula-span">{{ benefit }}</span></div>{{/benefit}}{{#accuracy}}
      <div><span class="sheet-fabula-label">{{ accuracy }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-label">{{ damage }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ type }}</span></div>{{/accuracy}}{{#def}}{{#mdef}}
      <div><span class="sheet-fabula-label" data-i18n="defense">DEF</span><span class="sheet-fabula-span">{{ def }}</span></div>
      <div><span class="sheet-fabula-label" data-i18n="magic_defense">M.DEF</span><span class="sheet-fabula-span">{{ mdef }}</span></div>{{/mdef}}{{/def}}{{#category}}{{#hands}}
      <div><span class="sheet-fabula-span">{{ category }}</span><span class="sheet-fabula-span" data-i18n="{{ hands }}-handed">X-Handed</span></div>{{/hands}}{{/category}}{{#init}}
      <div><span class="sheet-fabula-label" data-i18n="init">Init.</span><span class="sheet-fabula-span">{{ init }}</span></div>{{/init}}{{#cost}}
      <div><span class="sheet-fabula-label" data-i18n="cost">Cost</span><span class="sheet-fabula-span">{{ cost }}</span></div>{{/cost}}{{#traits}}
      <div><span class="sheet-fabula-label" data-i18n="traits">Traits</span><span class="sheet-fabula-span">{{ traits }}</span></div>{{/traits}}{{#bond}}
      <div class="sheet-bonds">{{#approval}}<span class="sheet-fabula-span">{{ approval }}</span>{{/approval}}{{#allegiance}}<span class="sheet-fabula-span">{{ allegiance }}</span>{{/allegiance}}{{#fondness}}<span class="sheet-fabula-span">{{ fondness }}</span>{{/fondness}}
      </div>{{/bond}}{{#effect}}<span class="sheet-fabula-span">{{ effect }}</span>{{/effect}}{{#special}}<span class="sheet-fabula-span">{{ special }}</span>{{/special}}
    </div>
    <div class="sheet-details">{{#basicattacks}}
      <div class="sheet-detail-banner"><span class="sheet-fabula-important" data-i18n="basic_attacks">Basic Attacks</span></div><span class="sheet-fabula-span">...</span>{{/basicattacks}}{{#spells}}
      <div class="sheet-detail-banner"><span class="sheet-fabula-important" data-i18n="spells">Spells</span></div><span class="sheet-fabula-span">...</span>{{/spells}}
    </div>
  </div>
</rolltemplate>
<script type="text/worker">const NAVBAR = [
    'stats',
    'bonds',
    'classes',
    'equipment',
    'backpack',
    'magic',
    'journal',
    'settings',
];
const REPEATING = [
    'weapons',
    'spells',
    'rituals',
    'rolls',
    'classes',
    'armors',
    'shields',
    'accessories',
    'inventory',
    'notes',
    'quests',
    'projects',
    'friends',
    'creatures',
    'locations',
    'artifacts',
    'discoveries',
    'items',
    'basic-attacks',
    'other-actions',
    'special-rules',
    'rare-gears',
];
const DIE_SIZES = [6, 8, 10, 12];
const STUDY_THRESHOLDS = [7, 10, 13];
const VILLAIN_ULTIMA_POINTS = {
    minor: 5,
    major: 10,
    supreme: 15,
};
const STATUS_EFFECTS = {
    dazed: -1,
    enraged: -1,
    poisoned: -1,
    shaken: -1,
    slow: -1,
    weak: -1,
    dexterity_boost: 1,
    insight_boost: 1,
    might_boost: 1,
    willpower_boost: 1,
};
const RITUAL_DISCIPLINES = [
    'arcanism',
    'chimerism',
    'elementalism',
    'entropism',
    'ritualism',
    'spiritism',
];
const MARTIAL_PROFICIENCIES = ['martialmelee', 'martialranged', 'martialarmor', 'martialshield'];
const RITUAL_DIFFICULTY = {
    difficulty: {
        minor: 7,
        medium: 10,
        major: 13,
        extreme: 16,
    },
    potency: {
        minor: 20,
        medium: 30,
        major: 40,
        extreme: 50,
    },
    area: {
        individual: 1,
        small: 2,
        large: 3,
        huge: 4,
    },
};
const ATTR_ABBREVIATIONS = {
    dexterity: 'dex',
    insight: 'ins',
    might: 'mig',
    willpower: 'wlp',
};
const AFFINITIES = ['physical', 'air', 'bolt', 'dark', 'earth', 'fire', 'ice', 'light', 'poison'];
const ATTR_WATCH = {
    dexterity: [
        'dexterity_max',
        'slow',
        'enraged',
        'dexterity_boost',
        'slow_immunity',
        'enraged_immunity',
    ],
    insight: [
        'insight_max',
        'dazed',
        'enraged',
        'insight_boost',
        'dazed_immunity',
        'enraged_immunity',
    ],
    might: ['might_max', 'weak', 'poisoned', 'might_boost', 'weak_immunity', 'poisoned_immunity'],
    willpower: [
        'willpower_max',
        'shaken',
        'poisoned',
        'willpower_boost',
        'shaken_immunity',
        'poisoned_immunity',
    ],
    hp: ['sheet_type', 'might_max', 'level', 'hp_extra', 'class_hp_total'],
    mp: ['sheet_type', 'willpower_max', 'level', 'mp_extra', 'class_mp_total'],
    ip: ['sheet_type', 'ip_extra', 'class_ip_total'],
    ultima_points: ['sheet_type', 'villain'],
    villain: ['villain', 'multipart', 'phases'],
    initiative: ['dexterity', 'insight', 'initiative_extra', 'initiative_bonus', 'initiative_total'],
    level: [
        'sheet_type',
        'repeating_classes:class_skill1_level',
        'repeating_classes:class_skill2_level',
        'repeating_classes:class_skill3_level',
        'repeating_classes:class_skill4_level',
        'repeating_classes:class_skill5_level',
        'repeating_classes:class_martialmelee',
        'repeating_classes:class_martialranged',
        'repeating_classes:class_martialarmor',
        'repeating_classes:class_martialshield',
        'repeating_classes:class_benefit',
    ],
    defense: [
        'dexterity',
        'defense_quick',
        'defense_extra',
        'armor_is_martial',
        'armor_defense',
        'armor_defense_bonus',
        'armor_initiative',
        'shield_initiative',
        'shield_defense_bonus',
        'repeating_armors:armor_is_martial',
        'repeating_armors:armor_defense',
        'repeating_armors:armor_defense_bonus',
        'repeating_armors:armor_initiative',
        'repeating_armors:armor_is_equipped',
        'repeating_shields:shield_defense_bonus',
        'repeating_shields:shield_initiative',
        'repeating_shields:shield_is_equipped',
    ],
    magic_defense: [
        'insight',
        'defense_quick',
        'magic_defense_extra',
        'armor_magic_defense_bonus',
        'shield_magic_defense_bonus',
        'repeating_armors:armor_magic_defense_bonus',
        'repeating_armors:armor_is_equipped',
        'repeating_shields:shield_magic_defense_bonus',
        'repeating_shields:shield_is_equipped',
    ],
    equipped: [
        'repeating_armors:armor_is_equipped',
        'repeating_shields:shield_is_equipped',
        'repeating_accessories:accessory_is_equipped',
        'repeating_weapons:weapon_is_equipped',
    ],
    bonds: [1, 2, 3, 4, 5, 6].flatMap((bond) => [
        `bond${bond}_approval`,
        `bond${bond}_allegiance`,
        `bond${bond}_fondness`,
    ]),
    basic_attacks: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_basic-attacks:attack_name',
        'repeating_basic-attacks:attack_extra_damage',
    ],
    weapons: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_weapons:weapon_accuracy',
        'repeating_weapons:weapon_damage',
        'repeating_weapons:weapon_attack_accuracy',
        'repeating_weapons:weapon_attack_damage',
        'repeating_weapons:weapon_extra_damage',
    ],
    spells: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_spells:spell_accuracy',
        'repeating_spells:spell_damage',
    ],
    rituals: [
        'sheet_type',
        'accuracy_bonus',
        'repeating_rituals:ritual_accuracy',
        'repeating_rituals:ritual_potency',
        'repeating_rituals:ritual_area',
        ...RITUAL_DISCIPLINES,
    ],
};
const INVENTORY_DATA = {
    elixir: {
        label: 'Elixir',
        icon: 'elixir',
        cost: 3,
        effect: 'One creature recovers 50 Mind Points.',
    },
    remedy: {
        label: 'Remedy',
        icon: 'remedy',
        cost: 3,
        effect: 'One creature recovers 50 Hit Points.',
    },
    tonic: {
        label: 'Tonic',
        icon: 'tonic',
        cost: 2,
        effect: 'One creature recovers from a single status effect.',
    },
    elementalshard: {
        label: 'Elemental Shard',
        icon: 'elementalshard',
        cost: 2,
        effect: 'One creature suffers 10 damage of a type of your choice (air, bolt, earth, fire, or ice).',
    },
    magictent: {
        label: 'Magic Tent',
        icon: 'magictent',
        cost: 4,
        effect: 'Allows the entire group to rest in the wilderness.',
    },
};
const SECTION_PREFIX = {
    repeating_armors: 'armor_',
    repeating_shields: 'shield_',
    repeating_accessories: 'accessory_',
    repeating_weapons: 'weapon_',
};
const BUTTON_ACTIONS = {
    hp: ['hp-control-add', 'hp-control-subtract'],
    mp: ['mp-control-add', 'mp-control-subtract'],
    ip: ['ip-control-add', 'ip-control-subtract'],
};
const CLICK_LISTENERS = {
    'repeating_basic-attacks:basicattack': 'basicattack',
    'repeating_weapons:weaponattack': 'weaponattack',
    'repeating_weapons:weaponchat': 'weaponchat',
    'repeating_armors:armorchat': 'armorchat',
    'repeating_shields:shieldchat': 'shieldchat',
    'repeating_accessories:accessorychat': 'accessorychat',
    'repeating_spells:spell': 'spell',
    'repeating_rituals:ritual': 'ritual',
    'repeating_other-actions:otheractionchat': 'otheractionchat',
    'repeating_special-rules:specialrulechat': 'specialrulechat',
    'repeating_rare-gears:raregearchat': 'raregearchat',
    'repeating_notes:notechat': 'notechat',
    'repeating_classes:classchat': 'classchat',
    'repeating_classes:skill1chat': 'skill1',
    'repeating_classes:skill2chat': 'skill2',
    'repeating_classes:skill3chat': 'skill3',
    'repeating_classes:skill4chat': 'skill4',
    'repeating_classes:skill5chat': 'skill5',
    'repeating_classes:skill6chat': 'skill6',
    'armorchat': 'armorchat',
    'shieldchat': 'shieldchat',
    'study7': 'study7',
    'study10': 'study10',
    'study13': 'study13',
    'bond1chat': 'bond1',
    'bond2chat': 'bond2',
    'bond3chat': 'bond3',
    'bond4chat': 'bond4',
    'bond5chat': 'bond5',
    'bond6chat': 'bond6',
    'declare-fabula': 'fabulapoints',
    'elixir': 'elixir',
    'remedy': 'remedy',
    'tonic': 'tonic',
    'elementalshard': 'elementalshard',
    'magictent': 'magictent',
    'check_sneak': 'check',
    'check_dodge': 'check',
    'check_anticipate': 'check',
    'check_tinker': 'check',
    'check_captivate': 'check',
    'check_study': 'check',
    'check_recall': 'check',
    'check_interrogate': 'check',
    'check_persuade': 'check',
    'check_effort': 'check',
    'check_endure': 'check',
    'check_intimidate': 'check',
    'check_custom': 'check',
};
const SEND_TO_CHAT = {
    ...[1, 2, 3, 4, 5, 6].reduce((memo, bond) => ((memo[`bond${bond}`] = [
        `bond${bond}_name`,
        `bond${bond}_level`,
        `bond${bond}_approval`,
        `bond${bond}_allegiance`,
        `bond${bond}_fondness`,
        `bond${bond}_description`,
    ]),
        memo), {}),
    basicattack: [
        'attack_name',
        'attack_range',
        'attack_attr1',
        'attack_attr2',
        'attack_accuracy_total',
        'attack_damage_total',
        'attack_type',
        'attack_special',
    ],
    weaponattack: [
        'weapon_name',
        'weapon_accuracy_total',
        'weapon_attack_accuracy',
        'weapon_attack_damage',
        'weapon_attack_name',
        'weapon_attr1',
        'weapon_attr2',
        'weapon_category',
        'weapon_damage_total',
        'weapon_extra_damage',
        'weapon_hands',
        'weapon_name',
        'weapon_range',
        'weapon_special',
        'weapon_type',
    ],
    spell: [
        'spell_name',
        'spell_is_offensive',
        'spell_accuracy_total',
        'spell_attr1',
        'spell_attr2',
        'spell_damage_total',
        'spell_duration',
        'spell_effect',
        'spell_mp',
        'spell_name',
        'spell_target',
        'spell_type',
    ],
    ritual: [
        'ritual_name',
        'ritual_discipline',
        'ritual_attr1',
        'ritual_attr2',
        'ritual_accuracy_total',
        'ritual_potency',
        'ritual_area',
        'ritual_difficulty',
        'ritual_mp',
        'ritual_effect',
    ],
    otheractionchat: ['action_name', 'action_effect'],
    specialrulechat: ['special_name', 'special_effect'],
    raregearchat: ['raregear_name', 'raregear_effect'],
    notechat: ['note_name', 'note_effect'],
    armorchat: [
        'armor_is_martial',
        'armor_name',
        'armor_defense',
        'armor_defense_bonus',
        'armor_magic_defense_bonus',
        'armor_initiative',
        'armor_cost',
        'armor_special',
    ],
    shieldchat: [
        'shield_name',
        'shield_is_martial',
        'shield_defense_bonus',
        'shield_magic_defense_bonus',
        'shield_initiative',
        'shield_cost',
        'shield_special',
    ],
    accessorychat: ['accessory_name', 'accessory_cost', 'accessory_special'],
    weaponchat: [
        'weapon_name',
        'weapon_is_martial',
        'weapon_range',
        'weapon_category',
        'weapon_attr1',
        'weapon_attr2',
        'weapon_accuracy',
        'weapon_type',
        'weapon_hands',
        'weapon_damage',
        'weapon_cost',
        'weapon_special',
    ],
    study7: ['rank', 'species', 'hp', 'hp_max', 'hp_crisis', 'mp_max'],
    classchat: [
        'class_name',
        'class_level',
        'class_skills_taken',
        'class_benefit',
        'level',
        'class_description',
    ],
    skill1: ['class_name', 'class_skill1_name', 'class_skill1_level', 'class_skill1_description'],
    skill2: ['class_name', 'class_skill2_name', 'class_skill2_level', 'class_skill2_description'],
    skill3: ['class_name', 'class_skill3_name', 'class_skill3_level', 'class_skill3_description'],
    skill4: ['class_name', 'class_skill4_name', 'class_skill4_level', 'class_skill4_description'],
    skill5: ['class_name', 'class_skill5_name', 'class_skill5_level', 'class_skill5_description'],
    skill6: ['class_name', 'class_skill6_name', 'class_skill6_level', 'class_skill6_description'],
    fabulapoints: ['fabula_points', 'spend_fabula_points'],
    check: [
        'dexterity',
        'insight',
        'might',
        'willpower',
        'check_attr1',
        'check_attr2',
        'check_description',
    ],
};
SEND_TO_CHAT.study10 = [
    ...SEND_TO_CHAT.study7,
    'traits',
    'dexterity_max',
    'insight_max',
    'might_max',
    'willpower_max',
    'defense',
    'magic_defense',
    'physical',
    'air',
    'bolt',
    'dark',
    'earth',
    'fire',
    'ice',
    'light',
    'poison',
];
SEND_TO_CHAT.study13 = [...SEND_TO_CHAT.study10];
const COMMON_CHECKS = {
    sneak: {
        attrs: ['dexterity', 'dexterity'],
        label: 'Sneak',
        title: 'Moving silently, hiding and acting unnoticed.',
    },
    dodge: {
        attrs: ['dexterity', 'insight'],
        label: 'Dodge',
        title: 'Avoiding a trap or finding a way to flee a collapsing building.',
    },
    anticipate: {
        attrs: ['dexterity', 'insight'],
        label: 'Anticipate',
        title: 'Anticipating someone’s movements and catching them by surprise.',
    },
    tinker: {
        attrs: ['dexterity', 'insight'],
        label: 'Tinker',
        title: 'Completing a work of craftsmanship or repairing something.',
    },
    captivate: {
        attrs: ['dexterity', 'willpower'],
        label: 'Captivate',
        title: 'Moving gracefully to earn someone’s attention.',
    },
    study: {
        attrs: ['insight', 'insight'],
        label: 'Study',
        title: 'Examining or investigating someone or something.',
    },
    recall: {
        attrs: ['insight', 'insight'],
        label: 'Recall',
        title: 'Remembering useful information about something.',
    },
    interrogate: {
        attrs: ['insight', 'willpower'],
        label: 'Interrogate',
        title: 'Getting information from someone during a conversation.',
    },
    persuade: {
        attrs: ['insight', 'willpower'],
        label: 'Persuade',
        title: 'Persuading someone through authority or diplomacy.',
    },
    effort: {
        attrs: ['might', 'might'],
        label: 'Effort',
        title: 'Hard work, such as lifting a portcullis or pushing a statue.',
    },
    endure: {
        attrs: ['might', 'willpower'],
        label: 'Endure',
        title: 'Resisting intense pain or fatigue.',
    },
    intimidate: {
        attrs: ['might', 'willpower'],
        label: 'Intimidate',
        title: 'Intimidating someone with your strength.',
    },
};
const ROLLTEMPLATE_REQUESTS = ['character_avatar', 'sheet_type', 'roll_mods'];
const EQUIPMENT_REQUESTS = [
    'sheet_type',
    'dexterity',
    'insight',
    'dual_shieldbearer',
    'armor_defense_bonus',
    'armor_defense',
    'armor_is_martial',
    'armor_magic_defense_bonus',
    'defense_extra',
    'defense_extra',
    'magic_defense_extra',
    'magic_defense_extra',
    'shield_defense_bonus',
    'shield_magic_defense_bonus',
    'armor_initiative',
    'shield_initiative',
];
const CHARACTER_EQUIPMENTS = [
    {
        section: 'repeating_armors',
        fields: [
            'armor_is_equipped',
            'armor_is_martial',
            'armor_defense',
            'armor_defense_bonus',
            'armor_magic_defense_bonus',
        ],
    },
    {
        section: 'repeating_shields',
        fields: ['shield_is_equipped', 'shield_defense_bonus', 'shield_magic_defense_bonus'],
    },
    { section: 'repeating_accessories', fields: ['accessory_is_equipped'] },
    { section: 'repeating_weapons', fields: ['weapon_is_equipped', 'weapon_hands'] },
];
const CHARACTER_SKILL_LEVEL = [
    {
        section: 'repeating_classes',
        fields: [
            'class_skill1_name',
            'class_skill1_level',
            'class_skill2_name',
            'class_skill2_level',
            'class_skill3_name',
            'class_skill3_level',
            'class_skill4_name',
            'class_skill4_level',
            'class_skill5_name',
            'class_skill5_level',
            'class_benefit',
            'class_martialmelee',
            'class_martialranged',
            'class_martialarmor',
            'class_martialshield',
        ],
    },
];
const CLASS_BENEFIT = {
    hp: 5,
    mp: 5,
    ip: 2,
};
const BASIC_ACCURACY_DAMAGE = [
    {
        section: 'repeating_basic-attacks',
        fields: ['attack_extra_damage'],
    },
];
const WEAPON_ACCURACY_DAMAGE = [
    {
        section: 'repeating_weapons',
        fields: [
            'weapon_accuracy',
            'weapon_damage',
            'weapon_attack_accuracy',
            'weapon_attack_damage',
            'weapon_extra_damage',
        ],
    },
];
const SPELL_ACCURACY_DAMAGE = [
    {
        section: 'repeating_spells',
        fields: ['spell_accuracy', 'spell_damage'],
    },
];
const RITUAL_ACCURACY_DIFFICULTY = [
    {
        section: 'repeating_rituals',
        fields: ['ritual_accuracy', 'ritual_potency', 'ritual_area'],
    },
];
const reverseMap = (enumObj, value) => {
    return Object.keys(enumObj).find((key) => enumObj[key] === value);
};
const listenersByKey = (obj, event) => {
    return Object.entries(obj).reduce((memo, [key, arr]) => {
        memo[key] = listeners(arr, event);
        return memo;
    }, {});
};
const listeners = (arr, event = 'change') => {
    return arr.map((str) => `${event}:${str}`).join(' ');
};
function chimeraRoll(template, attributes, rolls, callback) {
    const x = Object.entries(attributes)
        .map(([key, val]) => `{{${key}=${val}}}`)
        .join(' ');
    const r = Object.entries(rolls)
        .map(([key, val]) => `{{${key}=[[${val}]]}}`)
        .join(' ');
    const rollstring = `&{template:${template}} ${x} ${r}`;
    startRoll(rollstring, callback);
}
function getTranslation(key, dne = '') {
    return getTranslationByKey(key) || dne;
}
Object.entries(CLICK_LISTENERS).forEach(([btn, key]) => {
    on(`clicked:${btn}`, async (eventInfo) => {
        const id = RepeatingModule.getRepId(eventInfo?.sourceAttribute);
        return handleClick(key, id ?? btn);
    });
});
const checkForCritical = (dice) => {
    return dice.every((die) => die === 1)
        ? -1
        : dice.every((die) => die >= 6 && die === dice.at(0))
            ? 1
            : 0;
};
const handleClick = async (btn, id) => {
    switch (btn) {
        case 'basicattack':
        case 'weaponattack':
        case 'spell':
        case 'ritual':
        case 'check':
            return rollAction(btn, id);
        default:
            return sendToChat(btn, id);
    }
};
const getSendChatRequest = (key, id) => {
    const entries = Object.entries(CLICK_LISTENERS);
    const entry = entries.filter(([rpt, val]) => key === val).at(0) ?? [''];
    const fieldset = entry.at(0).split(':').at(0);
    let request;
    let prefix = '';
    if (fieldset.includes('repeating')) {
        prefix = `${fieldset}_${id}_`;
        const attributes = SEND_TO_CHAT[key].reduce((memo, v) => ((memo[v] = prefix + v), memo), {});
        request = Object.values(attributes);
    }
    else {
        request = SEND_TO_CHAT[key] ?? [];
    }
    return { request, prefix };
};
const chatData = (key, prefix, values) => {
    const attrPrefix = (function () {
        switch (key) {
            case 'otheractionchat':
                return 'action_';
            case 'specialrulechat':
                return 'special_';
            case 'raregearchat':
                return 'raregear_';
            case 'notechat':
                return 'note_';
            case 'armorchat':
                return 'armor_';
            case 'shieldchat':
                return 'shield_';
            case 'accessorychat':
                return 'accessory_';
            case 'weaponattack':
            case 'weaponchat':
                return 'weapon_';
            case 'basicattack':
                return 'attack_';
            case 'spell':
                return 'spell_';
            case 'ritual':
                return 'ritual_';
            case 'bond1':
            case 'bond2':
            case 'bond3':
            case 'bond4':
            case 'bond5':
            case 'bond6':
                return `${key}_`;
            case 'skill1':
            case 'skill2':
            case 'skill3':
            case 'skill4':
            case 'skill5':
            case 'skill6':
                return `class_${key}_`;
        }
    })();
    return SEND_TO_CHAT[key]?.reduce((memo, attr) => ((memo[attr.replace(attrPrefix, '')] = values[prefix + attr]), memo), {});
};
const signedInteger = (value) => {
    return +value < 0 ? `${value}` : `+${value}`;
};
const simpleTemplate = (values) => {
    const template = {};
    template.name = values.name;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const armorTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.def = values.defense;
        template.martial = 'true';
    }
    else {
        template.def = 'DEX size ' + signedInteger(values.defense_bonus);
    }
    template.name = values.name;
    template.mdef = 'INS size ' + signedInteger(values.magic_defense_bonus);
    template.init = signedInteger(values.initiative);
    template.cost = values.cost;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const shieldTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.martial = 'true';
    }
    template.name = values.name;
    template.def = signedInteger(values.defense_bonus);
    template.mdef = signedInteger(values.magic_defense_bonus);
    template.init = signedInteger(values.initiative);
    template.cost = values.cost;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const weaponTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.martial = 'true';
    }
    template[values.range] = 'true';
    template.type = getTranslationByKey(values.type) || values.type;
    template.category = getTranslationByKey(values.category) || values.category;
    template.name = values.name;
    template.cost = values.cost;
    const att1_i18n = getTranslationByKey(values.attr1) || values.attr;
    const att2_i18n = getTranslationByKey(values.attr2) || values.attr;
    const hr_i18n = getTranslationByKey('hr') || 'HR';
    const accuracy = `【 ${att1_i18n} + ${att2_i18n}` +
        (+values.accuracy > 0 ? ` + ${values.accuracy}` : ``) +
        ` 】`;
    const damage = `【 ${hr_i18n} + ${values.damage} 】`;
    template.accuracy = accuracy;
    template.damage = damage;
    template.hands = values.hands;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const studyTemplate = (chat, values) => {
    const study = +chat.match(/\d+/)?.shift();
    const template = {};
    template.action = getTranslationByKey('study') || 'Study';
    template.study = 'true';
    if (study >= STUDY_THRESHOLDS[0]) {
        template.rank = getTranslationByKey(values.rank) || '';
        template.species = values.species;
        template.hp_max = values.hp_max;
        if (+values.hp <= +values.hp_crisis)
            template.crisis = 'true';
        template.mp_max = values.mp_max;
    }
    if (study >= STUDY_THRESHOLDS[1]) {
        template.traits = values.traits;
        Object.keys(ATTR_ABBREVIATIONS).forEach((attr) => {
            template[attr] = values[`${attr}_max`];
        });
        template.def = values.defense;
        template.mdef = values.magic_defense;
        AFFINITIES.forEach((affinity) => {
            if (values[affinity] !== '') {
                template[affinity] = getTranslationByKey(values[affinity]) || values[affinity];
            }
        });
    }
    if (study >= STUDY_THRESHOLDS[2]) {
        template.basicattacks = '// TODO Reveal Basic Attacks';
        template.spells = '// TODO Reveal Spells';
    }
    return template;
};
const bondTemplate = (values) => {
    const template = {};
    template.action = getTranslationByKey('bond') || 'Bond';
    template.name = values.name;
    template.level = signedInteger(values.level);
    template.bond = 'true';
    template.approval = getTranslationByKey(values.approval) || '';
    template.allegiance = getTranslationByKey(values.allegiance) || '';
    template.fondness = getTranslationByKey(values.fondness) || '';
    template.special = values.description;
    return template;
};
const classTemplate = (values) => {
    const template = {};
    const benefitValue = CLASS_BENEFIT[values.class_benefit];
    const benefitUpper = values.class_benefit.toUpperCase();
    template.benefit =
        getTranslationByKey(`plus${benefitUpper}`) || `+${benefitValue} ${benefitUpper}`;
    template.name = values.class_name;
    template.character_level = values.character_level;
    template.level = values.class_level;
    template.effect = values.class_skills_taken;
    template.special = values.class_description;
    return template;
};
const skillTemplate = (values) => {
    const template = {};
    template.name = values.name;
    template.subtitle = `【${values.class_name}】`;
    template.level = values.level;
    template.special = values.description;
    return template;
};
const fabulaPointsTemplate = (values) => {
    const template = {};
    const current = +values.fabula_points ?? 0;
    const newValue = current - 1;
    const fabula_points = getTranslationByKey('fabula_points') || 'Fabula Points';
    if (newValue >= 0) {
        template.name = `${fabula_points} (${current} - 1 = ${newValue})`;
        template.special = values.spend_fabula_points;
        setAttrs({ spend_fabula_points: '', fabula_points: newValue }, { silent: true });
    }
    else {
        template.name = `${fabula_points} (0)`;
        template.special = getTranslationByKey('spend_fabula_failed') || 'No fabula points...';
    }
    return template;
};
const inventoryTemplate = (item, values) => {
    const template = {};
    const data = INVENTORY_DATA[item];
    template.name = getTranslationByKey(item) || data.label;
    template.special = getTranslationByKey(`${item}_effect`) || data.effect;
    template.cost = data.cost;
    template[item] = 'true';
    template.action = getTranslationByKey('item') || 'Item';
    return template;
};
const sendToChat = async (chat, id) => {
    const { request, prefix } = getSendChatRequest(chat, id);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        const action = getTranslationByKey('info') || 'Info';
        const data = chatData(chat, prefix, v);
        const template = (function () {
            switch (chat) {
                case 'armorchat':
                    return armorTemplate(data);
                case 'shieldchat':
                    return shieldTemplate(data);
                case 'weaponchat':
                    return weaponTemplate(data);
                case 'study7':
                case 'study10':
                case 'study13':
                    return studyTemplate(chat, data);
                case 'bond1':
                case 'bond2':
                case 'bond3':
                case 'bond4':
                case 'bond5':
                case 'bond6':
                    return bondTemplate(data);
                case 'classchat':
                    return classTemplate(data);
                case 'skill1':
                case 'skill2':
                case 'skill3':
                case 'skill4':
                case 'skill5':
                case 'skill6':
                    return skillTemplate(data);
                case 'fabulapoints':
                    return fabulaPointsTemplate(data);
                case 'elixir':
                case 'remedy':
                case 'tonic':
                case 'elementalshard':
                case 'magictent':
                    return inventoryTemplate(chat, data);
                case 'otheractionchat':
                case 'specialrulechat':
                case 'raregearchat':
                case 'notechat':
                default:
                    return simpleTemplate(data);
            }
        })();
        chimeraRoll('fabula-chat', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: action,
            character: `@{character_name}`,
            ...template,
        }, {}, ({ rollId, results }) => {
            finishRoll(rollId, results);
        });
    });
};
const customCheckTemplate = (action, values) => {
    const check = action.split('_').at(-1);
    const template = {};
    if (Object.hasOwn(COMMON_CHECKS, check)) {
        const [att1, att2] = COMMON_CHECKS[check].attrs;
        template.att1 = att1;
        template.att2 = att2;
        template.name = (getTranslationByKey(action) || COMMON_CHECKS[check].label)
            .match(/^[\w\s]+/)
            .shift();
        template.special = getTranslationByKey(`${action}_title`) || COMMON_CHECKS[check].title;
    }
    else {
        template.att1 = values.check_attr1;
        template.att2 = values.check_attr2;
        const name = values.check_description;
        const custom = getTranslationByKey('custom') || 'Custom';
        template.name = name || custom;
        setAttrs({ check_description: '' }, { silent: true });
    }
    template.nodamage = 'nodamage';
    return template;
};
const rollAction = async (btn, id) => {
    const { request, prefix } = getSendChatRequest(btn, id);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        const data = chatData(btn, prefix, v);
        const template = (function () {
            switch (btn) {
                case 'basicattack':
                case 'weaponattack':
                    return basicAttackTemplate(data);
                case 'spell':
                    return spellTemplate(data);
                case 'ritual':
                    return ritualTemplate(data);
                case 'check':
                default:
                    return customCheckTemplate(id, data);
            }
        })();
        const i18n = {
            action: getTranslation('action', 'Action'),
            att1: getTranslation(template.att1, template.att1.toUpperCase()),
            att2: getTranslation(template.att2, template.att2.toUpperCase()),
            hr: getTranslation('hr', 'HR'),
            dmg: getTranslation('dmg', 'DMG'),
            mod: getTranslation('mod', 'MOD'),
        };
        const accuracy = template.accuracy ?? 0;
        const accuracyRoll = `【 ${i18n.att1} + ${i18n.att2}` + (accuracy != 0 ? ` + ${accuracy}` : ``) + ` 】`;
        const damage = template.damage ?? 0;
        const damageRoll = `【 ${i18n.hr} + ${damage} 】`;
        const rollmods = v.roll_mods === 'on' && !template.noaction ? ` + ?{${i18n.mod}|0}` : ``;
        chimeraRoll('fabula-attack', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: i18n.action,
            character: `@{character_name}`,
            check: accuracyRoll,
            hr: damageRoll,
            ...template,
        }, {
            roll: `1d@{${template.att1}}[${i18n.att1}] + 1d@{${template.att2}}[${i18n.att1}] + ${accuracy} ${rollmods}`,
            damage: `0[${i18n.hr}] + ${damage}[${i18n.dmg}]`,
            critical: `0`,
        }, ({ rollId, results }) => {
            const hr = results.roll.dice.reduce((memo, die) => Math.max(memo, die), 0);
            const critical = checkForCritical(results.roll.dice);
            finishRoll(rollId, {
                damage: hr + results.damage.result,
                critical: critical,
            });
        });
    });
};
const basicAttackTemplate = (values) => {
    const template = {};
    template.name = values.attack_name || values.name;
    template.att1 = values.attr1;
    template.att2 = values.attr2;
    template.accuracy = values.accuracy_total;
    template.damage = values.damage_total;
    template[values.range] = values.range;
    template.type = getTranslation(values.type) || values.type;
    template.special = values.special;
    template.action = getTranslation('attack', 'Attack');
    return template;
};
const spellTemplate = (values) => {
    const template = {};
    template.name = values.name;
    template.att1 = values.attr1;
    template.att2 = values.attr2;
    template.accuracy = values.accuracy_total;
    template.damage = values.damage_total;
    const noaction = values.is_offensive === 'on' ? null : 'noaction';
    template[noaction] = 'noaction';
    template.spell = 'spell';
    template.type = getTranslation(values.type) || values.type;
    template.mp = values.mp;
    template.target = values.target;
    template.duration = values.duration;
    template.special = values.effect;
    template.action = getTranslationByKey('spell') || 'Spell';
    return template;
};
const ritualTemplate = (values) => {
    const template = {};
    template.name = values.name;
    template.att1 = values.attr1;
    template.att2 = values.attr2;
    template.accuracy = values.accuracy_total;
    template.mp = values.mp;
    template.potency = getTranslation(values.potency, values.potency);
    template.area = getTranslation(values.area, values.area);
    template.disciple = getTranslation(values.disciple, values.disciple);
    const dl = getTranslation('ritual_difficulty', 'DL');
    template.vs = `[[${values.difficulty}[${dl}]]]`;
    template.special = values.effect;
    template.nodamage = 'nodamage';
    template.ritual = 'ritual';
    template.action = getTranslationByKey('ritual') || 'Ritual';
    return template;
};
class RepeatingModule {
    static isFieldsetEmpty(section, suffix = 'empty') {
        getSectionIDs(section, (id) => {
            setAttrs({ [`${section}_${suffix}`]: id.length });
        });
    }
    static getRepId(sourceAttribute) {
        return sourceAttribute?.split('_').at(2);
    }
    static getAllAttrs(sectionDetails, getArray = [], callback) {
        const args = new Array(arguments.length);
        for (var i = 0; i < args.length; ++i)
            args[i] = arguments[i];
        sectionDetails = structuredClone(args.shift());
        callback = args.pop();
        if (typeof callback !== 'function')
            return;
        if (args.length > 0)
            getArray = structuredClone(args.shift());
        else
            getArray = [];
        this.getSections(getArray, sectionDetails, {}, (getArr, sections) => {
            getAttrs(getArr, (attributes) => {
                callback(attributes, sections);
            });
        });
    }
    static getSections(getArray = [], sectionDetails = [], sections = {}, callback) {
        let section = sectionDetails.shift();
        getSectionIDs(section.section, (idArray) => {
            sections[section.section] = [...idArray];
            getArray.push(`_reporder_${section.section}`);
            idArray.forEach((id) => {
                section.fields.forEach((field) => {
                    getArray.push(`${section.section}_${id}_${field}`);
                });
            });
            if (sectionDetails[0]) {
                this.getSections(getArray, sectionDetails, sections, callback);
            }
            else {
                callback(getArray, sections);
            }
        });
    }
}
class ChimeraMigrator {
    sheet;
    migrations;
    version_attr;
    migration_attr;
    log = {};
    constructor(sheet, migrations, version_attr = 'sheet_version', migration_attr = 'sheet_migration') {
        this.sheet = sheet;
        this.migrations = migrations;
        this.version_attr = version_attr ?? 'sheet_version';
        this.migration_attr = migration_attr ?? 'sheet_migrations';
    }
    validate(callback) {
        this.getAppliedMigrations((applied) => {
            const existing = this.migrations.filter((m) => applied.includes(m.id)).map((m) => m.id);
            existing.forEach((m) => (this.log[m] = 'Already installed'));
        });
        this.handleNext(callback);
    }
    getAppliedMigrations(callback) {
        getAttrs([this.migration_attr], (values) => {
            const applied = values[this.migration_attr] ? values[this.migration_attr].split(',') : [];
            callback(applied);
        });
    }
    setAppliedMigrations(updates, callback) {
        console.log('setAppliedMigrations => ', updates);
        setAttrs({
            [this.migration_attr]: Array.from(new Set(updates)).join(),
        }, { silent: true }, callback());
    }
    handleNext(callback) {
        this.getAppliedMigrations((applied) => {
            const toBeInstalled = this.migrations.filter((m) => !applied.includes(m.id) && !Object.hasOwn(this.log, m.id));
            if (toBeInstalled.length) {
                toBeInstalled.at(0).apply(this.version_attr, this, callback);
            }
            else {
                this.finish();
                callback();
            }
        });
    }
    resolveMigration(id, error, callback) {
        console.log('resolveMigration => ', id, error);
        this.log[id] = error;
        this.getAppliedMigrations((applied) => {
            const migrations = Array.from(new Set([...applied, id]));
            const matches = this.migrations.filter((m) => migrations.includes(m.id)).map((m) => m.id);
            this.setAppliedMigrations(matches, () => this.handleNext(callback));
        });
    }
    rejectMigration(id, error, callback) {
        console.log('rejectMigration => ', id, error);
        this.log[id] = error;
        this.handleNext(callback);
    }
    finish() {
        getAttrs([this.version_attr, 'character_name'], (values) => {
            const migrations = Object.entries(this.log);
            if (migrations.length) {
                console.groupCollapsed('CHIMERA: Installing Migrations');
                migrations.forEach(([update, msg]) => console.log(`Applying ${update}... ${msg}`));
                console.groupEnd();
            }
            console.log(`${this.sheet} v${values[this.version_attr]}`);
        });
    }
}
class ChimeraMigration {
    id;
    version = {};
    version_attr;
    migrator;
    migration;
    callback;
    constructor(id, version, migration) {
        this.id = id;
        this.migration = migration;
        this.version.set = version.set;
        this.version.min = version.min || 0;
        this.version.max = version.max || Infinity;
    }
    apply(version_attr, migrator, callback) {
        this.version_attr = version_attr;
        this.migrator = migrator;
        console.log('apply', {
            id: this.id,
            version: this.version,
            version_attr: this.version_attr,
            migrator: this.migrator,
        });
        this.getVersion((v) => {
            if (this.isValid(v)) {
                this.migration(this.resolve.bind(this), this.reject.bind(this));
            }
            else {
                this.reject('Invalid version');
            }
        });
    }
    getVersion(callback) {
        console.log('getVersion');
        getAttrs([this.version_attr], (values) => callback(parseFloat(values[this.version_attr]) ?? 0));
    }
    setVersion(version, callback) {
        console.log('setVersion', { [this.version_attr]: version });
        setAttrs({ [this.version_attr]: version }, { silent: true }, () => callback());
    }
    isValid(version) {
        console.log('isValid');
        return (version >= this.version.min && (version < this.version.set || version <= this.version.max));
    }
    resolve() {
        console.log('#resolve');
        this.setVersion(this.version.set, () => {
            this.migrator.resolveMigration(this.id, 'Done!', this.migration);
        });
    }
    reject(error) {
        console.log('#reject');
        this.migrator.resolveMigration(this.id, error, this.migration);
    }
}
on('sheet:opened', (eventInfo) => handleMigrations(eventInfo));
NAVBAR.forEach((nav) => {
    on(`clicked:${nav}`, (eventInfo) => {
        setAttrs({ nav: nav }, { silent: true });
    });
});
REPEATING.forEach((fieldset) => {
    on(`sheet:opened change:repeating_${fieldset} remove:repeating_${fieldset}`, (eventInfo) => {
        RepeatingModule.isFieldsetEmpty(fieldset);
    });
});
Object.keys(ATTR_WATCH).forEach((attr) => {
    on(listeners(ATTR_WATCH[attr]), (eventInfo) => handleCalculations(attr, eventInfo));
});
on('change:defense_quick', (eventInfo) => {
    calculateQuickDefenses(eventInfo.newValue);
});
on('change:defense_extra change:magic_defense_extra', () => {
    updateQuickDefenseDropdown();
});
Object.keys(BUTTON_ACTIONS).forEach((key) => {
    on(listeners(BUTTON_ACTIONS[key], 'clicked'), (eventInfo) => {
        const [attr, control, direction] = eventInfo.triggerName.substring(8).split('-');
        updatePoints(attr, direction);
    });
});
const CROSSWALK_TO_V20 = {
    characterName: 'character_name',
    characterIdentity: 'identity',
    characterTheme: 'theme',
    characterOrigin: 'origin',
    fabulaPoints: 'fabula_points',
    experiencePoints: 'experience_points',
    HitPoints: 'hp',
    MindPoints: 'mp',
    InventoryPoints: 'ip',
    addedHitPoints: 'hp_extra',
    addedMindPoints: 'mp_extra',
    addedInventoryPoints: 'ip_extra',
    addedInitiative: 'initiative_extra',
    dexterity: 'dexterity_max',
    insight: 'insight_max',
    might: 'might_max',
    willpower: 'willpower_max',
    moneyName: 'money_name',
    characterMoney: 'money',
    affinity: {
        physicalAffinity: 'physical',
        airAffinity: 'air',
        boltAffinity: 'bolt',
        darkAffinity: 'dark',
        earthAffinity: 'earth',
        fireAffinity: 'fire',
        iceAffinity: 'ice',
        lightAffinity: 'light',
        poisonAffinity: 'poison',
    },
    statusImmunitySlow: 'slow_immunity',
    statusImmunityEnraged: 'enraged_immunity',
    statusImmunityDazed: 'dazed_immunity',
    statusImmunityWeak: 'weak_immunity',
    statusImmunityShaken: 'shaken_immunity',
    statusImmunityPoisoned: 'poisoned_immunity',
    quirkName: 'quirk_name',
    quirkType: 'quirk_type',
    quirkText: 'quirk_description',
    quirkEffect: 'quirk_effect',
    zeroTrigger: 'zero_trigger',
    zeroClock: 'zero_clock',
    zeroClock_max: 'zero_clock_max',
    zeroTriggerFS: 'zero_trigger_fill',
    zeroTriggerText: 'zero_description',
    ritualArcanism: 'arcanism',
    ritualChimerism: 'chimerism',
    ritualElementalism: 'elementalism',
    ritualEntropism: 'entropism',
    ritualRitualism: 'ritualism',
    ritualSpiritism: 'spiritism',
    bonds: {
        BondName: 'bond1_name',
        BondEmotion1: 'bond1_approval',
        BondEmotion2: 'bond1_allegiance',
        BondEmotion3: 'bond1_fondness',
        BondDescription: 'bond1_description',
    },
    mainWeapon: {
        mainWeaponName: 'repeating_weapons_-CREATE_weapon_name',
        mainWeaponCategory: 'repeating_weapons_-CREATE_weapon_category',
        mainWeaponMartial: 'repeating_weapons_-CREATE_weapon_is_martial',
        mainWeaponAttr1Name: 'repeating_weapons_-CREATE_weapon_attr1',
        mainWeaponAttr2Name: 'repeating_weapons_-CREATE_weapon_attr2',
        mainWeaponAccuracy: 'repeating_weapons_-CREATE_weapon_accuracy',
        mainWeaponDamage: 'repeating_weapons_-CREATE_weapon_damage',
        mainWeaponDamageType: 'repeating_weapons_-CREATE_weapon_type',
        mainWeaponGrip: 'repeating_weapons_-CREATE_weapon_hands',
        mainWeaponRange: 'repeating_weapons_-CREATE_weapon_range',
        mainWeaponDescription: 'repeating_weapons_-CREATE_weapon_special',
    },
    offWeapon: {
        offWeaponName: 'repeating_weapons_-CREATE_weapon_name',
        offWeaponCategory: 'repeating_weapons_-CREATE_weapon_category',
        offWeaponMartial: 'repeating_weapons_-CREATE_weapon_is_martial',
        offWeaponAttr1Name: 'repeating_weapons_-CREATE_weapon_attr1',
        offWeaponAttr2Name: 'repeating_weapons_-CREATE_weapon_attr2',
        offWeaponAccuracy: 'repeating_weapons_-CREATE_weapon_accuracy',
        offWeaponDamage: 'repeating_weapons_-CREATE_weapon_damage',
        offWeaponDamageType: 'repeating_weapons_-CREATE_weapon_type',
        offWeaponGrip: 'repeating_weapons_-CREATE_weapon_hands',
        offWeaponRange: 'repeating_weapons_-CREATE_weapon_range',
        offWeaponDescription: 'repeating_weapons_-CREATE_weapon_special',
    },
    armor: {
        armorName: 'repeating_armors_-CREATE_armor_name',
        armorMartial: 'repeating_armors_-CREATE_armor_is_martial',
        armorInitiative: 'repeating_armors_-CREATE_armor_initiative',
        armorResist: 'repeating_armors_-CREATE_armor_magic_defense_bonus',
        armorDefense: 'repeating_armors_-CREATE_armor_defense',
        armorDescription: 'repeating_armors_-CREATE_armor_special',
    },
    shield: {
        shieldName: 'repeating_shields_-CREATE_shield_name',
        shieldResist: 'repeating_shields_-CREATE_shield_magic_defense_bonus',
        shieldDescription: 'repeating_shields_-CREATE_shield_special',
        shieldDefense: 'repeating_shields_-CREATE_shield_defense',
        shieldMartial: 'repeating_shields_-CREATE_shield_is_martial',
        shieldInitiative: 'repeating_shields_-CREATE_shield_initiative',
    },
    accessory: {
        accessoryName: 'repeating_accessories_-CREATE_accessory_name',
        accessoryDescription: 'repeating_accessories_-CREATE_accessory_special',
    },
    repeating_rituals: {
        ritualName: 'repeating_rituals_-CREATE_ritual_name',
        ritualAttr1Name: 'repeating_rituals_-CREATE_ritual_attr1',
        ritualAttr2Name: 'repeating_rituals_-CREATE_ritual_attr2',
        ritualCastBonus: 'repeating_rituals_-CREATE_ritual_accuracy',
        ritualCost: 'repeating_rituals_-CREATE_ritual_mp',
        ritualAdvancement: 'repeating_rituals_-CREATE_ritual_clock',
        ritualMaxAdvancement: 'repeating_rituals_-CREATE_ritual_clock_max',
        ritualEffect: 'repeating_rituals_-CREATE_ritual_effect',
    },
    repeating_weapons: {
        additionalWeaponAttr1Name: 'repeating_weapons_-CREATE_weapon_attr1',
        additionalWeaponAttr2Name: 'repeating_weapons_-CREATE_weapon_attr2',
        additionalWeaponName: 'repeating_weapons_-CREATE_weapon_name',
        additionalWeaponCategory: 'repeating_weapons_-CREATE_weapon_category',
        additionalWeaponMartial: 'repeating_weapons_-CREATE_weapon_is_martial',
        additionalWeaponAccuracy: 'repeating_weapons_-CREATE_weapon_accuracy',
        additionalWeaponDamage: 'repeating_weapons_-CREATE_weapon_damage',
        additionalWeaponDamageType: 'repeating_weapons_-CREATE_weapon_type',
        additionalWeaponGrip: 'repeating_weapons_-CREATE_weapon_hands',
        additionalWeaponRange: 'repeating_weapons_-CREATE_weapon_range',
        additionalWeaponDescription: 'repeating_weapons_-CREATE_weapon_special',
    },
    repeating_charclasses: {
        className: 'repeating_classes_-CREATE_class_name',
        classBonus: 'repeating_classes_-CREATE_class_benefit',
        classDescription: 'repeating_classes_-CREATE_class_description',
        firstSkillName: 'repeating_classes_-CREATE_class_skill1_name',
        firstSkillLevel: 'repeating_classes_-CREATE_class_skill1_level',
        firstSkillDescription: 'repeating_classes_-CREATE_class_skill1_description',
        secondSkillName: 'repeating_classes_-CREATE_class_skill2_name',
        secondSkillLevel: 'repeating_classes_-CREATE_class_skill2_level',
        secondSkillDescription: 'repeating_classes_-CREATE_class_skill2_description',
        thirdSkillName: 'repeating_classes_-CREATE_class_skill3_name',
        thirdSkillLevel: 'repeating_classes_-CREATE_class_skill3_level',
        thirdSkillDescription: 'repeating_classes_-CREATE_class_skill3_description',
        fourthSkillName: 'repeating_classes_-CREATE_class_skill4_name',
        fourthSkillLevel: 'repeating_classes_-CREATE_class_skill4_level',
        fourthSkillDescription: 'repeating_classes_-CREATE_class_skill4_description',
        fifthSkillName: 'repeating_classes_-CREATE_class_skill5_name',
        fifthSkillLevel: 'repeating_classes_-CREATE_class_skill5_level',
        fifthSkillDescription: 'repeating_classes_-CREATE_class_skill5_description',
        heroicSkillName: 'repeating_classes_-CREATE_class_heroic_skill_name',
        heroicSkillDescription: 'repeating_classes_-CREATE_class_heroic_skill_description',
    },
    repeating_offensivespells: {
        offensiveSpellName: 'repeating_spells_-CREATE_spell_name',
        offensiveSpellAttr1Name: 'repeating_spells_-CREATE_spell_attr1',
        offensiveSpellAttr2Name: 'repeating_spells_-CREATE_spell_attr2',
        offensiveSpellCastBonus: 'repeating_spells_-CREATE_spell_accuracy',
        offensiveSpellDamage: 'repeating_spells_-CREATE_spell_damage',
        offensiveSpellDamageType: 'repeating_spells_-CREATE_spell_type',
        offensiveSpellCost: 'repeating_spells_-CREATE_spell_mp',
        offensiveSpellDuration: 'repeating_spells_-CREATE_spell_duration',
        offensiveSpellTarget: 'repeating_spells_-CREATE_spell_target',
        offensiveSpellEffect: 'repeating_spells_-CREATE_spell_effect',
    },
    repeating_baseSpells: {
        baseSpellName: 'repeating_spells_-CREATE_spell_name',
        baseSpellCost: 'repeating_spells_-CREATE_spell_mp',
        baseSpellDuration: 'repeating_spells_-CREATE_spell_duration',
        baseSpellTarget: 'repeating_spells_-CREATE_spell_target',
        baseSpellEffect: 'repeating_spells_-CREATE_spell_effect',
    },
    repeating_inventoryitems: {
        inventoryItemName: 'repeating_inventory_-CREATE_inventory_name',
        inventoryItemIPCost: 'repeating_inventory_-CREATE_inventory_cost',
        inventoryItemEffect: 'repeating_inventory_-CREATE_inventory_effect',
    },
    repeating_projects: {
        projectName: 'project_name',
        projectCost: 'project_cost',
        projectAdvancement: 'project_clock',
        projectDescription: 'project_special',
    },
    repeating_spareequipments: {
        spareEquipType: 'repeating_armors_-CREATE_armor_type',
        spareEquipName: 'repeating_armors_-CREATE_armor_name',
        spareEquipMartial: 'repeating_armors_-CREATE_armor_is_martial',
        spareEquipDefense: 'repeating_armors_-CREATE_armor_defense',
        spareEquipResist: 'repeating_armors_-CREATE_armor_magic_defense_bonus',
    },
    repeating_spareaccessories: {
        spareAccessoryName: 'repeating_accessories_-CREATE_accessory_name',
        spareAccessoryDescription: 'repeating_accessories_-CREATE_accessory_special',
    },
    repeating_items: {
        itemName: 'item_name',
        itemText: 'item_effect',
    },
    repeating_ritualdisciplines: {
        ritualCustomDisciplineName: 'repeating_ritualdisciplines_-CREATE_ritual_discipline_name',
    },
    repeating_notes: {
        noteName: 'note_name',
        noteText: 'note_effect',
    },
    repeating_quests: {
        questName: 'quest_name',
        questText: 'quest_effect',
    },
    repeating_jcharacters: {
        jCharacterName: 'repeating_characters_-CREATE_character_name',
        jCharacterText: 'repeating_characters_-CREATE_character_effect',
    },
    repeating_creatures: {
        creatureName: 'creature_name',
        creatureText: 'creature_effect',
    },
    repeating_locations: {
        locationName: 'location_name',
        locationText: 'location_effect',
    },
    repeating_jitems: {
        jItemName: 'repeating_artifacts_-CREATE_artifact_name',
        jItemText: 'repeating_artifacts_-CREATE_artifact_effect',
    },
    repeating_otherdiscoveries: {
        otherDiscoveryText: 'repeating_discoveries_-CREATE_discovery_name',
        otherDiscoveryName: 'repeating_discoveries_-CREATE_discovery_effect',
    },
    repeating_zeroeffects: {
        zeroName: 'repeating_zeropowers_-CREATE_zero_power_name',
        zeroText: 'repeating_zeropowers_-CREATE_zero_power_details',
        zeroEffect: 'repeating_zeropowers_-CREATE_zero_power_effect',
        zeroEffectText: 'repeating_zeropowers_-CREATE_zero_power_effect_details',
    },
    repeating_rolls: {
        genericRollName: 'check_name',
        genericRollAttr1Name: 'check_attr1',
        genericRollAttr2Name: 'check_attr2',
    },
};
const CROSSWALK_REQUEST = [
    'characterName',
    'characterIdentity',
    'characterTheme',
    'characterOrigin',
    'fabulaPoints',
    'experiencePoints',
    'HitPoints',
    'MindPoints',
    'InventoryPoints',
    'addedHitPoints',
    'addedMindPoints',
    'addedInventoryPoints',
    'addedInitiative',
    'dexterity',
    'insight',
    'might',
    'willpower',
    'moneyName',
    'characterMoney',
    'physicalAffinity',
    'airAffinity',
    'boltAffinity',
    'darkAffinity',
    'earthAffinity',
    'fireAffinity',
    'iceAffinity',
    'lightAffinity',
    'poisonAffinity',
    'statusImmunitySlow',
    'statusImmunityEnraged',
    'statusImmunityDazed',
    'statusImmunityWeak',
    'statusImmunityShaken',
    'statusImmunityPoisoned',
    'quirkName',
    'quirkType',
    'quirkText',
    'quirkEffect',
    'zeroTrigger',
    'zeroClock',
    'zeroClock_max',
    'zeroTriggerFS',
    'zeroTriggerText',
    'mainWeaponName',
    'mainWeaponCategory',
    'mainWeaponMartial',
    'mainWeaponAttr1Name',
    'mainWeaponAttr2Name',
    'mainWeaponAccuracy',
    'mainWeaponDamage',
    'mainWeaponDamageType',
    'mainWeaponGrip',
    'mainWeaponRange',
    'mainWeaponDescription',
    'offWeaponName',
    'offWeaponCategory',
    'offWeaponMartial',
    'offWeaponAttr1Name',
    'offWeaponAttr2Name',
    'offWeaponAccuracy',
    'offWeaponDamage',
    'offWeaponDamageType',
    'offWeaponGrip',
    'offWeaponRange',
    'offWeaponDescription',
    'armorName',
    'armorMartial',
    'armorInitiative',
    'armorResist',
    'armorDefense',
    'armorDescription',
    'shieldName',
    'shieldResist',
    'shieldDescription',
    'shieldDefense',
    'shieldMartial',
    'shieldInitiative',
    'accessoryName',
    'accessoryDescription',
    'ritualArcanism',
    'ritualChimerism',
    'ritualElementalism',
    'ritualEntropism',
    'ritualRitualism',
    'ritualSpiritism',
    ...['first', 'second', 'third', 'fourth', 'fifth', 'sixth'].flatMap((nth) => ['BondName', 'BondEmotion1', 'BondEmotion2', 'BondEmotion3', 'BondDescription'].map((attr) => nth + attr)),
];
const CROSSWALK_SECTION_DETAILS = [
    {
        section: 'repeating_rituals',
        fields: [
            'ritualName',
            'ritualAttr1Name',
            'ritualAttr2Name',
            'ritualCastBonus',
            'ritualCost',
            'ritualAdvancement',
            'ritualMaxAdvancement',
            'ritualEffect',
        ],
    },
    {
        section: 'repeating_weapons',
        fields: [
            'additionalWeaponAttr1Name',
            'additionalWeaponAttr2Name',
            'additionalWeaponName',
            'additionalWeaponCategory',
            'additionalWeaponMartial',
            'additionalWeaponAccuracy',
            'additionalWeaponDamage',
            'additionalWeaponDamageType',
            'additionalWeaponGrip',
            'additionalWeaponRange',
            'additionalWeaponDescription',
        ],
    },
    {
        section: 'repeating_charclasses',
        fields: [
            'className',
            'classBonus',
            'classDescription',
            'firstSkillName',
            'firstSkillLevel',
            'firstSkillDescription',
            'secondSkillName',
            'secondSkillLevel',
            'secondSkillDescription',
            'thirdSkillName',
            'thirdSkillLevel',
            'thirdSkillDescription',
            'fourthSkillName',
            'fourthSkillLevel',
            'fourthSkillDescription',
            'fifthSkillName',
            'fifthSkillLevel',
            'fifthSkillDescription',
            'heroicSkillName',
            'heroicSkillDescription',
        ],
    },
    {
        section: 'repeating_offensivespells',
        fields: [
            'offensiveSpellName',
            'offensiveSpellAttr1Name',
            'offensiveSpellAttr2Name',
            'offensiveSpellCastBonus',
            'offensiveSpellDamage',
            'offensiveSpellDamageType',
            'offensiveSpellCost',
            'offensiveSpellDuration',
            'offensiveSpellTarget',
            'offensiveSpellEffect',
        ],
    },
    {
        section: 'repeating_baseSpells',
        fields: [
            'baseSpellName',
            'baseSpellCost',
            'baseSpellDuration',
            'baseSpellTarget',
            'baseSpellEffect',
        ],
    },
    {
        section: 'repeating_inventoryitems',
        fields: ['inventoryItemName', 'inventoryItemIPCost', 'inventoryItemEffect'],
    },
    {
        section: 'repeating_projects',
        fields: ['projectName', 'projectCost', 'projectAdvancement', 'projectDescription'],
    },
    {
        section: 'repeating_spareequipments',
        fields: [
            'spareEquipName',
            'spareEquipType',
            'spareEquipMartial',
            'spareEquipDefense',
            'spareEquipResist',
        ],
    },
    {
        section: 'repeating_spareaccessories',
        fields: ['spareAccessoryName', 'spareAccessoryDescription'],
    },
    { section: 'repeating_items', fields: ['itemName', 'itemText'] },
    { section: 'repeating_ritualdisciplines', fields: ['ritualCustomDisciplineName'] },
    { section: 'repeating_notes', fields: ['noteName', 'noteText'] },
    { section: 'repeating_quests', fields: ['questName', 'questText'] },
    { section: 'repeating_jcharacters', fields: ['jCharacterName', 'jCharacterText'] },
    { section: 'repeating_creatures', fields: ['creatureName', 'creatureText'] },
    { section: 'repeating_locations', fields: ['locationName', 'locationText'] },
    { section: 'repeating_jitems', fields: ['jItemName', 'jItemText'] },
    { section: 'repeating_otherdiscoveries', fields: ['otherDiscoveryText', 'otherDiscoveryName'] },
    {
        section: 'repeating_zeroeffects',
        fields: ['zeroName', 'zeroText', 'zeroEffect', 'zeroEffectText'],
    },
    {
        section: 'repeating_rolls',
        fields: ['genericRollName', 'genericRollAttr1Name', 'genericRollAttr2Name'],
    },
];
const CROSSWALK_AFFINITIES = {
    Vulnerability: 'vu',
    Normal: '',
    Resistance: 'rs',
    Immunity: 'im',
    Absorption: 'ab',
};
const CROSSWALK_BONDS = {
    admiration: 'approval',
    inferiority: 'approval',
    loyalty: 'allegiance',
    mistrust: 'allegiance',
    affection: 'fondness',
    hatred: 'fondness',
};
const fabulaMigrations = [
    new ChimeraMigration('bestiary', { set: 1.0 }, (resolve, reject) => {
        RepeatingModule.getAllAttrs(CROSSWALK_SECTION_DETAILS, CROSSWALK_REQUEST, (attributes, sections) => {
            const update = {};
            update.sheet_type = 'character';
            Object.keys(CROSSWALK_TO_V20).forEach((key) => {
                const data = CROSSWALK_TO_V20[key];
                if (typeof data === 'string' && Object.hasOwn(attributes, key)) {
                    update[data] = attributes[key];
                }
                else {
                    switch (key) {
                        case 'affinity': {
                            Object.keys(data).forEach((a) => {
                                const affinity = attributes[a];
                                if (CROSSWALK_AFFINITIES[affinity]) {
                                    update[data[a]] = CROSSWALK_AFFINITIES[affinity];
                                }
                            });
                            break;
                        }
                        case 'bonds': {
                            ['first', 'second', 'third', 'fourth', 'fifth', 'sixth'].forEach((nth, index) => {
                                const bondId = String(index + 1);
                                const emotions = [];
                                Object.entries(data).forEach(([old, nu]) => {
                                    const tempKey = nu.replace('1', bondId);
                                    const val = attributes[nth + old];
                                    if (val && old.includes('Emotion')) {
                                        emotions.push(val);
                                    }
                                    else if (val) {
                                        update[tempKey] = val;
                                    }
                                });
                                emotions.forEach((e, index) => {
                                    const val = e.toLowerCase();
                                    const attr = CROSSWALK_BONDS[val];
                                    update[`bond${bondId}_${attr}`] = val;
                                });
                            });
                            break;
                        }
                        case 'mainWeapon':
                        case 'offWeapon':
                        case 'repeating_weapons': {
                            const rowId = generateRowID();
                            Object.entries(data).forEach(([old, nu]) => {
                                const attr = nu.replace('-CREATE', rowId);
                                const val = attributes[old];
                                if (val) {
                                    update[attr] = (function () {
                                        switch (old) {
                                            case 'mainWeaponCategory':
                                            case 'offWeaponCategory':
                                            case 'mainWeaponDamageType':
                                            case 'offWeaponDamageType':
                                            case 'additionalWeaponCategory':
                                            case 'additionalWeaponDamageType':
                                                return val.toLowerCase();
                                            case 'mainWeaponAttr1Name':
                                            case 'mainWeaponAttr2Name':
                                            case 'offWeaponAttr1Name':
                                            case 'offWeaponAttr2Name':
                                            case 'additionalWeaponAttr1Name':
                                            case 'additionalWeaponAttr2Name':
                                                return reverseMap(ATTR_ABBREVIATIONS, val.toLowerCase());
                                            case 'mainWeaponRange':
                                            case 'offWeaponRange':
                                            case 'additionalWeaponRange':
                                                return val === 'Ranged' ? 'distance' : 'melee';
                                            case 'mainWeaponGrip':
                                            case 'offWeaponGrip':
                                            case 'additionalWeaponGrip':
                                                return String(val.includes('One') ? 1 : 2);
                                            case 'mainWeaponMartial':
                                            case 'offWeaponMartial':
                                            case 'additionalWeaponMartial':
                                                return val === 'Martial' || val === '[Martial]' ? 'on' : '0';
                                            default:
                                                return val;
                                        }
                                    })();
                                }
                            });
                            break;
                        }
                        case 'armor':
                        case 'shield':
                        case 'accessory': {
                            const rowId = generateRowID();
                            Object.entries(data).forEach(([old, nu]) => {
                                const attr = nu.replace('-CREATE', rowId);
                                const val = attributes[old];
                                if (val) {
                                    const bonus = attr.includes('Defense') && val.includes('+') ? '_bonus' : '';
                                    update[attr + bonus] = (function () {
                                        switch (old) {
                                            case 'armorMartial':
                                            case 'shieldMartial':
                                                return val === 'Martial' || val === '[Martial]' ? 'on' : '0';
                                            case 'armorDefense':
                                            case 'armorResist':
                                            case 'armorInitiative':
                                            case 'shieldDefense':
                                            case 'shieldResist':
                                            case 'shieldInitiative':
                                                return String(+val || 0);
                                            default:
                                                return val;
                                        }
                                    })();
                                }
                            });
                            break;
                        }
                        case 'repeating_creatures':
                        case 'repeating_items':
                        case 'repeating_locations':
                        case 'repeating_notes':
                        case 'repeating_quests':
                        case 'repeating_ritualdisciplines': {
                            sections[key].forEach((id) => {
                                const prefix = `${key}_${id}_`;
                                Object.entries(data).forEach(([old, nu]) => {
                                    update[prefix + nu] = attributes[prefix + old];
                                });
                            });
                            break;
                        }
                        case 'repeating_jitems':
                        case 'repeating_ritualdisciplines':
                        case 'repeating_jcharacters':
                        case 'repeating_otherdiscoveries':
                        case 'repeating_zeroeffects':
                        case 'repeating_spareaccessories':
                        case 'repeating_inventoryitems': {
                            sections[key].forEach((id) => {
                                Object.entries(data).forEach(([old, nu]) => {
                                    const val = attributes[`${key}_${id}_${old}`];
                                    const nuAttr = nu.replace(/-CREATE/, id);
                                    update[nuAttr] = val;
                                });
                                removeRepeatingRow(id);
                            });
                            break;
                        }
                        case 'repeating_charclasses':
                        case 'repeating_offensivespells':
                        case 'repeating_baseSpells':
                        case 'repeating_rituals': {
                            sections[key].forEach((id) => {
                                const rowId = generateRowID();
                                Object.entries(data).forEach(([old, nu]) => {
                                    const val = attributes[`${key}_${id}_${old}`];
                                    const nuAttr = nu.replace(/-CREATE/, rowId);
                                    if (val) {
                                        update[nuAttr] = (function () {
                                            switch (old) {
                                                case 'offensiveSpellAttr1Name':
                                                case 'offensiveSpellAttr2Name':
                                                case 'ritualAttr1Name':
                                                case 'ritualAttr2Name':
                                                    return reverseMap(ATTR_ABBREVIATIONS, val.toLowerCase());
                                                case 'offensiveSpellDamageType':
                                                case 'classBonus':
                                                    return val.toLowerCase();
                                                default:
                                                    return val;
                                            }
                                        })();
                                    }
                                });
                                if (key !== 'repeating_rituals') {
                                    removeRepeatingRow(id);
                                }
                            });
                            break;
                        }
                    }
                }
            });
            console.log(update);
            setAttrs(update);
        });
        resolve();
    }),
];
const initializeSheet = () => {
    getAttrs(['sheet_initialized'], (v) => {
        if (+v.sheet_initialized === 1)
            return;
        calculateAllAttributes();
        calculateMaxHP(true);
        calculateMaxMP(true);
        calculateMaxIP(true);
        calculateInitiative();
        calculateDefenses();
        calculateBasicAccuracyDamage();
        calculateWeaponAccuracyDamage();
        calculateSpellAccuracyDamage();
        calculateRitualAccuracyDifficulty();
        calculateCharacterLevel();
        calculateBondLevels();
        calculateUltimaPoints();
        makeVillainString();
        setAttrs({ sheet_initialized: 1 });
    });
};
const handleMigrations = (eventInfo) => {
    const migrator = new ChimeraMigrator('Fabula Ultima', fabulaMigrations);
    migrator.validate(() => { });
    initializeSheet();
};
const handleCalculations = (attr, eventInfo) => {
    switch (attr) {
        case 'dexterity':
        case 'insight':
        case 'might':
        case 'willpower':
            return calculateAttribute(attr);
        case 'hp':
            return calculateMaxHP();
        case 'mp':
            return calculateMaxMP();
        case 'ip':
            return calculateMaxIP();
        case 'ultima_points':
            return calculateUltimaPoints();
        case 'initiative':
            return calculateInitiative();
        case 'defense':
        case 'magic_defense':
            return calculateDefenses();
        case 'basic_attacks':
            return calculateBasicAccuracyDamage();
        case 'weapons':
            return calculateWeaponAccuracyDamage();
        case 'spells':
            return calculateSpellAccuracyDamage();
        case 'rituals':
            return calculateRitualAccuracyDifficulty();
        case 'level':
            return calculateCharacterLevel();
        case 'bonds':
            return calculateBondLevels();
        case 'equipped':
            return manageEquipment(eventInfo?.sourceAttribute);
        case 'villain':
            return makeVillainString();
    }
};
const isFieldEmpty = (attr, request) => {
    getAttrs(request, (v) => {
        const isEmpty = Object.values(v).every((val) => !String(val).trim() || val === 'none') ? 0 : 1;
        setAttrs({ [attr]: isEmpty }, { silent: true });
    });
};
const makeVillainString = () => {
    getAttrs(ATTR_WATCH.villain, (v) => {
        const villainKey = `villain_${v.villain}`;
        const villain = getTranslation(villainKey);
        const phase_i18n = getTranslation('phase', 'Phase');
        const phase = v.phases ? `${phase_i18n} ${v.phases}` : null;
        const multipart = v.multipart;
        const update = {};
        update.villainous = [villain, phase, multipart].reduce((memo, val) => (val ? memo + (memo.length ? ' ⬥ ' : '') + val : memo), '');
        setAttrs(update, { silent: true });
    });
};
const calculateAllAttributes = () => {
    Object.keys(ATTR_ABBREVIATIONS).forEach((attr) => calculateAttribute(attr));
};
const calculateAttribute = (attr) => {
    const request = ATTR_WATCH[attr];
    getAttrs(request, (v) => {
        const die = calculateStatusEffects(attr, v);
        setAttrs({ [attr]: die });
    });
};
const calculateStatusEffects = (attr, v) => {
    const die = +v[`${attr}_max`] || 0;
    const currentStep = DIE_SIZES.findIndex((size) => size == die);
    const immunities = ATTR_WATCH[attr]
        .filter((a) => a.includes('immunity') && v[a] === 'on')
        .map((a) => a.replace(/_\w+/, ''));
    const statuses = ATTR_WATCH[attr].filter((a) => !a.includes('max') && !a.includes('immunity') && !immunities.includes(a));
    const debuffs = statuses.reduce((memo, status) => memo + (v[status] === 'on' ? STATUS_EFFECTS[status] : 0), 0);
    const newSize = Math.max(0, Math.min(DIE_SIZES.length - 1, currentStep + debuffs));
    return DIE_SIZES.at(newSize);
};
const calculateMaxHP = (setCurrent = false) => {
    getAttrs(ATTR_WATCH.hp, (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const update = {};
        const might_max = +v.might_max || 0;
        const level = +v.level || 0;
        const hp_extra = +v.hp_extra || 0;
        const class_hp_total = +v.class_hp_total || 0;
        let hp_max;
        if (v.sheet_type === 'character') {
            hp_max = might_max * 5 + level + hp_extra + class_hp_total;
        }
        if (v.sheet_type === 'bestiary') {
            hp_max = might_max * 5 + level * 2 + hp_extra;
        }
        update.hp_max = hp_max;
        update.hp_crisis = Math.floor(hp_max / 2);
        if (setCurrent)
            update.hp = hp_max;
        setAttrs(update, { silent: true });
    });
};
const calculateMaxMP = (setCurrent = false) => {
    getAttrs(ATTR_WATCH.mp, (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const update = {};
        const willpower_max = +v.willpower_max || 0;
        const level = +v.level || 0;
        const mp_extra = +v.mp_extra || 0;
        const class_mp_total = +v.class_mp_total || 0;
        let mp_max;
        if (v.sheet_type === 'character') {
            mp_max = willpower_max * 5 + level + mp_extra + class_mp_total;
        }
        if (v.sheet_type === 'bestiary') {
            mp_max = willpower_max * 5 + level + mp_extra;
        }
        update.mp_max = mp_max;
        if (setCurrent)
            update.mp = mp_max;
        setAttrs(update, { silent: true });
    });
};
const calculateMaxIP = (setCurrent = false) => {
    getAttrs(ATTR_WATCH.ip, (v) => {
        if (v.sheet_type !== 'character')
            return;
        const update = {};
        const ip_extra = +v.ip_extra || 0;
        const class_ip_total = +v.class_ip_total || 0;
        const ip_max = 6 + ip_extra + class_ip_total;
        update.ip_max = ip_max;
        if (setCurrent)
            update.ip = ip_max;
        setAttrs(update, { silent: true });
    });
};
const calculateUltimaPoints = () => {
    getAttrs(ATTR_WATCH.ultima_points, (v) => {
        if (v.sheet_type !== 'bestiary')
            return;
        const villain = v.villain ?? '';
        const ultima_points = VILLAIN_ULTIMA_POINTS[villain] || 0;
        setAttrs({ ultima_points }, { silent: true });
    });
};
const updatePoints = (attr, direction) => {
    getAttrs([attr, `${attr}_max`, `${attr}-control`], (v) => {
        const xp = +v[attr] || 0;
        const xp_max = +v[`${attr}_max`] || 0;
        const xp_control = +v[`${attr}-control`] || 0;
        const sign = direction === 'add' ? 1 : -1;
        const update = Math.max(0, Math.min(xp_max, xp + xp_control * sign));
        setAttrs({ [attr]: update, [`${attr}-control`]: 1 }, { silent: true });
    });
};
const manageEquipment = (source) => {
    RepeatingModule.getAllAttrs(CHARACTER_EQUIPMENTS, EQUIPMENT_REQUESTS, (attributes, sections) => {
        let handsUsed = 0;
        const update = {};
        const sourceId = source.split('_').at(2);
        const sourceFieldset = source.split('_').at(1);
        ['repeating_armors', 'repeating_shields', 'repeating_accessories'].forEach((fieldset) => {
            sections[fieldset].forEach((id) => {
                const prefix = `${fieldset}_${id}_${SECTION_PREFIX[fieldset]}`;
                if (fieldset.includes(sourceFieldset) && id != sourceId) {
                    update[prefix + 'is_equipped'] = '0';
                }
                else {
                }
            });
        });
        if (handsUsed > 2) {
            console.warn(`I hope you've got ${handsUsed} hands in that coat.`);
        }
        setAttrs(update, { silent: true }, () => calculateDefenses());
    });
};
const calculateDefenses = () => {
    RepeatingModule.getAllAttrs(CHARACTER_EQUIPMENTS, EQUIPMENT_REQUESTS, (attributes, sections) => {
        const sheet_type = attributes.sheet_type;
        if (!['character', 'bestiary'].includes(sheet_type))
            return;
        const dexterity = +attributes.dexterity || 0;
        const defense_extra = +attributes.defense_extra || 0;
        const insight = +attributes.insight || 0;
        const magic_defense_extra = +attributes.magic_defense_extra || 0;
        let defense = dexterity;
        let magic_defense = insight;
        let initiative_total = 0;
        if (sheet_type === 'character') {
            ['repeating_armors', 'repeating_shields'].forEach((fieldset) => {
                sections[fieldset].forEach((id) => {
                    const prefix = `${fieldset}_${id}_${SECTION_PREFIX[fieldset]}`;
                    const is_martial = attributes[prefix + 'is_martial'] === 'on';
                    const is_equipped = attributes[prefix + 'is_equipped'] == 'on';
                    const initiative = +attributes[prefix + 'initiative'] || 0;
                    initiative_total += initiative;
                    if (is_equipped) {
                        if (is_martial && fieldset === 'repeating_armors') {
                            defense = +attributes[prefix + 'defense'] || 0;
                        }
                        else {
                            defense += +attributes[prefix + 'defense_bonus'] || 0;
                        }
                        magic_defense += +attributes[prefix + 'magic_defense_bonus'] || 0;
                    }
                });
            });
            defense += defense_extra;
            magic_defense += magic_defense_extra;
        }
        else if (sheet_type === 'bestiary') {
            const is_martial = attributes.armor_is_martial === 'on';
            const armor_defense = +attributes.armor_defense || 0;
            const armor_defense_bonus = +attributes.armor_defense_bonus || 0;
            const shield_defense_bonus = +attributes.shield_defense_bonus || 0;
            const armor_initiative = +attributes.armor_initiative || 0;
            const shield_initiative = +attributes.shield_initiative || 0;
            initiative_total = armor_initiative + shield_initiative;
            defense =
                (is_martial ? armor_defense : dexterity + armor_defense_bonus) +
                    shield_defense_bonus +
                    defense_extra;
            const armor_magic_defense_bonus = +attributes.armor_magic_defense_bonus || 0;
            const shield_magic_defense_bonus = +attributes.shield_magic_defense_bonus || 0;
            magic_defense =
                insight + armor_magic_defense_bonus + shield_magic_defense_bonus + magic_defense_extra;
        }
        setAttrs({ defense, magic_defense, initiative_total }, { silent: true }, () => calculateInitiative());
    });
};
const calculateCharacterLevel = () => {
    RepeatingModule.getAllAttrs(CHARACTER_SKILL_LEVEL, ATTR_WATCH.level, (attributes, sections) => {
        if (attributes.sheet_type != 'character')
            return;
        const update = {};
        const martialequip = {};
        let characterLevel = 0;
        const free_benefits = {
            hp: 0,
            mp: 0,
            ip: 0,
        };
        sections.repeating_classes.forEach((id) => {
            const prefix = `repeating_classes_${id}_`;
            const keys = Object.keys(attributes).filter((key) => key.includes(id));
            const classLevel = keys.reduce((memo, level) => {
                return memo + (level.includes('level') ? +attributes[level] : 0);
            }, 0);
            MARTIAL_PROFICIENCIES.forEach((prof) => {
                const val = attributes[prefix + `class_` + prof];
                if (val === 'on' && !Object.hasOwn(martialequip, prof)) {
                    martialequip[prof] = getTranslationByKey(`class_` + prof) || prof;
                }
            });
            const benefit = attributes[prefix + 'class_benefit'];
            free_benefits[benefit] += CLASS_BENEFIT[benefit];
            characterLevel += classLevel;
            update[prefix + 'class_level'] = classLevel;
            const skillsTaken = [];
            [1, 2, 3, 4, 5].forEach((skill) => {
                const skillPrefix = `class_skill${skill}_`;
                const skillName = attributes[prefix + skillPrefix + 'name'];
                const skillLevel = attributes[prefix + skillPrefix + 'level'];
                if (+skillLevel > 0) {
                    const sl = +skillLevel > 1 ? ` (SL ${skillLevel})` : '';
                    skillsTaken.push(`${skillName}${sl}`);
                }
            });
            update[prefix + 'class_skills_taken'] = skillsTaken.join(', ');
        });
        Object.entries(free_benefits).forEach(([attr, val]) => (update[`class_${attr}_total`] = val));
        update.level = characterLevel;
        update.may_equip = Object.values(martialequip).reduce((memo, val) => memo + (memo.length ? ' ✦ ' : '') + val, '');
        setAttrs(update, { silent: true }, () => {
            calculateMaxHP();
            calculateMaxMP();
            calculateMaxIP();
        });
    });
};
const calculateBondLevels = () => {
    getAttrs(ATTR_WATCH.bonds, (v) => {
        const update = {};
        [1, 2, 3, 4, 5, 6].forEach((bond) => {
            const b = Object.entries(v)
                .filter(([key, val]) => key.includes(String(bond)) && val.length)
                .map(([key, val]) => val);
            const level = b.reduce((memo, emotion) => memo + +!!emotion, 0);
            update[`bond${bond}_level`] = String(level);
        });
        setAttrs(update, { silent: true });
    });
};
const calculateQuickDefenses = (value) => {
    if (!value)
        return;
    const [def, mdef] = value.split('/');
    setAttrs({
        defense_extra: def,
        magic_defense_extra: mdef,
    }, { silent: true });
};
const updateQuickDefenseDropdown = () => {
    getAttrs(['defense_extra', 'magic_defense_extra'], (v) => {
        const defense_quick = `${v.defense_extra}/${v.magic_defense_extra}`;
        setAttrs({ defense_quick: defense_quick }, { silent: true });
    });
};
const calculateInitiative = () => {
    const request = ATTR_WATCH.initiative;
    getAttrs(['sheet_type', ...request], (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const dexterity = +v.dexterity || 0;
        const insight = +v.insight || 0;
        const initiative_bonus = +v.initiative_bonus || 0;
        const initiative_extra = +v.initiative_extra || 0;
        const initiative_total = +v.initiative_total || 0;
        let initiative;
        if (v.sheet_type === 'character') {
            initiative = (dexterity + insight) / 2 + initiative_extra + initiative_total;
        }
        if (v.sheet_type === 'bestiary') {
            initiative =
                (dexterity + insight) / 2 + initiative_bonus + initiative_extra + initiative_total;
        }
        setAttrs({ initiative: initiative }, { silent: true });
    });
};
const calculateLevelAccuracyBonus = (level) => Math.floor(level / 10);
const calculateLevelDamageBonus = (level) => level === 60 ? 15 : level >= 40 ? 10 : level >= 20 ? 5 : 0;
const calculateBasicAccuracyDamage = () => {
    RepeatingModule.getAllAttrs(BASIC_ACCURACY_DAMAGE, ATTR_WATCH.basic_attacks, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        if (attributes.sheet_type === 'bestiary') {
            const level = +attributes.level || 0;
            const accuracy_bonus = +attributes.accuracy_bonus || 0;
            const levelAccuracyBonus = calculateLevelAccuracyBonus(level);
            const levelDamageBonus = calculateLevelDamageBonus(level);
            const [section, ids] = Object.entries(sections).at(0);
            ids.forEach((id) => {
                const prefix = `${section}_${id}_`;
                const extra_damage = +attributes[prefix + 'attack_extra_damage'] || 0;
                update[prefix + 'attack_accuracy_total'] = accuracy_bonus + levelAccuracyBonus;
                update[prefix + 'attack_damage_total'] = 5 + extra_damage + levelDamageBonus;
            });
            setAttrs(update, { silent: true });
        }
    });
};
const calculateWeaponAccuracyDamage = () => {
    RepeatingModule.getAllAttrs(WEAPON_ACCURACY_DAMAGE, ATTR_WATCH.weapons, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        const level = +attributes.level || 0;
        const accuracy_bonus = +attributes.accuracy_bonus || 0;
        let levelAccuracyBonus = 0;
        let levelDamageBonus = 0;
        if (attributes.sheet_type === 'bestiary') {
            levelAccuracyBonus = calculateLevelAccuracyBonus(level);
            levelDamageBonus = calculateLevelDamageBonus(level);
        }
        const [section, ids] = Object.entries(sections).at(0);
        ids.forEach((id) => {
            const prefix = `${section}_${id}_`;
            const weapon_accuracy = +attributes[prefix + 'weapon_accuracy'] || 0;
            const weapon_damage = +attributes[prefix + 'weapon_damage'] || 0;
            const attack_accuracy = +attributes[prefix + 'weapon_attack_accuracy'] || 0;
            const attack_damage = +attributes[prefix + 'weapon_attack_damage'] || 0;
            const extra_damage = +attributes[prefix + 'weapon_extra_damage'] || 0;
            update[prefix + 'weapon_accuracy_total'] =
                weapon_accuracy + attack_accuracy + accuracy_bonus + levelAccuracyBonus;
            update[prefix + 'weapon_damage_total'] =
                weapon_damage + attack_damage + extra_damage + levelDamageBonus;
        });
        setAttrs(update, { silent: true });
    });
};
const calculateSpellAccuracyDamage = () => {
    RepeatingModule.getAllAttrs(SPELL_ACCURACY_DAMAGE, ATTR_WATCH.spells, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        const level = +attributes.level || 0;
        const accuracy_bonus = +attributes.accuracy_bonus || 0;
        const levelAccuracyBonus = calculateLevelAccuracyBonus(level);
        const levelDamageBonus = calculateLevelDamageBonus(level);
        const [section, ids] = Object.entries(sections).at(0);
        ids.forEach((id) => {
            const prefix = `${section}_${id}_`;
            const spell_accuracy = +attributes[prefix + 'spell_accuracy'] || 0;
            const spell_damage = +attributes[prefix + 'spell_damage'] || 0;
            update[prefix + 'spell_accuracy_total'] =
                spell_accuracy + accuracy_bonus + levelAccuracyBonus;
            update[prefix + 'spell_damage_total'] = spell_damage + levelDamageBonus;
        });
        setAttrs(update, { silent: true });
    });
};
const calculateRitualAccuracyDifficulty = () => {
    RepeatingModule.getAllAttrs(RITUAL_ACCURACY_DIFFICULTY, ATTR_WATCH.rituals, (attributes, sections) => {
        if (attributes.sheet_type !== 'character')
            return;
        const update = {};
        const accuracy_bonus = +attributes.accuracy_bonus || 0;
        let ritual_known = '';
        RITUAL_DISCIPLINES.forEach((discipline) => {
            const checkbox = attributes[discipline] ?? '';
            if (checkbox === 'on') {
                ritual_known +=
                    (ritual_known.length ? ' ✦ ' : '') + getTranslationByKey(discipline) ?? discipline;
            }
        });
        update['ritual_known'] = ritual_known;
        const [section, ids] = Object.entries(sections).at(0);
        ids.forEach((id) => {
            const prefix = `${section}_${id}_`;
            const ritual_accuracy = +attributes[prefix + 'ritual_accuracy'] || 0;
            update[prefix + 'ritual_accuracy_total'] = ritual_accuracy + accuracy_bonus;
            const potency = attributes[prefix + 'ritual_potency'] ?? 'minor';
            const area = attributes[prefix + 'ritual_area'] ?? 'individual';
            const dl = RITUAL_DIFFICULTY.difficulty[potency];
            const mp = RITUAL_DIFFICULTY.potency[potency] * RITUAL_DIFFICULTY.area[area];
            update[prefix + 'ritual_difficulty'] = dl;
            update[prefix + 'ritual_mp'] = mp;
        });
        setAttrs(update, { silent: true });
    });
};

</script>