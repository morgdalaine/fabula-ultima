<span class="fabula-translation" data-i18n="damage">Damage</span><span class="fabula-translation" data-i18n="dmg">DMG</span><span class="fabula-translation" data-i18n="HR">HR</span><span class="fabula-translation" data-i18n="high_roll">HR</span><span class="fabula-translation" data-i18n="action">Action</span><span class="fabula-translation" data-i18n="info">Info</span><span class="fabula-translation" data-i18n="mdefense_full">M. Defense</span><span class="fabula-translation" data-i18n="defense_full">Defense</span><span class="fabula-translation" data-i18n="1-handed">One-handed</span><span class="fabula-translation" data-i18n="2-handed">Two-handed</span><span class="fabula-translation" data-i18n="vu">VU</span><span class="fabula-translation" data-i18n="rs">RS</span><span class="fabula-translation" data-i18n="im">IM</span><span class="fabula-translation" data-i18n="ab">AB</span><span class="fabula-translation" data-i18n=""></span>
<input class="chimera-hidden" name="attr_sheet_type" type="hidden" value="bestiary"/>
<input class="chimera-hidden" name="attr_sheet_mode" type="hidden"/>
<div class="fabula-ultima">
  <header class="fabula-ultima__header">
    <label class="chimera-checkbox sheet_mode" data-i18n-title="sheet_mode_title" title="Toggle edit mode">
      <div class="chimera-checkbox__field">
        <input id="sheet_mode" name="attr_sheet_mode" type="checkbox"/><img data-i18n-title="sheet_mode_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/feather.png" title="Toggle edit mode"/>
      </div><span class="chimera-checkbox__label" data-i18n="sheet_mode" for="sheet_mode">Edit</span>
    </label>
    <div class="chimera-input sheet-type chimera-input--flex-row chimera-input--nowrap">
      <label class="chimera-input__label" data-i18n="sheet_type" for="sheet_type">Sheet Type</label>
      <select class="chimera-input__field" data-i18n-title="sheet_type_title" id="sheet_type" name="attr_sheet_type" title="Sheet Type">
        <option data-i18n="character" selected="selected" value="character">Character</option>
        <option data-i18n="bestiary" selected="selected" value="bestiary">Bestiary</option>
        <option data-i18n="gm" value="gm">GM</option>
      </select>
    </div>
  </header>
  <main class="character">
    <input class="chimera-hidden" name="attr_nav" type="hidden" value="classes"/>
        <section class="character--view">
              <div class="traits--view">
                <input class="chimera-hidden" name="attr_character_avatar" type="hidden" value=""/>
                <div class="trait__avatar"><img data-i18n-title="avatar" name="attr_character_avatar" title="Despite everything, it's still you."/></div>
                <div class="trait__name"><span name="attr_character_name"></span><span class="trait__pronouns" name="attr_pronouns"></span>
                </div>
                <div class="trait__level">
                  <label data-i18n="lv">Lv</label><span name="attr_level"></span>
                </div>
                <div class="trait__description">
                  <div class="chimera-value trait__identity chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="identity" for="identity">Identity</label><span class="chimera-value__value" name="attr_identity"></span>
                  </div>
                  <div class="chimera-value trait__theme chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="theme" for="theme">Theme</label><span class="chimera-value__value" name="attr_theme"></span>
                  </div>
                  <div class="chimera-value trait__origin chimera-value--column chimera-value--colon">
                    <label class="chimera-value__label" data-i18n="origin" for="origin">Origin</label><span class="chimera-value__value" name="attr_origin"></span>
                  </div>
                </div>
              </div>
              <div class="statistics--view">
                <div class="attributes--view">
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="dexterity" for="dexterity">DEX</label><span class="chimera-value__value" name="attr_dexterity"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="insight" for="insight">INS</label><span class="chimera-value__value" name="attr_insight"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="might" for="might">MIG</label><span class="chimera-value__value" name="attr_might"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="willpower" for="willpower">WLP</label><span class="chimera-value__value" name="attr_willpower"></span>
                  </div>
                </div>
                    <div class="points--view">
                      <input class="chimera-hidden" name="attr_hp_crisis" type="hidden"/>
                      <label class="chimera-value__label" data-i18n="hp">HP</label>
                      <div class="point__hp">
                        <div class="chimera-value points__hp"><span class="chimera-value__value" name="attr_hp"></span>
                        </div><span class="fabula-diamond">⬥</span>
                        <div class="chimera-value points__hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                        </div>
                      </div>
                      <label class="chimera-value__label" data-i18n="mp">MP</label>
                      <div class="point__mp">
                        <div class="chimera-value points__mp"><span class="chimera-value__value" name="attr_mp"></span>
                        </div>
                      </div>
                      <div class="point__initiative">
                        <label class="chimera-value__label" data-i18n="init">Init.</label>
                        <div class="chimera-value points__initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                        </div>
                      </div>
                    </div>
                    <div class="defenses--view">
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="defense" for="defense">DEF</label><span class="chimera-value__value" name="attr_defense"></span>
                      </div>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="magic_defense" for="magic_defense">M.DEF</label><span class="chimera-value__value" name="attr_magic_defense"></span>
                      </div>
                    </div>
                    <div class="affinities--view">
                      <label class="affinity__wrapper affinity--physical">
                        <input class="chimera-hidden" name="attr_physical" type="hidden"/><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="physical" for="physical">Physical</label><span class="chimera-value__value" name="attr_physical"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--air">
                        <input class="chimera-hidden" name="attr_air" type="hidden"/><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="air" for="air">Air</label><span class="chimera-value__value" name="attr_air"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--bolt">
                        <input class="chimera-hidden" name="attr_bolt" type="hidden"/><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="bolt" for="bolt">Bolt</label><span class="chimera-value__value" name="attr_bolt"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--dark">
                        <input class="chimera-hidden" name="attr_dark" type="hidden"/><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="dark" for="dark">Dark</label><span class="chimera-value__value" name="attr_dark"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--earth">
                        <input class="chimera-hidden" name="attr_earth" type="hidden"/><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="earth" for="earth">Earth</label><span class="chimera-value__value" name="attr_earth"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--fire">
                        <input class="chimera-hidden" name="attr_fire" type="hidden"/><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="fire" for="fire">Fire</label><span class="chimera-value__value" name="attr_fire"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--ice">
                        <input class="chimera-hidden" name="attr_ice" type="hidden"/><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="ice" for="ice">Ice</label><span class="chimera-value__value" name="attr_ice"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--light">
                        <input class="chimera-hidden" name="attr_light" type="hidden"/><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="light" for="light">Light</label><span class="chimera-value__value" name="attr_light"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--poison">
                        <input class="chimera-hidden" name="attr_poison" type="hidden"/><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="poison" for="poison">Poison</label><span class="chimera-value__value" name="attr_poison"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                    </div>
              </div>
              <div class="bonds--view">
                <h2 class="bonds__heading--view" data-i18n="bonds">Bonds</h2>
                <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                <div class="bond bond--1">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond1_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond1_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond1chat" name="act_bond1chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
                <div class="bond bond--2">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond2_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond2_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond2chat" name="act_bond2chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
                <div class="bond bond--3">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond3_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond3_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond3chat" name="act_bond3chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
                <div class="bond bond--4">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond4_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond4_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond4chat" name="act_bond4chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
                <div class="bond bond--5">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond5_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond5_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond5chat" name="act_bond5chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
                <div class="bond bond--6">
                  <div class="chimera-value bond__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_bond6_name"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_approval"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_allegiance"></span>
                  </div>
                  <div class="chimera-value bond__emotion chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_bond6_fondness"></span>
                  </div>
                  <button class="chimera-action send-to-chat" data-i18n-title="bond6chat" name="act_bond6chat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                  </button>
                </div>
              </div>
          <div class="traits--view">
            <h2 class="traits__heading--view">FABULA POINTS & EXPERIENCE</h2>
          </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_weapons_empty" type="hidden"/>
              <div class="weapons">
                <h2 class="weapons__heading--view" data-i18n="weapons">Weapons</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_weapon_is_equipped" type="hidden"/>
                          <button class="chimera-action weapon__roll" data-i18n-title="weaponattack" name="act_weaponattack" title="Weapon Attack" type="action"><img class="weapon__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="weapon__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="weapon__attack"><span class="weapon__attack_name" name="attr_weapon_attack_name"></span><span class="weapon__name" name="attr_weapon_name"></span>
                            </div>
                          </button>
                          <div class="weapon__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div>
                          <div class="chimera-value weapon__special"><span class="chimera-value__value" name="attr_weapon_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_spells_empty" type="hidden"/>
              <div class="spells">
                <h2 class="spells__heading--view" data-i18n="spells">Spells</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                      </div>
                      <div class="chimera-repeater--view spells--view">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <button class="chimera-action spell__roll" data-i18n-title="spell" name="act_spell" title="Spell" type="action"><img class="spell__icon" data-i18n-title="spell_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg" title="Spell"/>
                            <div class="chimera-value spell__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                          </button>
                          <div class="spell__offensive">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_spell_damage_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__type chimera-value--no-label-bold"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_type"></span>
                            </div><span class="fabula-diamond">⬥</span>
                          </div>
                          <div class="chimera-value spell__mp chimera-value--reverse">
                            <label class="chimera-value__label" data-i18n="spell_mp" for="spell_mp">MP</label><span class="chimera-value__value" name="attr_spell_mp"></span>
                          </div>
                          <div class="spell__target-duration">
                            <div class="chimera-value spell__target chimera-value--center"><span class="chimera-value__value" name="attr_spell_target"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__duration chimera-value--center"><span class="chimera-value__value" name="attr_spell_duration"></span>
                            </div>
                          </div>
                          <div class="chimera-value spell__effect"><span class="chimera-value__value" name="attr_spell_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
          <div class="traits--view">
            <h2 class="traits__heading--view">BACKPACK</h2>
            <div class="chimera-value" style="grid-column: 1/-1; display: flex; gap: 4px; padding: 8px; padding-top: 0px">
              <label class="chimera-value__label">May Equip:</label><span class="chimera-value__value">✦ Martial Armor ✦ Martial Weapons</span>
            </div>
          </div>
          <div class="traits--view">
            <h2 class="traits__heading--view">CLASS</h2>
          </div>
          <div class="traits--view">
            <h2 class="points__heading--view">JOURNAL</h2>
          </div>
        </section>
        <section class="character--edit">
              <div class="traits--edit">
                <div class="chimera-input trait__name">
                  <label class="chimera-input__label" data-i18n="character_name" for="character_name">Name</label>
                  <input class="chimera-input__field" data-i18n-title="character_name_title" id="character_name" name="attr_character_name" title="Name" type="text"/>
                </div>
                <div class="chimera-input trait__pronouns">
                  <label class="chimera-input__label" data-i18n="pronouns" for="pronouns">Pronouns</label>
                  <input class="chimera-input__field" data-i18n-title="pronouns_title" id="pronouns" name="attr_pronouns" title="Pronouns" type="text"/>
                </div>
                <div class="chimera-input trait__identity">
                  <label class="chimera-input__label" data-i18n="identity" for="identity">Identity</label>
                  <input class="chimera-input__field" data-i18n-title="identity_title" id="identity" name="attr_identity" title="Identity" type="text"/>
                </div>
                <div class="chimera-input trait__theme">
                  <label class="chimera-input__label" data-i18n="theme" for="theme">Theme</label>
                  <input class="chimera-input__field" data-i18n-title="theme_title" id="theme" name="attr_theme" title="Theme" type="text"/>
                </div>
                <div class="chimera-input trait__origin">
                  <label class="chimera-input__label" data-i18n="origin" for="origin">Origin</label>
                  <input class="chimera-input__field" data-i18n-title="origin_title" id="origin" name="attr_origin" title="Origin" type="text"/>
                </div>
              </div>
              <div class="attributes--edit">
                <div class="attributes__distribution chimera-shadow">
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="jack_of_all_trades">Jack of All Trades</label><span class="chimera-value__value">d8, d8, d8, d8</span>
                  </div>
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="standard">Standard</label><span class="chimera-value__value">d10, d8, d8, d6</span>
                  </div>
                  <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
                    <label class="chimera-value__label" data-i18n="specialized">Specialized</label><span class="chimera-value__value">d10, d10, d6, d6</span>
                  </div>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="dexterity_max" for="dexterity_max">DEX</label>
                  <select class="chimera-input__field" data-i18n-title="dexterity_max_title" id="dexterity_max" name="attr_dexterity_max" title="Dexterity">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="insight_max" for="insight_max">INS</label>
                  <select class="chimera-input__field" data-i18n-title="insight_max_title" id="insight_max" name="attr_insight_max" title="Insight">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="might_max" for="might_max">MIG</label>
                  <select class="chimera-input__field" data-i18n-title="might_max_title" id="might_max" name="attr_might_max" title="Might">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
                <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="willpower_max" for="willpower_max">WLP</label>
                  <select class="chimera-input__field" data-i18n-title="willpower_max_title" id="willpower_max" name="attr_willpower_max" title="Willpower">
                    <option data-i18n="d6" selected="selected" value="6">d6</option>
                    <option data-i18n="d8" selected="selected" value="8">d8</option>
                    <option data-i18n="d10" value="10">d10</option>
                    <option data-i18n="d12" value="12">d12</option>
                  </select>
                </div>
              </div>
              <div class="nav" style="display: flex; flex-direction: row; gap: 4px">
                <button class="chimera-action" data-i18n-title="stats" name="act_stats" title="Stats" type="action"><span class="chimera-value__value" data-i18n="stats">Stats</span>
                </button>
                <button class="chimera-action" data-i18n-title="bonds" name="act_bonds" title="Bonds" type="action"><span class="chimera-value__value" data-i18n="bonds">Bonds</span>
                </button>
                <button class="chimera-action" data-i18n-title="classes" name="act_classes" title="Classes" type="action"><span class="chimera-value__value" data-i18n="classes">Classes</span>
                </button>
                <button class="chimera-action" data-i18n-title="equipment" name="act_equipment" title="Equipment" type="action"><span class="chimera-value__value" data-i18n="equipment">Equipment</span>
                </button>
                <button class="chimera-action" data-i18n-title="magic" name="act_magic" title="Magic" type="action"><span class="chimera-value__value" data-i18n="magic">Magic</span>
                </button>
                <button class="chimera-action" data-i18n-title="journal" name="act_journal" title="Journal" type="action"><span class="chimera-value__value" data-i18n="journal">Journal</span>
                </button>
                <button class="chimera-action" data-i18n-title="settings" name="act_settings" title="Settings" type="action"><span class="chimera-value__value" data-i18n="settings">Settings</span>
                </button>
              </div>
          <div class="character__stats">
                <div class="statistics--edit">
                      <div class="points--edit">
                        <input class="chimera-hidden" name="attr_hp_crisis" type="hidden"/>
                        <div class="point__hp">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="hit_points">Hit Points</h2>
                            <div class="chimera-value points__hp"><span class="chimera-value__value" name="attr_hp_max"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value points__hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                            </div>
                          </div>
                          <div class="chimera-input point__hp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="hp_extra" for="hp_extra">Extra HP</label>
                            <input class="chimera-input__field" data-i18n-title="hp_extra_title" id="hp_extra" name="attr_hp_extra" step="5" title="Extra HP" type="number"/>
                          </div><span class="point__helptext" data-i18n="hp_calculation">(MIG x 5) + LEVEL + OTHER</span>
                        </div>
                        <div class="point__mp">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="mind_points">Mind Points</h2>
                            <div class="chimera-value points__mp"><span class="chimera-value__value" name="attr_mp_max"></span>
                            </div>
                          </div>
                          <div class="chimera-input point__mp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="mp_extra" for="mp_extra">Extra MP</label>
                            <input class="chimera-input__field" data-i18n-title="mp_extra_title" id="mp_extra" name="attr_mp_extra" step="5" title="Extra MP" type="number"/>
                          </div><span class="point__helptext" data-i18n="mp_calculation">(WLP x 5) + LEVEL + OTHER</span>
                        </div>
                        <div class="point__ip">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="inventory_points">Inventory Points</h2>
                            <div class="chimera-value points__ip"><span class="chimera-value__value" name="attr_ip_max"></span>
                            </div>
                          </div>
                          <div class="chimera-input point__mp-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="ip_extra" for="ip_extra">Extra IP</label>
                            <input class="chimera-input__field" data-i18n-title="ip_extra_title" id="ip_extra" name="attr_ip_extra" step="2" title="Extra IP" type="number"/>
                          </div><span class="point__helptext" data-i18n="ip_calculation">6 + OTHER</span>
                        </div>
                        <div class="point__initiative">
                          <div class="point__values">
                            <h2 class="points__heading--edit" data-i18n="initiative">Initiative</h2>
                            <div class="chimera-value points__initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                            </div>
                          </div>
                          <div class="chimera-input point__init-extra chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="initiative_extra" for="initiative_extra">Extra Initiative</label>
                            <input class="chimera-input__field" data-i18n-title="initiative_extra_title" id="initiative_extra" name="attr_initiative_extra" title="Extra Initiative" type="number"/>
                          </div>
                        </div>
                      </div>
                  <div class="affinities--edit">
                    <h2 class="affinities__heading--edit" data-i18n="damage_affinities">Damage Affinities</h2>
                    <div class="chimera-input affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/>
                      <label class="chimera-input__label" data-i18n="physical" for="physical">Physical</label>
                      <select class="chimera-input__field" data-i18n-title="physical_title" id="physical" name="attr_physical" title="Physical Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/>
                      <label class="chimera-input__label" data-i18n="air" for="air">Air</label>
                      <select class="chimera-input__field" data-i18n-title="air_title" id="air" name="attr_air" title="Air Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/>
                      <label class="chimera-input__label" data-i18n="bolt" for="bolt">Bolt</label>
                      <select class="chimera-input__field" data-i18n-title="bolt_title" id="bolt" name="attr_bolt" title="Bolt Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/>
                      <label class="chimera-input__label" data-i18n="dark" for="dark">Dark</label>
                      <select class="chimera-input__field" data-i18n-title="dark_title" id="dark" name="attr_dark" title="Dark Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/>
                      <label class="chimera-input__label" data-i18n="earth" for="earth">Earth</label>
                      <select class="chimera-input__field" data-i18n-title="earth_title" id="earth" name="attr_earth" title="Earth Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/>
                      <label class="chimera-input__label" data-i18n="fire" for="fire">Fire</label>
                      <select class="chimera-input__field" data-i18n-title="fire_title" id="fire" name="attr_fire" title="Fire Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/>
                      <label class="chimera-input__label" data-i18n="ice" for="ice">Ice</label>
                      <select class="chimera-input__field" data-i18n-title="ice_title" id="ice" name="attr_ice" title="Ice Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/>
                      <label class="chimera-input__label" data-i18n="light" for="light">Light</label>
                      <select class="chimera-input__field" data-i18n-title="light_title" id="light" name="attr_light" title="Light Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                    <div class="chimera-input affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/>
                      <label class="chimera-input__label" data-i18n="poison" for="poison">Poison</label>
                      <select class="chimera-input__field" data-i18n-title="poison_title" id="poison" name="attr_poison" title="Poison Affinity">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                        <option data-i18n="resistant" value="rs">Resistant</option>
                        <option data-i18n="immune" value="im">Immune</option>
                        <option data-i18n="absorbs" value="ab">Absorbs</option>
                      </select>
                    </div>
                  </div>
                  <div class="statuses--edit">
                    <h2 class="statuses__heading--edit" data-i18n="status_immunities">Status Immunities</h2>
                    <label class="chimera-checkbox status-effect status-effect--slow chimera-checkbox--column" data-i18n-title="slow_immunity_title" title="Slow temporarily reduces your Dexterity die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="slow_immunity" name="attr_slow_immunity" type="checkbox"/><img data-i18n-title="slow_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/slow.png" title="Slow temporarily reduces your Dexterity die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="slow_immunity" for="slow_immunity">Slow</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--dazed chimera-checkbox--column" data-i18n-title="dazed_immunity_title" title="Dazed temporarily reduces your Insight die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="dazed_immunity" name="attr_dazed_immunity" type="checkbox"/><img data-i18n-title="dazed_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/dazed.png" title="Dazed temporarily reduces your Insight die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="dazed_immunity" for="dazed_immunity">Dazed</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--enraged chimera-checkbox--column" data-i18n-title="enraged_immunity_title" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="enraged_immunity" name="attr_enraged_immunity" type="checkbox"/><img data-i18n-title="enraged_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/enraged.png" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="enraged_immunity" for="enraged_immunity">Enraged</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--weak chimera-checkbox--column" data-i18n-title="weak_immunity_title" title="Weak temporarily reduces your Might die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="weak_immunity" name="attr_weak_immunity" type="checkbox"/><img data-i18n-title="weak_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/weak.png" title="Weak temporarily reduces your Might die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="weak_immunity" for="weak_immunity">Weak</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--shaken chimera-checkbox--column" data-i18n-title="shaken_immunity_title" title="Shaken temporarily reduces your Willpower die size by one.">
                      <div class="chimera-checkbox__field">
                        <input id="shaken_immunity" name="attr_shaken_immunity" type="checkbox"/><img data-i18n-title="shaken_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/shaken.png" title="Shaken temporarily reduces your Willpower die size by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="shaken_immunity" for="shaken_immunity">Shaken</span>
                    </label>
                    <label class="chimera-checkbox status-effect status-effect--poisoned chimera-checkbox--column" data-i18n-title="poisoned_immunity_title" title="Poisoned temporarily reduces your Might and Willpower die sizes by one.">
                      <div class="chimera-checkbox__field">
                        <input id="poisoned_immunity" name="attr_poisoned_immunity" type="checkbox"/><img data-i18n-title="poisoned_immunity_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/poisoned.png" title="Poisoned temporarily reduces your Might and Willpower die sizes by one."/>
                      </div><span class="chimera-checkbox__label" data-i18n="poisoned_immunity" for="poisoned_immunity">Poisoned</span>
                    </label>
                  </div>
                </div>
          </div>
          <div class="character__bonds">
                <div class="bonds--edit">
                  <h2 class="bonds__heading--edit" data-i18n="bonds">Bonds</h2>
                  <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                  <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                  <div class="bond bond--1">
                    <input class="chimera-hidden" name="attr_bond1_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond1_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond1_name_title" id="bond1_name" name="attr_bond1_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond1_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond1_approval_title" id="bond1_approval" name="attr_bond1_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond1_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond1_allegiance_title" id="bond1_allegiance" name="attr_bond1_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond1_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond1_fondness_title" id="bond1_fondness" name="attr_bond1_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond1_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond1_description_title" id="bond1_description" name="attr_bond1_description" type="textarea"></textarea>
                    </div>
                  </div>
                  <div class="bond bond--2">
                    <input class="chimera-hidden" name="attr_bond2_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond2_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond2_name_title" id="bond2_name" name="attr_bond2_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond2_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond2_approval_title" id="bond2_approval" name="attr_bond2_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond2_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond2_allegiance_title" id="bond2_allegiance" name="attr_bond2_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond2_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond2_fondness_title" id="bond2_fondness" name="attr_bond2_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond2_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond2_description_title" id="bond2_description" name="attr_bond2_description" type="textarea"></textarea>
                    </div>
                  </div>
                  <div class="bond bond--3">
                    <input class="chimera-hidden" name="attr_bond3_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond3_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond3_name_title" id="bond3_name" name="attr_bond3_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond3_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond3_approval_title" id="bond3_approval" name="attr_bond3_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond3_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond3_allegiance_title" id="bond3_allegiance" name="attr_bond3_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond3_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond3_fondness_title" id="bond3_fondness" name="attr_bond3_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond3_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond3_description_title" id="bond3_description" name="attr_bond3_description" type="textarea"></textarea>
                    </div>
                  </div>
                  <div class="bond bond--4">
                    <input class="chimera-hidden" name="attr_bond4_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond4_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond4_name_title" id="bond4_name" name="attr_bond4_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond4_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond4_approval_title" id="bond4_approval" name="attr_bond4_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond4_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond4_allegiance_title" id="bond4_allegiance" name="attr_bond4_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond4_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond4_fondness_title" id="bond4_fondness" name="attr_bond4_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond4_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond4_description_title" id="bond4_description" name="attr_bond4_description" type="textarea"></textarea>
                    </div>
                  </div>
                  <div class="bond bond--5">
                    <input class="chimera-hidden" name="attr_bond5_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond5_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond5_name_title" id="bond5_name" name="attr_bond5_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond5_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond5_approval_title" id="bond5_approval" name="attr_bond5_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond5_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond5_allegiance_title" id="bond5_allegiance" name="attr_bond5_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond5_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond5_fondness_title" id="bond5_fondness" name="attr_bond5_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond5_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond5_description_title" id="bond5_description" name="attr_bond5_description" type="textarea"></textarea>
                    </div>
                  </div>
                  <div class="bond bond--6">
                    <input class="chimera-hidden" name="attr_bond6_level" type="hidden" value="0"/>
                    <div class="chimera-input bond__name">
                      <label class="chimera-input__label" data-i18n="bond_name" for="bond6_name">Bond Name</label>
                      <input class="chimera-input__field" data-i18n-title="bond6_name_title" id="bond6_name" name="attr_bond6_name" type="text"/>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_approval" for="bond6_approval">Approval</label>
                      <select class="chimera-input__field" data-i18n-title="bond6_approval_title" id="bond6_approval" name="attr_bond6_approval">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="admiration" value="admiration">Admiration</option>
                        <option data-i18n="inferiority" value="inferiority">Inferiority</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_allegiance" for="bond6_allegiance">Allegiance</label>
                      <select class="chimera-input__field" data-i18n-title="bond6_allegiance_title" id="bond6_allegiance" name="attr_bond6_allegiance">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="loyalty" value="loyalty">Loyalty</option>
                        <option data-i18n="mistrust" value="mistrust">Mistrust</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__emotion chimera-input--center">
                      <label class="chimera-input__label" data-i18n="bond_fondness" for="bond6_fondness">Fondness</label>
                      <select class="chimera-input__field" data-i18n-title="bond6_fondness_title" id="bond6_fondness" name="attr_bond6_fondness">
                        <option data-i18n="none" selected="selected" value="">—</option>
                        <option data-i18n="affection" value="affection">Affection</option>
                        <option data-i18n="hatred" value="hatred">Hatred</option>
                      </select>
                    </div>
                    <div class="chimera-input bond__description">
                      <label class="chimera-input__label" data-i18n="bond_description" for="bond6_description">Description</label>
                      <textarea class="chimera-input__field" data-i18n-title="bond6_description_title" id="bond6_description" name="attr_bond6_description" type="textarea"></textarea>
                    </div>
                  </div>
                </div>
          </div>
          <div class="character__classes">
                <div class="classes--edit">
                  <h2 class="classes__heading--edit" data-i18n="classes">Classes</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_classes_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_classes_repeating">No classes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_classes">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit classes--edit">
                          <div class="class">
                            <input class="chimera-hidden" name="attr_character_level" type="hidden"/>
                            <input class="chimera-hidden" name="attr_class_hide" type="hidden"/>
                            <input class="chimera-hidden" name="attr_class_skills_taken" type="hidden"/>
                            <label class="chimera-checkbox class__hide chimera-checkbox--column-reverse" data-i18n-title="class_hide_title" title="Hide">
                              <div class="chimera-checkbox__field">
                                <input id="class_hide" name="attr_class_hide" type="checkbox"/><img data-i18n-title="hide_title" src="https://www.svgrepo.com/show/355029/form-view-hide.svg" title="Hide"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_hide" for="class_hide">Hide</span>
                            </label>
                            <div class="chimera-input class__name--view">
                              <label class="chimera-input__label" data-i18n="class_name" for="class_name">Name</label><span class="chimera-input__field" name="attr_class_name"></span>
                            </div>
                            <div class="chimera-input class__name">
                              <label class="chimera-input__label" data-i18n="class_name" for="class_name">Name</label>
                              <input class="chimera-input__field" data-i18n-title="class_name_title" id="class_name" name="attr_class_name" title="Name" type="text"/>
                            </div>
                            <div class="chimera-input class__level chimera-input--disabled chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="class_level" for="class_level">Level</label><span class="chimera-input__field" name="attr_class_level"></span>
                            </div>
                            <div class="chimera-input class__special">
                              <label class="chimera-input__label" data-i18n="class_special" for="class_special">Special</label>
                              <input class="chimera-input__field" data-i18n-title="class_special_title" id="class_special" name="attr_class_special" title="Special" type="text"/>
                            </div>
                            <div class="chimera-input class__skills_taken chimera-input--hide-label">
                              <label class="chimera-input__label" data-i18n="class_skills_taken" for="class_skills_taken">Skills Taken</label><span class="chimera-input__field" name="attr_class_skills_taken"></span>
                            </div>
                            <div class="chimera-input class__benefit chimera-input--center">
                              <label class="chimera-input__label" data-i18n="class_benefit" for="class_benefit">Free Benefit</label>
                              <select class="chimera-input__field" data-i18n-title="class_benefit_title" id="class_benefit" name="attr_class_benefit" title="Free Benefit">
                                <option data-i18n="plusHP" selected="selected" value="hp5">+5 HP</option>
                                <option data-i18n="plusMP" value="mp5">+5 MP</option>
                                <option data-i18n="plusIP" value="ip2">+2 IP</option>
                              </select>
                            </div>
                            <label class="chimera-checkbox class__martialmelee chimera-checkbox--column-reverse" data-i18n-title="class_martialmelee_title" title="Martial Melee">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialmelee" name="attr_class_martialmelee" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialmelee" for="class_martialmelee">Martial Melee</span>
                            </label>
                            <label class="chimera-checkbox class__martialranged chimera-checkbox--column-reverse" data-i18n-title="class_martialranged_title" title="Martial Ranged">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialranged" name="attr_class_martialranged" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialranged" for="class_martialranged">Martial Ranged</span>
                            </label>
                            <label class="chimera-checkbox class__martialarmor chimera-checkbox--column-reverse" data-i18n-title="class_martialarmor_title" title="Martial Armor">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialarmor" name="attr_class_martialarmor" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialarmor" for="class_martialarmor">Martial Armor</span>
                            </label>
                            <label class="chimera-checkbox class__martialshield chimera-checkbox--column-reverse" data-i18n-title="class_martialshield_title" title="Martial Shield">
                              <div class="chimera-checkbox__field">
                                <input id="class_martialshield" name="attr_class_martialshield" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="class_martialshield" for="class_martialshield">Martial Shield</span>
                            </label>
                            <div class="chimera-input class__description">
                              <label class="chimera-input__label" data-i18n="class_description" for="class_description">Description</label>
                              <textarea class="chimera-input__field" data-i18n-title="class_description_title" id="class_description" name="attr_class_description" title="Description" type="textarea"></textarea>
                            </div>
                            <div class="class__skill">
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill1_name" for="class_skill1_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill1_name_title" id="class_skill1_name" name="attr_class_skill1_name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill1_level" for="class_skill1_level">SL</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill1_level_title" id="class_skill1_level" min="0" name="attr_class_skill1_level" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_modifiers">
                                <label class="chimera-input__label" data-i18n="class_skill1_modifiers" for="class_skill1_modifiers">Modifiers</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill1_modifiers_title" id="class_skill1_modifiers" name="attr_class_skill1_modifiers" title="Modifiers" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill1_description" for="class_skill1_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill1_description_title" id="class_skill1_description" name="attr_class_skill1_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill2_name" for="class_skill2_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill2_name_title" id="class_skill2_name" name="attr_class_skill2_name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill2_level" for="class_skill2_level">SL</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill2_level_title" id="class_skill2_level" min="0" name="attr_class_skill2_level" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_modifiers">
                                <label class="chimera-input__label" data-i18n="class_skill2_modifiers" for="class_skill2_modifiers">Modifiers</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill2_modifiers_title" id="class_skill2_modifiers" name="attr_class_skill2_modifiers" title="Modifiers" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill2_description" for="class_skill2_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill2_description_title" id="class_skill2_description" name="attr_class_skill2_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill3_name" for="class_skill3_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill3_name_title" id="class_skill3_name" name="attr_class_skill3_name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill3_level" for="class_skill3_level">SL</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill3_level_title" id="class_skill3_level" min="0" name="attr_class_skill3_level" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_modifiers">
                                <label class="chimera-input__label" data-i18n="class_skill3_modifiers" for="class_skill3_modifiers">Modifiers</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill3_modifiers_title" id="class_skill3_modifiers" name="attr_class_skill3_modifiers" title="Modifiers" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill3_description" for="class_skill3_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill3_description_title" id="class_skill3_description" name="attr_class_skill3_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill4_name" for="class_skill4_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill4_name_title" id="class_skill4_name" name="attr_class_skill4_name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill4_level" for="class_skill4_level">SL</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill4_level_title" id="class_skill4_level" min="0" name="attr_class_skill4_level" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_modifiers">
                                <label class="chimera-input__label" data-i18n="class_skill4_modifiers" for="class_skill4_modifiers">Modifiers</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill4_modifiers_title" id="class_skill4_modifiers" name="attr_class_skill4_modifiers" title="Modifiers" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill4_description" for="class_skill4_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill4_description_title" id="class_skill4_description" name="attr_class_skill4_description" title="Description" type="textarea"></textarea>
                              </div>
                              <div class="chimera-input class__skill_name">
                                <label class="chimera-input__label" data-i18n="class_skill5_name" for="class_skill5_name">Skill Name</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill5_name_title" id="class_skill5_name" name="attr_class_skill5_name" title="Skill Name" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_level chimera-input--small chimera-input--center">
                                <label class="chimera-input__label" data-i18n="class_skill5_level" for="class_skill5_level">SL</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill5_level_title" id="class_skill5_level" min="0" name="attr_class_skill5_level" title="Skill Level" type="number" value="0"/>
                              </div>
                              <div class="chimera-input class__skill_modifiers">
                                <label class="chimera-input__label" data-i18n="class_skill5_modifiers" for="class_skill5_modifiers">Modifiers</label>
                                <input class="chimera-input__field" data-i18n-title="class_skill5_modifiers_title" id="class_skill5_modifiers" name="attr_class_skill5_modifiers" title="Modifiers" type="text"/>
                              </div>
                              <div class="chimera-input class__skill_description">
                                <label class="chimera-input__label" data-i18n="class_skill5_description" for="class_skill5_description">Description</label>
                                <textarea class="chimera-input__field" data-i18n-title="class_skill5_description_title" id="class_skill5_description" name="attr_class_skill5_description" title="Description" type="textarea"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete classes--delete">
                          <div class="class">
                            <div class="chimera-value class__name"><span class="chimera-value__value" name="attr_class_name"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value class__level"><span class="chimera-value__value" name="attr_class_level"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view classes--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__equipment">
                <div class="weapons">
                  <h2 class="weapons__heading--edit" data-i18n="weapons">Weapons</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_weapons">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit weapons--edit">
                          <div class="weapon">
                            <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                            <input class="chimera-hidden" name="attr_weapon_is_equipped" type="hidden"/>
                            <label class="chimera-checkbox weapon__is_equipped chimera-checkbox--column-reverse" data-i18n-title="weapon_is_equipped_title" title="Equipped">
                              <div class="chimera-checkbox__field">
                                <input id="weapon_is_equipped" name="attr_weapon_is_equipped" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="weapon_is_equipped" for="weapon_is_equipped">Equipped</span>
                            </label>
                            <div class="chimera-input weapon__name">
                              <label class="chimera-input__label" data-i18n="weapon_name" for="weapon_name">Weapon Name</label>
                              <input class="chimera-input__field" data-i18n-title="weapon_name_title" id="weapon_name" name="attr_weapon_name" title="Weapon Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox weapon__martial chimera-checkbox--column-reverse" data-i18n-title="weapon_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="weapon_is_martial" name="attr_weapon_is_martial" type="checkbox"/><img data-i18n-title="weapon_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="weapon_is_martial" for="weapon_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input weapon__range chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_range" for="weapon_range">Range</label>
                              <div class="chimera-switch">
                                <input name="attr_weapon_range" type="hidden"/>
                                <div class="chimera-switch__group">
                                  <label class="chimera-switch__label">
                                    <input id="weapon_range" name="attr_weapon_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                  </label>
                                  <label class="chimera-switch__label">
                                    <input id="weapon_range" name="attr_weapon_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                  </label>
                                </div>
                              </div>
                            </div>
                            <div class="chimera-input weapon__category chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_category" for="weapon_category">Category</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_category_title" id="weapon_category" name="attr_weapon_category" title="Category">
                                <option data-i18n="arcane" selected="selected" value="arcane">Arcane</option>
                                <option data-i18n="bow" value="bow">Bow</option>
                                <option data-i18n="flail" value="flail">Flail</option>
                                <option data-i18n="firearm" value="firearm">Firearm</option>
                                <option data-i18n="spear" value="spear">Spear</option>
                                <option data-i18n="thrown" value="thrown">Thrown</option>
                                <option data-i18n="heavy" value="heavy">Heavy</option>
                                <option data-i18n="dagger" selected="selected" value="dagger">Dagger</option>
                                <option data-i18n="brawling" value="brawling">Brawling</option>
                                <option data-i18n="sword" value="sword">Sword</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__attr1 chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_attr1" for="weapon_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_attr1_title" id="weapon_attr1" name="attr_weapon_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__attr2 chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_attr2" for="weapon_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_attr2_title" id="weapon_attr2" name="attr_weapon_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_accuracy" for="weapon_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-title="weapon_accuracy_title" id="weapon_accuracy" min="0" name="attr_weapon_accuracy" title="Accuracy" type="number"/>
                            </div>
                            <div class="chimera-input weapon__type chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_type" for="weapon_type">Damage Type</label>
                              <select class="chimera-input__field" data-i18n-title="weapon_type_title" id="weapon_type" name="attr_weapon_type" title="Damage Type">
                                <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                                <option data-i18n="air" value="air">Air</option>
                                <option data-i18n="bolt" value="bolt">Bolt</option>
                                <option data-i18n="dark" value="dark">Dark</option>
                                <option data-i18n="earth" value="earth">Earth</option>
                                <option data-i18n="fire" value="fire">Fire</option>
                                <option data-i18n="ice" value="ice">Ice</option>
                                <option data-i18n="light" value="light">Light</option>
                                <option data-i18n="poison" value="poison">Poison</option>
                              </select>
                            </div>
                            <div class="chimera-input weapon__hands chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_hands" for="weapon_hands">Hands</label>
                              <input class="chimera-input__field" data-i18n-title="weapon_hands_title" id="weapon_hands" max="2" min="1" name="attr_weapon_hands" title="Hands" type="number"/>
                            </div>
                            <div class="chimera-input weapon__damage chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_damage" for="weapon_damage">Damage</label>
                              <input class="chimera-input__field" data-i18n-title="weapon_damage_title" id="weapon_damage" min="0" name="attr_weapon_damage" title="Damage" type="number"/>
                            </div>
                            <div class="chimera-input weapon__cost chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="weapon_cost" for="weapon_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-title="weapon_cost_title" id="weapon_cost" min="0" name="attr_weapon_cost" step="50" title="Cost" type="number"/>
                            </div>
                            <div class="chimera-input weapon__special">
                              <label class="chimera-input__label" data-i18n="weapon_special" for="weapon_special">Special</label>
                              <textarea class="chimera-input__field" data-i18n-title="weapon_special_title" id="weapon_special" name="attr_weapon_special" title="Special" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete weapons--delete">
                          <div class="weapon">
                            <div class="chimera-value weapon__name"><span class="chimera-value__value" name="attr_weapon_name"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view weapons--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="shields">
                  <h2 class="shields__heading--edit" data-i18n="shield">Shield</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_shields_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_shields_repeating">No shields saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_shields">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit shields--edit">
                          <div class="shield">
                            <label class="chimera-checkbox shield__is_equipped chimera-checkbox--column-reverse" data-i18n-title="shield_is_equipped_title" title="Equipped">
                              <div class="chimera-checkbox__field">
                                <input id="shield_is_equipped" name="attr_shield_is_equipped" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="shield_is_equipped" for="shield_is_equipped">Equipped</span>
                            </label>
                            <div class="chimera-input shield__name">
                              <label class="chimera-input__label" data-i18n="shield_name" for="shield_name">Name</label>
                              <input class="chimera-input__field" data-i18n-title="shield_name_title" id="shield_name" name="attr_shield_name" title="Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox shield__martial chimera-checkbox--column-reverse" data-i18n-title="shield_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="shield_is_martial" name="attr_shield_is_martial" type="checkbox"/><img data-i18n-title="shield_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="shield_is_martial" for="shield_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input shield__defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label>
                              <input class="chimera-input__field" data-i18n-title="shield_defense_bonus_title" id="shield_defense_bonus" name="attr_shield_defense_bonus" title="Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input shield__magic_defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label>
                              <input class="chimera-input__field" data-i18n-title="shield_magic_defense_bonus_title" id="shield_magic_defense_bonus" name="attr_shield_magic_defense_bonus" title="Magic Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input shield__initiative chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_initiative" for="shield_initiative">Initiative</label>
                              <input class="chimera-input__field" data-i18n-title="shield_initiative_title" id="shield_initiative" name="attr_shield_initiative" title="Initiative" type="number"/>
                            </div>
                            <div class="chimera-input shield__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="shield_cost" for="shield_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-title="shield_cost_title" id="shield_cost" min="0" name="attr_shield_cost" step="50" title="Cost" type="number" value="0"/>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete shields--delete">
                        </div>
                        <div class="chimera-repeater--view shields--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="armors">
                  <h2 class="armors__heading--edit" data-i18n="armor">Armor</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_armors_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_armors_repeating">No armors saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_armors">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit armors--edit">
                          <div class="armor">
                            <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                            <input class="chimera-hidden" name="attr_armor_is_equipped" type="hidden"/>
                            <label class="chimera-checkbox armor__is_equipped chimera-checkbox--column-reverse" data-i18n-title="armor_is_equipped_title" title="Equipped">
                              <div class="chimera-checkbox__field">
                                <input id="armor_is_equipped" name="attr_armor_is_equipped" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="armor_is_equipped" for="armor_is_equipped">Equipped</span>
                            </label>
                            <div class="chimera-input armor__name">
                              <label class="chimera-input__label" data-i18n="armor_name" for="armor_name">Name</label>
                              <input class="chimera-input__field" data-i18n-title="armor_name_title" id="armor_name" name="attr_armor_name" title="Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox armor__martial chimera-checkbox--column-reverse" data-i18n-title="armor_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="armor_is_martial" name="attr_armor_is_martial" type="checkbox"/><img data-i18n-title="armor_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="armor_is_martial" for="armor_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input armor__defense chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_defense" for="armor_defense">DEF</label>
                              <input class="chimera-input__field" data-i18n-title="armor_defense_title" id="armor_defense" name="attr_armor_defense" title="Defense" type="number"/>
                            </div>
                            <div class="chimera-input armor__defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label>
                              <input class="chimera-input__field" data-i18n-title="armor_defense_bonus_title" id="armor_defense_bonus" name="attr_armor_defense_bonus" title="Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input armor__magic_defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label>
                              <input class="chimera-input__field" data-i18n-title="armor_magic_defense_bonus_title" id="armor_magic_defense_bonus" name="attr_armor_magic_defense_bonus" title="Magic Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input armor__initiative chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_initiative" for="armor_initiative">Initiative</label>
                              <input class="chimera-input__field" data-i18n-title="armor_initiative_title" id="armor_initiative" name="attr_armor_initiative" title="Initiative" type="number"/>
                            </div>
                            <div class="chimera-input armor__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="armor_cost" for="armor_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-title="armor_cost_title" id="armor_cost" min="0" name="attr_armor_cost" step="50" title="Cost" type="number" value="0"/>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete armors--delete">
                        </div>
                        <div class="chimera-repeater--view armors--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="accessories">
                  <h2 class="accessories__heading--edit" data-i18n="accessory">Accessory</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_accessories_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_accessories_repeating">No accessories saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_accessories">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit accessories--edit">
                          <div class="accessory">
                            <label class="chimera-checkbox accessory__is_equipped chimera-checkbox--column-reverse" data-i18n-title="accessory_is_equipped_title" title="Equipped">
                              <div class="chimera-checkbox__field">
                                <input id="accessory_is_equipped" name="attr_accessory_is_equipped" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="accessory_is_equipped" for="accessory_is_equipped">Equipped</span>
                            </label>
                            <div class="chimera-input accessory__name">
                              <label class="chimera-input__label" data-i18n="accessory_name" for="accessory_name">Name</label>
                              <input class="chimera-input__field" data-i18n-title="accessory_name_title" id="accessory_name" name="attr_accessory_name" title="Name" type="text"/>
                            </div>
                            <label class="chimera-checkbox accessory__martial chimera-checkbox--column-reverse" data-i18n-title="accessory_is_martial_title" title="Martial">
                              <div class="chimera-checkbox__field">
                                <input id="accessory_is_martial" name="attr_accessory_is_martial" type="checkbox"/><img data-i18n-title="accessory_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                              </div><span class="chimera-checkbox__label" data-i18n="accessory_is_martial" for="accessory_is_martial">Martial</span>
                            </label>
                            <div class="chimera-input accessory__defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="accessory_defense_bonus" for="accessory_defense_bonus">+DEF</label>
                              <input class="chimera-input__field" data-i18n-title="accessory_defense_bonus_title" id="accessory_defense_bonus" name="attr_accessory_defense_bonus" title="Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input accessory__magic_defense_bonus chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="accessory_magic_defense_bonus" for="accessory_magic_defense_bonus">+M.DEF</label>
                              <input class="chimera-input__field" data-i18n-title="accessory_magic_defense_bonus_title" id="accessory_magic_defense_bonus" name="attr_accessory_magic_defense_bonus" title="Magic Defense Bonus" type="number"/>
                            </div>
                            <div class="chimera-input accessory__initiative chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="accessory_initiative" for="accessory_initiative">Initiative</label>
                              <input class="chimera-input__field" data-i18n-title="accessory_initiative_title" id="accessory_initiative" name="attr_accessory_initiative" title="Initiative" type="number"/>
                            </div>
                            <div class="chimera-input accessory__cost chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="accessory_cost" for="accessory_cost">Cost</label>
                              <input class="chimera-input__field" data-i18n-title="accessory_cost_title" id="accessory_cost" min="0" name="attr_accessory_cost" step="50" title="Cost" type="number" value="0"/>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete accessories--delete">
                        </div>
                        <div class="chimera-repeater--view accessories--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__magic">
                <div class="spells">
                  <h2 class="spells__heading--edit" data-i18n="spells">Spells</h2>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_spells">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit spells--edit">
                          <div class="spell">
                            <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                            <div class="chimera-input spell__name">
                              <label class="chimera-input__label" data-i18n="spell_name" for="spell_name">Spell Name</label>
                              <input class="chimera-input__field" data-i18n-title="spell_name_title" id="spell_name" name="attr_spell_name" title="Spell Name" type="text"/>
                            </div>
                            <div class="chimera-input spell__mp chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="spell_mp" for="spell_mp">MP</label>
                              <input class="chimera-input__field" data-i18n-title="spell_mp_title" id="spell_mp" name="attr_spell_mp" title="MP" type="text"/>
                            </div>
                            <label class="chimera-checkbox spell__offensive chimera-checkbox--column-reverse" data-i18n-title="spell_is_offensive_title" title="Is Offensive">
                              <div class="chimera-checkbox__field">
                                <input id="spell_is_offensive" name="attr_spell_is_offensive" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                              </div><span class="chimera-checkbox__label" data-i18n="spell_is_offensive" for="spell_is_offensive">Is Offensive</span>
                            </label>
                            <div class="chimera-input spell__attr1 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_attr1" for="spell_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="spell_attr1_title" id="spell_attr1" name="attr_spell_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__attr2 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_attr2" for="spell_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="spell_attr2_title" id="spell_attr2" name="attr_spell_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_accuracy" for="spell_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-title="spell_accuracy_title" id="spell_accuracy" min="0" name="attr_spell_accuracy" title="Accuracy" type="number" value="0"/>
                            </div>
                            <div class="chimera-input spell__type chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_type" for="spell_type">Damage Type</label>
                              <select class="chimera-input__field" data-i18n-title="spell_type_title" id="spell_type" name="attr_spell_type" title="Damage Type">
                                <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                                <option data-i18n="air" value="air">Air</option>
                                <option data-i18n="bolt" value="bolt">Bolt</option>
                                <option data-i18n="dark" value="dark">Dark</option>
                                <option data-i18n="earth" value="earth">Earth</option>
                                <option data-i18n="fire" value="fire">Fire</option>
                                <option data-i18n="ice" value="ice">Ice</option>
                                <option data-i18n="light" value="light">Light</option>
                                <option data-i18n="poison" value="poison">Poison</option>
                              </select>
                            </div>
                            <div class="chimera-input spell__damage chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="spell_damage" for="spell_damage">Damage</label>
                              <input class="chimera-input__field" data-i18n-title="spell_damage_title" id="spell_damage" min="0" name="attr_spell_damage" title="Damage" type="number" value="0"/>
                            </div>
                            <div class="chimera-input spell__target">
                              <label class="chimera-input__label" data-i18n="spell_target" for="spell_target">Target</label>
                              <input class="chimera-input__field" data-i18n-title="spell_target_title" id="spell_target" name="attr_spell_target" title="Target" type="text"/>
                            </div>
                            <div class="chimera-input spell__duration">
                              <label class="chimera-input__label" data-i18n="spell_duration" for="spell_duration">Duration</label>
                              <input class="chimera-input__field" data-i18n-title="spell_duration_title" id="spell_duration" name="attr_spell_duration" title="Duration" type="text"/>
                            </div>
                            <div class="chimera-input spell__effect">
                              <label class="chimera-input__label" data-i18n="spell_effect" for="spell_effect">Effect</label>
                              <textarea class="chimera-input__field" data-i18n-title="spell_effect_title" id="spell_effect" name="attr_spell_effect" title="Effect" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete spells--delete">
                          <div class="spell">
                            <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                            <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                            <div class="chimera-value spell__name"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                            <div class="spell__offensive"><span class="fabula-diamond">⬥</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                                <input class="chimera-hidden" name="attr_spell_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view spells--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="rituals">
                  <h2 class="rituals__heading--edit" data-i18n="rituals">Rituals</h2>
                  <div class="rituals-known">
                    <label data-i18n="rituals_known">Rituals Known</label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="arcanism_title" title="Arcanism">
                      <div class="chimera-checkbox__field">
                        <input id="arcanism" name="attr_arcanism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="arcanism" for="arcanism">Arcanism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="chimerism_title" title="Chimerism">
                      <div class="chimera-checkbox__field">
                        <input id="chimerism" name="attr_chimerism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="chimerism" for="chimerism">Chimerism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="elementalism_title" title="Elementalism">
                      <div class="chimera-checkbox__field">
                        <input id="elementalism" name="attr_elementalism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="elementalism" for="elementalism">Elementalism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="entropism_title" title="Entropism">
                      <div class="chimera-checkbox__field">
                        <input id="entropism" name="attr_entropism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="entropism" for="entropism">Entropism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="ritualism_title" title="Ritualism">
                      <div class="chimera-checkbox__field">
                        <input id="ritualism" name="attr_ritualism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="ritualism" for="ritualism">Ritualism</span>
                    </label>
                    <label class="chimera-checkbox ritual-discipline chimera-checkbox--column-reverse" data-i18n-title="spiritism_title" title="Spiritism">
                      <div class="chimera-checkbox__field">
                        <input id="spiritism" name="attr_spiritism" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="spiritism" for="spiritism">Spiritism</span>
                    </label>
                  </div>
                  <div class="chimera-repeater">
                    <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rituals_empty" type="hidden" value="0"/>
                    <div class="chimera-repeater__empty">
                      <h2 class="chimera-repeater__empty-header" data-i18n="none_rituals_repeating">No rituals saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                    </div>
                    <fieldset class="repeating_rituals">
                      <div class="chimera-repeater__content">
                        <div class="chimera-repeater--edit rituals--edit">
                          <div class="ritual" style="display: grid; grid-template-columns: repeat(4, 1fr) auto; gap: 4px">
                            <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden"/>
                            <div class="chimera-input ritual__name">
                              <label class="chimera-input__label" data-i18n="ritual_name" for="ritual_name">Ritual Name</label>
                              <input class="chimera-input__field" data-i18n-title="ritual_name_title" id="ritual_name" name="attr_ritual_name" title="Ritual Name" type="text"/>
                            </div>
                            <div class="chimera-input ritual__potency chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_potency" for="ritual_potency">Potency</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_potency_title" id="ritual_potency" name="attr_ritual_potency" title="Potency">
                                <option data-i18n="minor" selected="selected" value="20">Minor</option>
                                <option data-i18n="medium" value="30">Medium</option>
                                <option data-i18n="major" value="40">Major</option>
                                <option data-i18n="extreme" value="50">Extreme</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__area chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_area" for="ritual_area">Area</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_area_title" id="ritual_area" name="attr_ritual_area" title="Area">
                                <option data-i18n="individual" selected="selected" value="1">Individual</option>
                                <option data-i18n="small" value="2">Small</option>
                                <option data-i18n="large" value="3">Large</option>
                                <option data-i18n="huge" value="4">Huge</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__difficulty chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="ritual_difficulty" for="ritual_difficulty">Difficulty</label>
                              <input class="chimera-input__field" data-i18n-title="ritual_difficulty_title" id="ritual_difficulty" name="attr_ritual_difficulty" title="Difficulty" type="number"/>
                            </div>
                            <div class="chimera-input ritual__attr1 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_attr1" for="ritual_attr1">Attr 1</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_attr1_title" id="ritual_attr1" name="attr_ritual_attr1" title="Attr 1">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__attr2 chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_attr2" for="ritual_attr2">Attr 2</label>
                              <select class="chimera-input__field" data-i18n-title="ritual_attr2_title" id="ritual_attr2" name="attr_ritual_attr2" title="Attr 2">
                                <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                                <option data-i18n="insight" value="insight">INS</option>
                                <option data-i18n="might" value="might">MIG</option>
                                <option data-i18n="willpower" value="willpower">WLP</option>
                              </select>
                            </div>
                            <div class="chimera-input ritual__accuracy chimera-input--small chimera-input--center">
                              <label class="chimera-input__label" data-i18n="ritual_accuracy" for="ritual_accuracy">Accuracy</label>
                              <input class="chimera-input__field" data-i18n-title="ritual_accuracy_title" id="ritual_accuracy" min="0" name="attr_ritual_accuracy" title="Accuracy" type="number" value="0"/>
                            </div>
                            <div class="chimera-input ritual__mp chimera-input--center chimera-input--small">
                              <label class="chimera-input__label" data-i18n="ritual_mp" for="ritual_mp">MP</label>
                              <input class="chimera-input__field" data-i18n-title="ritual_mp_title" id="ritual_mp" name="attr_ritual_mp" title="MP" type="text"/>
                            </div>
                            <div class="chimera-input ritual__effect">
                              <label class="chimera-input__label" data-i18n="ritual_effect" for="ritual_effect">Effect</label>
                              <textarea class="chimera-input__field" data-i18n-title="ritual_effect_title" id="ritual_effect" name="attr_ritual_effect" title="Effect" type="textarea"></textarea>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--delete rituals--delete">
                          <div class="ritual">
                            <input class="chimera-hidden" name="attr_ritual_accuracy_total" type="hidden"/>
                            <div class="chimera-value ritual__name"><span class="chimera-value__value" name="attr_ritual_name"></span>
                            </div>
                            <div class="ritual__offensive"><span class="fabula-diamond">⬥</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_ritual_attr2"></span>
                                <input class="chimera-hidden" name="attr_ritual_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_ritual_accuracy"></span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="chimera-repeater--view rituals--view">
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
          </div>
          <div class="character__journal"><span>journal</span></div>
          <div class="character__settings">
                <div class="settings--edit">
                  <h2 class="spells__heading--edit" data-i18n="spells">Spells</h2>
                  <div class="setting">
                    <label class="chimera-checkbox settings_high_fantasy_atlas" data-i18n-title="high_fantasy_atlas_title" title="Enable High Fantasy Atlas">
                      <div class="chimera-checkbox__field">
                        <input id="high_fantasy_atlas" name="attr_high_fantasy_atlas" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                      </div><span class="chimera-checkbox__label" data-i18n="high_fantasy_atlas" for="high_fantasy_atlas">Enable High Fantasy Atlas</span>
                    </label>
                  </div>
                </div>
          </div>
        </section>
  </main>
  <main class="bestiary">
    <!-- TODO Study Roll-->
        <section class="bestiary--view">
              <div class="bio--view">
                <div class="bio">
                  <input class="chimera-hidden" name="attr_character_avatar" type="hidden" value=""/>
                  <div class="bio__avatar"><img data-i18n-title="avatar" name="attr_character_avatar" title="Despite everything, it's still you."/></div>
                  <div class="bio__name"><span name="attr_character_name"></span>
                  </div>
                  <div class="bio__meta">
                    <label data-i18n="lv">Lv</label>
                    <input class="chimera-hidden" name="attr_rank" type="hidden"/><span name="attr_level"></span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_rank"></span><span class="fabula-diamond">⬥</span><span name="attr_species"></span>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_villain_empty" type="hidden"/>
                  <div class="bio__villain"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_villain"></span><span class="bio__phases">
                      <label data-i18n="phase">Phase</label><span name="attr_phases"></span></span><span name="attr_multipart"></span>
                  </div>
                  <div class="bio__description"><span name="attr_description"></span>
                  </div>
                  <div class="bio__traits">
                    <label class="label--colon" data-i18n="typical_traits">Typical Traits</label><span name="attr_traits"></span>
                  </div>
                </div>
              </div>
              <div class="statistics--view">
                <div class="attributes--view">
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="dexterity" for="dexterity">DEX</label><span class="chimera-value__value" name="attr_dexterity"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="insight" for="insight">INS</label><span class="chimera-value__value" name="attr_insight"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="might" for="might">MIG</label><span class="chimera-value__value" name="attr_might"></span>
                  </div>
                  <div class="chimera-value attribute chimera-value--flex-row chimera-value--small chimera-value--center">
                    <label class="chimera-value__label" data-i18n="willpower" for="willpower">WLP</label><span class="chimera-value__value" name="attr_willpower"></span>
                  </div>
                </div>
                    <div class="points--view">
                      <input class="chimera-hidden" name="attr_villain" type="hidden"/>
                      <label class="chimera-value__label" data-i18n="hp">HP</label>
                      <div class="point__hp">
                        <div class="chimera-value points__hp"><span class="chimera-value__value" name="attr_hp"></span>
                        </div><span class="fabula-diamond">⬥</span>
                        <div class="chimera-value points__hp_crisis"><span class="chimera-value__value" name="attr_hp_crisis"></span>
                        </div>
                      </div>
                      <label class="chimera-value__label" data-i18n="mp">MP</label>
                      <div class="point__mp">
                        <div class="chimera-value points__mp"><span class="chimera-value__value" name="attr_mp"></span>
                        </div>
                      </div>
                      <div class="point__initiative">
                        <label class="chimera-value__label" data-i18n="init">Init.</label>
                        <div class="chimera-value points__initiative"><span class="chimera-value__value" name="attr_initiative"></span>
                        </div>
                      </div>
                    </div>
                    <div class="defenses--view">
                      <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="defense" for="defense">DEF</label><span class="chimera-value__value" name="attr_defense"></span>
                      </div>
                      <div class="chimera-value defense">
                        <label class="chimera-value__label" data-i18n="magic_defense" for="magic_defense">M.DEF</label><span class="chimera-value__value" name="attr_magic_defense"></span>
                      </div>
                    </div>
                    <div class="affinities--view">
                      <label class="affinity__wrapper affinity--physical">
                        <input class="chimera-hidden" name="attr_physical" type="hidden"/><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="physical" for="physical">Physical</label><span class="chimera-value__value" name="attr_physical"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--air">
                        <input class="chimera-hidden" name="attr_air" type="hidden"/><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="air" for="air">Air</label><span class="chimera-value__value" name="attr_air"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--bolt">
                        <input class="chimera-hidden" name="attr_bolt" type="hidden"/><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="bolt" for="bolt">Bolt</label><span class="chimera-value__value" name="attr_bolt"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--dark">
                        <input class="chimera-hidden" name="attr_dark" type="hidden"/><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="dark" for="dark">Dark</label><span class="chimera-value__value" name="attr_dark"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--earth">
                        <input class="chimera-hidden" name="attr_earth" type="hidden"/><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="earth" for="earth">Earth</label><span class="chimera-value__value" name="attr_earth"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--fire">
                        <input class="chimera-hidden" name="attr_fire" type="hidden"/><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="fire" for="fire">Fire</label><span class="chimera-value__value" name="attr_fire"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--ice">
                        <input class="chimera-hidden" name="attr_ice" type="hidden"/><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="ice" for="ice">Ice</label><span class="chimera-value__value" name="attr_ice"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--light">
                        <input class="chimera-hidden" name="attr_light" type="hidden"/><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="light" for="light">Light</label><span class="chimera-value__value" name="attr_light"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                      <label class="affinity__wrapper affinity--poison">
                        <input class="chimera-hidden" name="attr_poison" type="hidden"/><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison"/>
                        <div class="chimera-value affinity">
                          <label class="chimera-value__label" data-i18n="poison" for="poison">Poison</label><span class="chimera-value__value" name="attr_poison"></span>
                        </div><span class="affinity_vu">A Vulnerable target loses twice the normal amount of Hit Points.</span><span class="affinity_rs">A Resistant target loses half the normal amount of Hit Points.</span><span class="affinity_im">An Immune target loses no Hit Points.</span><span class="affinity_ab">An Absorbing target recovers Hit Points equal to the damage suffered.</span>
                      </label>
                    </div>
              </div>
          <div class="status-effects">
            <label class="chimera-checkbox status-effect status-effect--slow chimera-checkbox--column" data-i18n-title="slow_title" title="Slow temporarily reduces your Dexterity die size by one.">
              <div class="chimera-checkbox__field">
                <input id="slow" name="attr_slow" type="checkbox"/><img data-i18n-title="slow_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/slow.png" title="Slow temporarily reduces your Dexterity die size by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="slow" for="slow">Slow</span>
            </label>
            <label class="chimera-checkbox status-effect status-effect--dazed chimera-checkbox--column" data-i18n-title="dazed_title" title="Dazed temporarily reduces your Insight die size by one.">
              <div class="chimera-checkbox__field">
                <input id="dazed" name="attr_dazed" type="checkbox"/><img data-i18n-title="dazed_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/dazed.png" title="Dazed temporarily reduces your Insight die size by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="dazed" for="dazed">Dazed</span>
            </label>
            <label class="chimera-checkbox status-effect status-effect--enraged chimera-checkbox--column" data-i18n-title="enraged_title" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one.">
              <div class="chimera-checkbox__field">
                <input id="enraged" name="attr_enraged" type="checkbox"/><img data-i18n-title="enraged_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/enraged.png" title="Enraged temporarily reduces your Dexterity and Insight die sizes by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="enraged" for="enraged">Enraged</span>
            </label>
            <label class="chimera-checkbox status-effect status-effect--weak chimera-checkbox--column" data-i18n-title="weak_title" title="Weak temporarily reduces your Might die size by one.">
              <div class="chimera-checkbox__field">
                <input id="weak" name="attr_weak" type="checkbox"/><img data-i18n-title="weak_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/weak.png" title="Weak temporarily reduces your Might die size by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="weak" for="weak">Weak</span>
            </label>
            <label class="chimera-checkbox status-effect status-effect--shaken chimera-checkbox--column" data-i18n-title="shaken_title" title="Shaken temporarily reduces your Willpower die size by one.">
              <div class="chimera-checkbox__field">
                <input id="shaken" name="attr_shaken" type="checkbox"/><img data-i18n-title="shaken_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/shaken.png" title="Shaken temporarily reduces your Willpower die size by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="shaken" for="shaken">Shaken</span>
            </label>
            <label class="chimera-checkbox status-effect status-effect--poisoned chimera-checkbox--column" data-i18n-title="poisoned_title" title="Poisoned temporarily reduces your Might and Willpower die sizes by one.">
              <div class="chimera-checkbox__field">
                <input id="poisoned" name="attr_poisoned" type="checkbox"/><img data-i18n-title="poisoned_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/statuseffects/poisoned.png" title="Poisoned temporarily reduces your Might and Willpower die sizes by one."/>
              </div><span class="chimera-checkbox__label" data-i18n="poisoned" for="poisoned">Poisoned</span>
            </label>
          </div>
              <div class="point-controllers--view">
                <input class="chimera-hidden" name="attr_villain" type="hidden" value="0"/>
                <div class="point-controller">
                  <div class="chimera-arithmetic chimera-arithmetic point-controller__hp">
                    <label class="chimera-arithmetic__label" data-i18n="hp-control" for="hp-control">HP</label>
                    <button class="chimera-arithmetic__add" name="act_hp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="hp-control_title" id="hp-control" name="attr_hp-control" title="Health Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__subtract" name="act_hp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                  </div>
                  <div class="chimera-arithmetic chimera-arithmetic point-controller__mp">
                    <label class="chimera-arithmetic__label" data-i18n="mp-control" for="mp-control">MP</label>
                    <button class="chimera-arithmetic__add" name="act_mp-control-add" type="action"><img data-i18n-title="plus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/plus.svg" title="Add"/>
                    </button>
                    <input class="chimera-arithmetic__field" data-i18n-title="mp-control_title" id="mp-control" name="attr_mp-control" title="Mind Points" type="number" value="1"/>
                    <button class="chimera-arithmetic__subtract" name="act_mp-control-subtract" type="action"><img data-i18n-title="minus_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/minus.svg" title="Subtract"/>
                    </button>
                  </div>
                      <div class="study">
                        <label class="study__label" data-i18n="study">Study</label>
                        <button class="chimera-action study__roll" data-i18n-title="study7" name="act_study7" title="Study 7+ The NPCs Rank, Species, maximum HP, and maximum MP." type="action">
                          <label class="chimera-value__label">7+</label>
                          <label class="sr-only" data-i18n="study7_caption">The NPCs Rank, Species, maximum HP, and maximum MP.</label>
                        </button>
                        <button class="chimera-action study__roll" data-i18n-title="study10" name="act_study10" title="Study 10+ All the above, plus Traits, Attributes, Defense, Magic Defense, Affinities." type="action">
                          <label class="chimera-value__label">10+</label>
                          <label class="sr-only" data-i18n="study10_caption">All the above, plus Traits, Attributes, Defense, Magic Defense, Affinities.</label>
                        </button>
                        <button class="chimera-action study__roll" data-i18n-title="study13" name="act_study13" title="Study 13+ All the above, plus basic attacks and spells." type="action">
                          <label class="chimera-value__label">13+</label>
                          <label class="sr-only" data-i18n="study13_caption">All the above, plus basic attacks and spells.</label>
                        </button>
                      </div>
                </div>
                <div class="points__ultima">
                  <div class="chimera-input point__ultima chimera-input--small chimera-input--center chimera-input--column-reverse">
                    <label class="chimera-input__label" data-i18n="ultima_points" for="ultima_points">Ultima Points</label>
                    <input class="chimera-input__field" data-i18n-title="ultima_points_title" id="ultima_points" max="15" min="0" name="attr_ultima_points" title="Ultima Points" type="number"/>
                  </div>
                  <div class="point__spending-ultima">
                    <div class="chimera-value spending-ultima chimera-value--no-label-bold"><span class="chimera-value__value" data-i18n="spending_ultima_points">Spending Ultima Points</span>
                    </div>
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="escape" for="ultima_escape">Escape</label><span class="chimera-value__value" data-i18n="ultima_escape">A Villain may spend 1 Ultima Point to safely leave the scene — the Game Master describes how they do so, perhaps leaving a few henchmen behind to &quot;keep the heroes company&quot;.</span>
                    </div>
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="invoke_trait" for="ultima_invoke_trait">Invoke Trait</label><span class="chimera-value__value" data-i18n="ultima_invoke_trait">After performing a Check, a Villain may spend 1 Ultima Point to invoke one of their Traits and reroll one or both dice (this follows the same rules seen on page 46).</span>
                    </div>
                    <div class="chimera-value spending-ultima chimera-value--bullet chimera-value--helptext chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="recover" for="ultima_recovery">Recovery</label><span class="chimera-value__value" data-i18n="ultima_recovery">A Villain may use an action and spend 1 Ultima Point to recover from all status effects and also recover 50 Mind Points.</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="basic-attacks">
                <h2 class="basic-attacks__heading--view" data-i18n="basic_attacks">Basic Attacks</h2>
                <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_basic-attacks_empty" type="hidden"/>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_basic-attacks_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_basic-attacks_repeating">No basic attacks saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_basic-attacks">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit basic-attacks--edit">
                      </div>
                      <div class="chimera-repeater--delete basic-attacks--delete">
                      </div>
                      <div class="chimera-repeater--view basic-attacks--view">
                        <div class="basic-attack">
                          <input class="chimera-hidden" name="attr_attack_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_damage_total" type="hidden"/>
                          <button class="chimera-action basic-attack__roll" data-i18n-title="basicattack" name="act_basicattack" title="Basic Attack" type="action"><img class="basic-attack__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="basic-attack__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="chimera-value basic-attack__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_attack_name"></span>
                            </div>
                          </button>
                          <div class="basic-attack__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr2"></span>
                              <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_attack_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_attack_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value basic-attack__type chimera-value--center"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_type"></span>
                          </div>
                          <div class="chimera-value basic-attack__special"><span class="chimera-value__value" name="attr_attack_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_weapons_empty" type="hidden"/>
              <div class="weapons">
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <button class="chimera-action weapon__roll" data-i18n-title="weaponattack" name="act_weaponattack" title="Weapon Attack" type="action"><img class="weapon__range--melee" data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><img class="weapon__range--distance" data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/>
                            <div class="weapon__attack"><span class="weapon__attack_name" name="attr_weapon_attack_name"></span><span class="weapon__name" name="attr_weapon_name"></span>
                            </div>
                          </button>
                          <div class="weapon__check">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                              <input class="chimera-hidden" name="attr_weapon_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage_total"></span>
                            </div>
                          </div>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div>
                          <div class="chimera-value weapon__special"><span class="chimera-value__value" name="attr_weapon_special"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_spells_empty" type="hidden"/>
              <div class="spells">
                <h2 class="spells__heading--view" data-i18n="spells">Spells</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                      </div>
                      <div class="chimera-repeater--view spells--view">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <button class="chimera-action spell__roll" data-i18n-title="spell" name="act_spell" title="Spell" type="action"><img class="spell__icon" data-i18n-title="spell_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg" title="Spell"/>
                            <div class="chimera-value spell__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_spell_name"></span>
                            </div>
                          </button>
                          <div class="spell__offensive">
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_spell_damage_total"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__type chimera-value--no-label-bold"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_type"></span>
                            </div><span class="fabula-diamond">⬥</span>
                          </div>
                          <div class="chimera-value spell__mp chimera-value--reverse">
                            <label class="chimera-value__label" data-i18n="spell_mp" for="spell_mp">MP</label><span class="chimera-value__value" name="attr_spell_mp"></span>
                          </div>
                          <div class="spell__target-duration">
                            <div class="chimera-value spell__target chimera-value--center"><span class="chimera-value__value" name="attr_spell_target"></span>
                            </div><span class="fabula-diamond">⬥</span>
                            <div class="chimera-value spell__duration chimera-value--center"><span class="chimera-value__value" name="attr_spell_duration"></span>
                            </div>
                          </div>
                          <div class="chimera-value spell__effect"><span class="chimera-value__value" name="attr_spell_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_other-actions_empty" type="hidden"/>
              <div class="other-actions">
                <h2 class="other-actions__heading--view" data-i18n="other_actions">Other Actions</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_other-actions_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_other-actions_repeating">No other actions saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_other-actions">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit other-actions--edit">
                      </div>
                      <div class="chimera-repeater--delete other-actions--delete">
                      </div>
                      <div class="chimera-repeater--view other-actions--view">
                        <div class="other-action"><img class="other-action__icon" data-i18n-title="cog_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/cog.svg" title="Cog"/>
                          <div class="chimera-value other-action__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_action_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="otheractionchat" name="act_otheractionchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value other-action__effect"><span class="chimera-value__value" name="attr_action_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_special-rules_empty" type="hidden"/>
              <div class="special-rules">
                <h2 class="special-rules__heading--view" data-i18n="special_rules">Special Rules</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_special-rules_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_special-rules_repeating">No special rules saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_special-rules">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit special-rules--edit">
                      </div>
                      <div class="chimera-repeater--delete special-rules--delete">
                      </div>
                      <div class="chimera-repeater--view special-rules--view">
                        <div class="special-rule">
                          <div class="chimera-value special-rule__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_special_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="specialrulechat" name="act_specialrulechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value special-rule__effect"><span class="chimera-value__value" name="attr_special_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_equipments_empty" type="hidden"/>
              <div class="equipments">
                <h2 class="equipments__heading--view" data-i18n="equipment">Equipment</h2>
                <div class="equipment">
                  <div class="equipment__weapons">
                    <div class="chimera-repeater--simple">
                      <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                      <fieldset class="repeating_weapons">
                        <div class="equipment__weapon">
                          <div class="chimera-value weapon__name chimera-value--colon">
                            <label class="chimera-value__label" data-i18n="weapon" for="weapon_name">Weapon</label><span class="chimera-value__value" name="attr_weapon_name"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                            <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n="hr">HR</span><span>+</span><span class="fabula-attr__damage" name="attr_weapon_damage"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="chimera-value weapon__type"><span class="chimera-value__value" data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_type"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="chimera-value weapon__cost"><span class="chimera-value__value" name="attr_weapon_cost"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="weaponchat" name="act_weaponchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                        </div>
                      </fieldset>
                    </div>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_armor_name" type="hidden"/>
                  <div class="equipment__armor">
                    <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden" value="0"/>
                    <div class="chimera-value armor__name chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="armor" for="armor_name">Armor</label><span class="chimera-value__value" name="attr_armor_name"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__defense">
                      <label class="chimera-value__label" data-i18n="armor_defense" for="armor_defense">DEF</label><span class="chimera-value__value" name="attr_armor_defense"></span>
                    </div>
                    <div class="chimera-value armor__defense_bonus">
                      <label class="chimera-value__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_armor_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_armor_magic_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="init" for="armor_initiative">Init.</label><span class="chimera-value__value" name="attr_armor_initiative"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_armor_cost"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="armorchat" name="act_armorchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                  <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_shield_name" type="hidden"/>
                  <div class="equipment__shield">
                    <div class="chimera-value shield__name chimera-value--colon">
                      <label class="chimera-value__label" data-i18n="shield" for="shield_name">Shield</label><span class="chimera-value__value" name="attr_shield_name"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value shield__defense_bonus">
                      <label class="chimera-value__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label><span class="chimera-value__value" name="attr_shield_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label><span class="chimera-value__value" name="attr_shield_magic_defense_bonus"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value">
                      <label class="chimera-value__label" data-i18n="init" for="shield_initiative">Init.</label><span class="chimera-value__value" name="attr_shield_initiative"></span>
                    </div><span class="fabula-diamond">⬥</span>
                    <div class="chimera-value armor__cost"><span class="chimera-value__value" name="attr_shield_cost"></span>
                    </div>
                    <button class="chimera-action send-to-chat" data-i18n-title="shieldchat" name="act_shieldchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                    </button>
                  </div>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_rare-gears_empty" type="hidden"/>
              <div class="rare-gears">
                <h2 class="rare-gears__heading--view" data-i18n="rare_gear">rare gear</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rare-gears_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_rare-gears_repeating">No rare gears saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_rare-gears">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit rare-gears--edit">
                      </div>
                      <div class="chimera-repeater--delete rare-gears--delete">
                      </div>
                      <div class="chimera-repeater--view rare-gears--view">
                        <div class="rare-gear"><img class="rare-gear__icon" data-i18n-title="equipment_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/equipment.svg" title="Equipment"/>
                          <div class="chimera-value rare-gear__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_raregear_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="raregearchat" name="act_raregearchat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value rare-gear__effect"><span class="chimera-value__value" name="attr_raregear_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <input class="chimera-hidden chimera-repeater--empty-hide-next" name="attr_notes_empty" type="hidden"/>
              <div class="notes">
                <h2 class="notes__heading--view" data-i18n="notes">Notes</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_notes">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit notes--edit">
                      </div>
                      <div class="chimera-repeater--delete notes--delete">
                      </div>
                      <div class="chimera-repeater--view notes--view">
                        <div class="note"><img class="note__icon" data-i18n-title="book_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/book.svg" title="Book"/>
                          <div class="chimera-value note__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_note_name"></span>
                          </div>
                          <button class="chimera-action send-to-chat" data-i18n-title="notechat" name="act_notechat" title="Send to Chat" type="action"><img data-i18n-title="chat_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/pixel-chat.png" title="Send to Chat"/><span data-i18n="send_to_chat">Send to Chat</span>
                          </button>
                          <div class="chimera-value note__effect"><span class="chimera-value__value" name="attr_note_effect"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
        </section>
        <section class="bestiary--edit">
              <div class="bio--edit">
                <div class="bio">
                  <input class="chimera-hidden" name="attr_rank" type="hidden"/>
                  <div class="chimera-input bio__name">
                    <label class="chimera-input__label" data-i18n="character_name" for="character_name">Name</label>
                    <input class="chimera-input__field" data-i18n-title="character_name_title" id="character_name" name="attr_character_name" title="Name" type="text"/>
                  </div>
                  <div class="chimera-input bio__traits">
                    <label class="chimera-input__label" data-i18n="traits" for="traits">Traits</label>
                    <input class="chimera-input__field" data-i18n-title="traits_title" id="traits" name="attr_traits" title="Traits" type="text"/>
                  </div>
                  <div class="chimera-input bio__level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="level" for="level">Level</label>
                    <input class="chimera-input__field" data-i18n-title="level_title" id="level" max="60" min="5" name="attr_level" step="5" title="Level" type="number" value="5"/>
                  </div>
                  <div class="chimera-input bio__species">
                    <label class="chimera-input__label" data-i18n="species" for="species">Species</label>
                    <select class="chimera-input__field" data-i18n-title="species_title" id="species" name="attr_species" title="Species">
                      <option data-i18n="beast" selected="selected" value="Beast">Beast</option>
                      <option data-i18n="construct" value="Construct">Construct</option>
                      <option data-i18n="demon" value="Demon">Demon</option>
                      <option data-i18n="elemental" value="Elemental">Elemental</option>
                      <option data-i18n="monster" value="Monster">Monster</option>
                      <option data-i18n="plant" value="Plant">Plant</option>
                      <option data-i18n="undead" value="Undead">Undead</option>
                      <option data-i18n="humanoid" value="Humanoid">Humanoid</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__rank">
                    <label class="chimera-input__label" data-i18n="rank" for="rank">Rank</label>
                    <select class="chimera-input__field" data-i18n-title="rank_title" id="rank" name="attr_rank" title="Rank">
                      <option data-i18n="soldier" selected="selected" value="soldier">Soldier</option>
                      <option data-i18n="elite" value="elite">Elite</option>
                      <option data-i18n="champion" value="champion">Champion</option>
                      <option data-i18n="champion2" value="champion2">Champion (2)</option>
                      <option data-i18n="champion3" value="champion3">Champion (3)</option>
                      <option data-i18n="champion4" value="champion4">Champion (4)</option>
                      <option data-i18n="champion5" value="champion5">Champion (5)</option>
                      <option data-i18n="companion" value="companion">Companion</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__villain">
                    <label class="chimera-input__label" data-i18n="villain" for="villain">Villain</label>
                    <select class="chimera-input__field" data-i18n-title="villain_title" id="villain" name="attr_villain" title="Villain">
                      <option data-i18n="none" selected="selected" value="none">—</option>
                      <option data-i18n="minor" value="minor">Minor</option>
                      <option data-i18n="major" value="major">Major</option>
                      <option data-i18n="supreme" value="supreme">Supreme</option>
                    </select>
                  </div>
                  <div class="chimera-input bio__companion_skill_level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="companion_skill_level" for="companion_skill_level">Skill Level</label>
                    <input class="chimera-input__field" data-i18n-title="companion_skill_level_title" id="companion_skill_level" max="5" min="1" name="attr_companion_skill_level" title="Skill Level" type="number"/>
                  </div>
                  <div class="chimera-input bio__pc_level chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="pc_level" for="pc_level">PC Level</label>
                    <input class="chimera-input__field" data-i18n-title="pc_level_title" id="pc_level" max="50" min="5" name="attr_pc_level" title="PC Level" type="number"/>
                  </div>
                  <div class="chimera-input bio__multipart">
                    <label class="chimera-input__label" data-i18n="multipart" for="multipart">Multi-Part</label>
                    <input class="chimera-input__field" data-i18n-title="multipart_title" id="multipart" name="attr_multipart" title="Multi-Part" type="text"/>
                  </div>
                  <div class="chimera-input bio__phases chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="phases" for="phases">Phases</label>
                    <input class="chimera-input__field" data-i18n-title="phases_title" id="phases" min="0" name="attr_phases" title="Phases" type="number"/>
                  </div>
                  <div class="chimera-input bio__createdby">
                    <label class="chimera-input__label" data-i18n="createdby" for="createdby">Created By</label>
                    <input class="chimera-input__field" data-i18n-title="createdby_title" id="createdby" name="attr_createdby" title="Created By" type="text"/>
                  </div>
                  <div class="chimera-input bio__description">
                    <label class="chimera-input__label" data-i18n="description" for="description">Description</label>
                    <textarea class="chimera-input__field" data-i18n-title="description_title" id="description" name="attr_description" title="Description" type="textarea"></textarea>
                  </div>
                </div>
              </div>
          <!-- TODO NPC Builder-->
          <div class="attributes--edit">
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="dexterity_max" for="dexterity_max">DEX</label>
              <select class="chimera-input__field" data-i18n-title="dexterity_max_title" id="dexterity_max" name="attr_dexterity_max" title="Dexterity">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="insight_max" for="insight_max">INS</label>
              <select class="chimera-input__field" data-i18n-title="insight_max_title" id="insight_max" name="attr_insight_max" title="Insight">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="might_max" for="might_max">MIG</label>
              <select class="chimera-input__field" data-i18n-title="might_max_title" id="might_max" name="attr_might_max" title="Might">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
            <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
              <label class="chimera-input__label" data-i18n="willpower_max" for="willpower_max">WLP</label>
              <select class="chimera-input__field" data-i18n-title="willpower_max_title" id="willpower_max" name="attr_willpower_max" title="Willpower">
                <option data-i18n="d6" selected="selected" value="6">d6</option>
                <option data-i18n="d8" selected="selected" value="8">d8</option>
                <option data-i18n="d10" value="10">d10</option>
                <option data-i18n="d12" value="12">d12</option>
              </select>
            </div>
          </div>
          <div class="attributes__distribution chimera-shadow">
            <div class="chimera-value distribution chimera-value--helptext"><span class="chimera-value__value" data-i18n="attribute_distribution">Distribute one of the following arrays among the NPC's Attributes.</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="jack_of_all_trades">Jack of All Trades</label><span class="chimera-value__value">d8, d8, d8, d8</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="standard">Standard</label><span class="chimera-value__value">d10, d8, d8, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="specialized">Specialized</label><span class="chimera-value__value">d10, d10, d6, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--bullet chimera-value--helptext">
              <label class="chimera-value__label" data-i18n="super_specialized">Super Specialized</label><span class="chimera-value__value">d12, d8, d6, d6</span>
            </div>
            <div class="chimera-value distribution chimera-value--helptext"><span class="chimera-value__value" data-i18n="attribute_higher_levels">Upon reaching levels 20, 40, and 60, the NPC chooses one of its Attributes and increases it by one die size (to a maximum of d12).</span>
            </div>
          </div>
          <div class="affinities--edit">
            <div class="chimera-input affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/>
              <label class="chimera-input__label" data-i18n="physical" for="physical">Physical</label>
              <select class="chimera-input__field" data-i18n-title="physical_title" id="physical" name="attr_physical" title="Physical Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/>
              <label class="chimera-input__label" data-i18n="air" for="air">Air</label>
              <select class="chimera-input__field" data-i18n-title="air_title" id="air" name="attr_air" title="Air Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/>
              <label class="chimera-input__label" data-i18n="bolt" for="bolt">Bolt</label>
              <select class="chimera-input__field" data-i18n-title="bolt_title" id="bolt" name="attr_bolt" title="Bolt Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/>
              <label class="chimera-input__label" data-i18n="dark" for="dark">Dark</label>
              <select class="chimera-input__field" data-i18n-title="dark_title" id="dark" name="attr_dark" title="Dark Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/>
              <label class="chimera-input__label" data-i18n="earth" for="earth">Earth</label>
              <select class="chimera-input__field" data-i18n-title="earth_title" id="earth" name="attr_earth" title="Earth Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/>
              <label class="chimera-input__label" data-i18n="fire" for="fire">Fire</label>
              <select class="chimera-input__field" data-i18n-title="fire_title" id="fire" name="attr_fire" title="Fire Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/>
              <label class="chimera-input__label" data-i18n="ice" for="ice">Ice</label>
              <select class="chimera-input__field" data-i18n-title="ice_title" id="ice" name="attr_ice" title="Ice Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/>
              <label class="chimera-input__label" data-i18n="light" for="light">Light</label>
              <select class="chimera-input__field" data-i18n-title="light_title" id="light" name="attr_light" title="Light Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
            <div class="chimera-input affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/>
              <label class="chimera-input__label" data-i18n="poison" for="poison">Poison</label>
              <select class="chimera-input__field" data-i18n-title="poison_title" id="poison" name="attr_poison" title="Poison Affinity">
                <option data-i18n="none" selected="selected" value="">—</option>
                <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                <option data-i18n="resistant" value="rs">Resistant</option>
                <option data-i18n="immune" value="im">Immune</option>
                <option data-i18n="absorbs" value="ab">Absorbs</option>
              </select>
            </div>
          </div>
          <div class="affinities__skillcost chimera-shadow">
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_general_vulnerability">Gain 1 skill per vulnerability</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_physical_vulnerability">Gain 2 skills per physical vulnerability</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_resistance">Use 0.5 skill per Resistance</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_immunity">Use 1 skill per Immunity</span>
            </div>
            <div class="chimera-value skillcost chimera-value--helptext"><span class="chimera-value__value" data-i18n="affinity_skill_gain_absorption">Use 2 skill per Absorption</span>
            </div>
          </div>
              <div class="defenses--edit">
                <div class="chimera-input defense defense__quick chimera-input--center">
                  <label class="chimera-input__label" data-i18n="defense_quick" for="defense_quick">Defenses</label>
                  <select class="chimera-input__field" data-i18n-title="defense_quick_title" id="defense_quick" name="attr_defense_quick" title="Defense Quick Select">
                    <option data-i18n="extra_defense_null" selected="selected" value="">—</option>
                    <option data-i18n="extra_defense_00" selected="selected" value="0/0">+0 Def / +0 M. Def</option>
                    <option data-i18n="extra_defense_12" value="1/2">+1 Def / +2 M. Def</option>
                    <option data-i18n="extra_defense_21" value="2/1">+2 Def / +1 M. Def</option>
                    <option data-i18n="extra_defense_33" value="3/3">+3 Def / +3 M. Def</option>
                    <option data-i18n="extra_defense_24" value="2/4">+2 Def / +4 M. Def</option>
                    <option data-i18n="extra_defense_42" value="4/2">+4 Def / +2 M. Def</option>
                  </select>
                </div>
                <div class="chimera-input defense defense__def chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="defense_extra" for="defense_extra">+DEF</label>
                  <input class="chimera-input__field" data-i18n-title="defense_extra_title" id="defense_extra" name="attr_defense_extra" title="+DEF" type="number"/>
                </div>
                <div class="chimera-input defense defense__mdef chimera-input--flex-row chimera-input--small chimera-input--center">
                  <label class="chimera-input__label" data-i18n="magic_defense_extra" for="magic_defense_extra">+M.DEF</label>
                  <input class="chimera-input__field" data-i18n-title="magic_defense_extra_title" id="magic_defense_extra" name="attr_magic_defense_extra" title="+M.DEF" type="number"/>
                </div>
              </div>
          <div class="extras">
            <div class="chimera-input extra extra__hp_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="hp_extra" for="hp_extra">Extra HP</label>
              <input class="chimera-input__field" data-i18n-title="hp_extra_title" id="hp_extra" name="attr_hp_extra" step="10" title="Extra HP" type="number"/>
            </div>
            <div class="chimera-input extra extra__mp_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="mp_extra" for="mp_extra">Extra MP</label>
              <input class="chimera-input__field" data-i18n-title="mp_extra_title" id="mp_extra" name="attr_mp_extra" step="10" title="Extra MP" type="number"/>
            </div>
            <div class="chimera-input extra extra__initiative_extra chimera-input--flex-row chimera-input--small">
              <label class="chimera-input__label" data-i18n="initiative_extra" for="initiative_extra">Extra Initiative</label>
              <input class="chimera-input__field" data-i18n-title="initiative_extra_title" id="initiative_extra" name="attr_initiative_extra" title="Extra Initiative" type="number"/>
            </div>
          </div>
          <div class="extras extra--checkboxes">
            <label class="chimera-checkbox extra extra__initiative_bonus" data-i18n-title="initiative_bonus_title" title="+4 Initiative">
              <div class="chimera-checkbox__field">
                <input id="initiative_bonus" name="attr_initiative_bonus" type="checkbox" value="4"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="initiative_bonus" for="initiative_bonus">+4 Initiative</span>
            </label>
            <label class="chimera-checkbox extra extra__accuracy_bonus" data-i18n-title="accuracy_bonus_title" title="+3 bonus to all Accuracy checks">
              <div class="chimera-checkbox__field">
                <input id="accuracy_bonus" name="attr_accuracy_bonus" type="checkbox" value="3"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="accuracy_bonus" for="accuracy_bonus">+3 bonus to all Accuracy checks</span>
            </label>
            <label class="chimera-checkbox extra extra__magic_bonus" data-i18n-title="magic_bonus_title" title="+3 bonus to all Magic checks">
              <div class="chimera-checkbox__field">
                <input id="magic_bonus" name="attr_magic_bonus" type="checkbox" value="3"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
              </div><span class="chimera-checkbox__label" data-i18n="magic_bonus" for="magic_bonus">+3 bonus to all Magic checks</span>
            </label>
          </div>
              <div class="armor--edit">
                <h2 class="armor__heading--edit" data-i18n="armor">Armor</h2>
                <div class="armor">
                  <input class="chimera-hidden" name="attr_armor_is_martial" type="hidden"/>
                  <div class="chimera-input armor__name">
                    <label class="chimera-input__label" data-i18n="armor_name" for="armor_name">Name</label>
                    <input class="chimera-input__field" data-i18n-title="armor_name_title" id="armor_name" name="attr_armor_name" title="Name" type="text"/>
                  </div>
                  <label class="chimera-checkbox armor__martial chimera-checkbox--column-reverse" data-i18n-title="armor_is_martial_title" title="Martial">
                    <div class="chimera-checkbox__field">
                      <input id="armor_is_martial" name="attr_armor_is_martial" type="checkbox"/><img data-i18n-title="armor_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                    </div><span class="chimera-checkbox__label" data-i18n="armor_is_martial" for="armor_is_martial">Martial</span>
                  </label>
                  <div class="chimera-input armor__defense chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_defense" for="armor_defense">DEF</label>
                    <input class="chimera-input__field" data-i18n-title="armor_defense_title" id="armor_defense" name="attr_armor_defense" title="Defense" type="number"/>
                  </div>
                  <div class="chimera-input armor__defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">+DEF</label>
                    <input class="chimera-input__field" data-i18n-title="armor_defense_bonus_title" id="armor_defense_bonus" name="attr_armor_defense_bonus" title="Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input armor__magic_defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">+M.DEF</label>
                    <input class="chimera-input__field" data-i18n-title="armor_magic_defense_bonus_title" id="armor_magic_defense_bonus" name="attr_armor_magic_defense_bonus" title="Magic Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input armor__initiative chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_initiative" for="armor_initiative">Initiative</label>
                    <input class="chimera-input__field" data-i18n-title="armor_initiative_title" id="armor_initiative" name="attr_armor_initiative" title="Initiative" type="number"/>
                  </div>
                  <div class="chimera-input armor__cost chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="armor_cost" for="armor_cost">Cost</label>
                    <input class="chimera-input__field" data-i18n-title="armor_cost_title" id="armor_cost" min="0" name="attr_armor_cost" step="50" title="Cost" type="number" value="0"/>
                  </div>
                </div>
              </div>
              <div class="shield--edit">
                <h2 class="shield__heading--edit" data-i18n="shield">Shield</h2>
                <div class="shield">
                  <div class="chimera-input shield__name">
                    <label class="chimera-input__label" data-i18n="shield_name" for="shield_name">Name</label>
                    <input class="chimera-input__field" data-i18n-title="shield_name_title" id="shield_name" name="attr_shield_name" title="Name" type="text"/>
                  </div>
                  <label class="chimera-checkbox shield__martial chimera-checkbox--column-reverse" data-i18n-title="shield_is_martial_title" title="Martial">
                    <div class="chimera-checkbox__field">
                      <input id="shield_is_martial" name="attr_shield_is_martial" type="checkbox"/><img data-i18n-title="shield_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                    </div><span class="chimera-checkbox__label" data-i18n="shield_is_martial" for="shield_is_martial">Martial</span>
                  </label>
                  <div class="chimera-input shield__defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">+DEF</label>
                    <input class="chimera-input__field" data-i18n-title="shield_defense_bonus_title" id="shield_defense_bonus" name="attr_shield_defense_bonus" title="Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input shield__magic_defense_bonus chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">+M.DEF</label>
                    <input class="chimera-input__field" data-i18n-title="shield_magic_defense_bonus_title" id="shield_magic_defense_bonus" name="attr_shield_magic_defense_bonus" title="Magic Defense Bonus" type="number"/>
                  </div>
                  <div class="chimera-input shield__initiative chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_initiative" for="shield_initiative">Initiative</label>
                    <input class="chimera-input__field" data-i18n-title="shield_initiative_title" id="shield_initiative" name="attr_shield_initiative" title="Initiative" type="number"/>
                  </div>
                  <div class="chimera-input shield__cost chimera-input--center chimera-input--small">
                    <label class="chimera-input__label" data-i18n="shield_cost" for="shield_cost">Cost</label>
                    <input class="chimera-input__field" data-i18n-title="shield_cost_title" id="shield_cost" min="0" name="attr_shield_cost" step="50" title="Cost" type="number" value="0"/>
                  </div>
                </div>
              </div>
              <div class="basic-attacks">
                <h2 class="basic-attacks__heading--edit" data-i18n="basic_attacks">Basic Attacks</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_basic-attacks_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_basic-attacks_repeating">No basic attacks saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_basic-attacks">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit basic-attacks--edit">
                        <div class="basic-attack">
                          <input class="chimera-hidden" name="attr_attack_range" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_attack_damage_total" type="hidden"/>
                          <div class="chimera-input basic-attack__name">
                            <label class="chimera-input__label" data-i18n="attack_name" for="attack_name">Attack Name</label>
                            <input class="chimera-input__field" data-i18n-title="attack_name_title" id="attack_name" name="attr_attack_name" title="Attack Name" type="text"/>
                          </div>
                          <div class="chimera-input basic-attack__range chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_range" for="attack_range">Range</label>
                            <div class="chimera-switch">
                              <input name="attr_attack_range" type="hidden"/>
                              <div class="chimera-switch__group">
                                <label class="chimera-switch__label">
                                  <input id="attack_range" name="attr_attack_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                </label>
                                <label class="chimera-switch__label">
                                  <input id="attack_range" name="attr_attack_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-input basic-attack__attr1 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_attr1" for="attack_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="attack_attr1_title" id="attack_attr1" name="attr_attack_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input basic-attack__attr2 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_attr2" for="attack_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="attack_attr2_title" id="attack_attr2" name="attr_attack_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input basic-attack__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="attack_type" for="attack_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="attack_type_title" id="attack_type" name="attr_attack_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <label class="chimera-checkbox basic-attack__extra_damage chimera-checkbox--column-reverse" data-i18n-title="attack_extra_damage_title" title="Extra Damage">
                            <div class="chimera-checkbox__field">
                              <input id="attack_extra_damage" name="attr_attack_extra_damage" type="checkbox" value="5"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="attack_extra_damage" for="attack_extra_damage">Extra Damage</span>
                          </label>
                          <div class="chimera-input basic-attack__special">
                            <label class="chimera-input__label" data-i18n="attack_special" for="attack_special">Special</label>
                            <textarea class="chimera-input__field" data-i18n-title="attack_special_title" id="attack_special" name="attr_attack_special" title="Special" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete basic-attacks--delete">
                        <div class="basic-attack">
                          <div class="chimera-value basic-attack__name chimera-value--no-label-bold"><span class="chimera-value__value" name="attr_attack_name"></span>
                          </div><span>✦</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_attr2"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view basic-attacks--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="weapons">
                <h2 class="weapons__heading--edit" data-i18n="weapons">Weapons</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_weapons">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit weapons--edit">
                        <div class="weapon">
                          <input class="chimera-hidden" name="attr_weapon_range" type="hidden"/>
                          <div class="chimera-input weapon__name">
                            <label class="chimera-input__label" data-i18n="weapon_name" for="weapon_name">Weapon Name</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_name_title" id="weapon_name" name="attr_weapon_name" title="Weapon Name" type="text"/>
                          </div>
                          <label class="chimera-checkbox weapon__martial chimera-checkbox--column-reverse" data-i18n-title="weapon_is_martial_title" title="Martial">
                            <div class="chimera-checkbox__field">
                              <input id="weapon_is_martial" name="attr_weapon_is_martial" type="checkbox"/><img data-i18n-title="weapon_is_martial_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Martial"/>
                            </div><span class="chimera-checkbox__label" data-i18n="weapon_is_martial" for="weapon_is_martial">Martial</span>
                          </label>
                          <div class="chimera-input weapon__range chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_range" for="weapon_range">Range</label>
                            <div class="chimera-switch">
                              <input name="attr_weapon_range" type="hidden"/>
                              <div class="chimera-switch__group">
                                <label class="chimera-switch__label">
                                  <input id="weapon_range" name="attr_weapon_range" type="radio" value="melee"/><img data-i18n-title="melee_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" title="Melee"/><span data-i18n="melee">Melee</span>
                                </label>
                                <label class="chimera-switch__label">
                                  <input id="weapon_range" name="attr_weapon_range" type="radio" value="distance"/><img data-i18n-title="distance_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" title="Distance"/><span data-i18n="distance">Distance</span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-input weapon__category chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_category" for="weapon_category">Category</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_category_title" id="weapon_category" name="attr_weapon_category" title="Category">
                              <option data-i18n="arcane" selected="selected" value="arcane">Arcane</option>
                              <option data-i18n="bow" value="bow">Bow</option>
                              <option data-i18n="flail" value="flail">Flail</option>
                              <option data-i18n="firearm" value="firearm">Firearm</option>
                              <option data-i18n="spear" value="spear">Spear</option>
                              <option data-i18n="thrown" value="thrown">Thrown</option>
                              <option data-i18n="heavy" value="heavy">Heavy</option>
                              <option data-i18n="dagger" selected="selected" value="dagger">Dagger</option>
                              <option data-i18n="brawling" value="brawling">Brawling</option>
                              <option data-i18n="sword" value="sword">Sword</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__attr1 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attr1" for="weapon_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_attr1_title" id="weapon_attr1" name="attr_weapon_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__attr2 chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attr2" for="weapon_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_attr2_title" id="weapon_attr2" name="attr_weapon_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_accuracy" for="weapon_accuracy">Accuracy</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_accuracy_title" id="weapon_accuracy" min="0" name="attr_weapon_accuracy" title="Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input weapon__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_type" for="weapon_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="weapon_type_title" id="weapon_type" name="attr_weapon_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <div class="chimera-input weapon__hands chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_hands" for="weapon_hands">Hands</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_hands_title" id="weapon_hands" max="2" min="1" name="attr_weapon_hands" title="Hands" type="number"/>
                          </div>
                          <div class="chimera-input weapon__damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_damage" for="weapon_damage">Damage</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_damage_title" id="weapon_damage" min="0" name="attr_weapon_damage" title="Damage" type="number"/>
                          </div>
                          <div class="chimera-input weapon__cost chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_cost" for="weapon_cost">Cost</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_cost_title" id="weapon_cost" min="0" name="attr_weapon_cost" step="50" title="Cost" type="number"/>
                          </div>
                          <div class="chimera-input weapon__attack_name">
                            <label class="chimera-input__label" data-i18n="weapon_attack_name" for="weapon_attack_name">Attack Name</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_attack_name_title" id="weapon_attack_name" name="attr_weapon_attack_name" title="Attack Name" type="text"/>
                          </div>
                          <div class="chimera-input weapon__attack_accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attack_accuracy" for="weapon_attack_accuracy">Attack Accuracy</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_attack_accuracy_title" id="weapon_attack_accuracy" min="0" name="attr_weapon_attack_accuracy" title="Attack Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input weapon__attack_damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="weapon_attack_damage" for="weapon_attack_damage">Attack Damage</label>
                            <input class="chimera-input__field" data-i18n-title="weapon_attack_damage_title" id="weapon_attack_damage" min="0" name="attr_weapon_attack_damage" title="Attack Damage" type="number"/>
                          </div>
                          <label class="chimera-checkbox weapon__extra_damage chimera-checkbox--column-reverse" data-i18n-title="weapon_extra_damage_title" title="Extra Damage">
                            <div class="chimera-checkbox__field">
                              <input id="weapon_extra_damage" name="attr_weapon_extra_damage" type="checkbox" value="5"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="weapon_extra_damage" for="weapon_extra_damage">Extra Damage</span>
                          </label>
                          <div class="chimera-input weapon__special">
                            <label class="chimera-input__label" data-i18n="weapon_special" for="weapon_special">Special</label>
                            <textarea class="chimera-input__field" data-i18n-title="weapon_special_title" id="weapon_special" name="attr_weapon_special" title="Special" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete weapons--delete">
                        <div class="weapon">
                          <div class="chimera-value weapon__name"><span class="chimera-value__value" name="attr_weapon_name"></span>
                          </div><span class="fabula-diamond">⬥</span>
                          <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_attr2"></span>
                            <input class="chimera-hidden" name="attr_weapon_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_weapon_accuracy"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view weapons--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="spells">
                <h2 class="spells__heading--edit" data-i18n="spells">Spells</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_spells">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit spells--edit">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <div class="chimera-input spell__name">
                            <label class="chimera-input__label" data-i18n="spell_name" for="spell_name">Spell Name</label>
                            <input class="chimera-input__field" data-i18n-title="spell_name_title" id="spell_name" name="attr_spell_name" title="Spell Name" type="text"/>
                          </div>
                          <div class="chimera-input spell__mp chimera-input--center chimera-input--small">
                            <label class="chimera-input__label" data-i18n="spell_mp" for="spell_mp">MP</label>
                            <input class="chimera-input__field" data-i18n-title="spell_mp_title" id="spell_mp" name="attr_spell_mp" title="MP" type="text"/>
                          </div>
                          <label class="chimera-checkbox spell__offensive chimera-checkbox--column-reverse" data-i18n-title="spell_is_offensive_title" title="Is Offensive">
                            <div class="chimera-checkbox__field">
                              <input id="spell_is_offensive" name="attr_spell_is_offensive" type="checkbox"/><img data-i18n-title="checkbox_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" title="Checkbox"/>
                            </div><span class="chimera-checkbox__label" data-i18n="spell_is_offensive" for="spell_is_offensive">Is Offensive</span>
                          </label>
                          <div class="chimera-input spell__attr1 chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_attr1" for="spell_attr1">Attr 1</label>
                            <select class="chimera-input__field" data-i18n-title="spell_attr1_title" id="spell_attr1" name="attr_spell_attr1" title="Attr 1">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__attr2 chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_attr2" for="spell_attr2">Attr 2</label>
                            <select class="chimera-input__field" data-i18n-title="spell_attr2_title" id="spell_attr2" name="attr_spell_attr2" title="Attr 2">
                              <option data-i18n="dexterity" selected="selected" value="dexterity">DEX</option>
                              <option data-i18n="insight" value="insight">INS</option>
                              <option data-i18n="might" value="might">MIG</option>
                              <option data-i18n="willpower" value="willpower">WLP</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__accuracy chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_accuracy" for="spell_accuracy">Accuracy</label>
                            <input class="chimera-input__field" data-i18n-title="spell_accuracy_title" id="spell_accuracy" min="0" name="attr_spell_accuracy" title="Accuracy" type="number"/>
                          </div>
                          <div class="chimera-input spell__type chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_type" for="spell_type">Damage Type</label>
                            <select class="chimera-input__field" data-i18n-title="spell_type_title" id="spell_type" name="attr_spell_type" title="Damage Type">
                              <option data-i18n="physical" selected="selected" value="physical">Physical</option>
                              <option data-i18n="air" value="air">Air</option>
                              <option data-i18n="bolt" value="bolt">Bolt</option>
                              <option data-i18n="dark" value="dark">Dark</option>
                              <option data-i18n="earth" value="earth">Earth</option>
                              <option data-i18n="fire" value="fire">Fire</option>
                              <option data-i18n="ice" value="ice">Ice</option>
                              <option data-i18n="light" value="light">Light</option>
                              <option data-i18n="poison" value="poison">Poison</option>
                            </select>
                          </div>
                          <div class="chimera-input spell__damage chimera-input--small chimera-input--center">
                            <label class="chimera-input__label" data-i18n="spell_damage" for="spell_damage">Damage</label>
                            <input class="chimera-input__field" data-i18n-title="spell_damage_title" id="spell_damage" min="0" name="attr_spell_damage" title="Damage" type="number"/>
                          </div>
                          <div class="chimera-input spell__target">
                            <label class="chimera-input__label" data-i18n="spell_target" for="spell_target">Target</label>
                            <input class="chimera-input__field" data-i18n-title="spell_target_title" id="spell_target" name="attr_spell_target" title="Target" type="text"/>
                          </div>
                          <div class="chimera-input spell__duration">
                            <label class="chimera-input__label" data-i18n="spell_duration" for="spell_duration">Duration</label>
                            <input class="chimera-input__field" data-i18n-title="spell_duration_title" id="spell_duration" name="attr_spell_duration" title="Duration" type="text"/>
                          </div>
                          <div class="chimera-input spell__effect">
                            <label class="chimera-input__label" data-i18n="spell_effect" for="spell_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="spell_effect_title" id="spell_effect" name="attr_spell_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete spells--delete">
                        <div class="spell">
                          <input class="chimera-hidden" name="attr_spell_is_offensive" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_accuracy_total" type="hidden"/>
                          <input class="chimera-hidden" name="attr_spell_damage_total" type="hidden"/>
                          <div class="chimera-value spell__name"><span class="chimera-value__value" name="attr_spell_name"></span>
                          </div>
                          <div class="spell__offensive"><span class="fabula-diamond">⬥</span>
                            <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_attr2"></span>
                              <input class="chimera-hidden" name="attr_spell_accuracy" type="hidden" value="0"/><span class="fabula-attr__accuracy">+</span><span class="fabula-attr__accuracy" name="attr_spell_accuracy"></span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view spells--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="other-actions">
                <h2 class="other-actions__heading--edit" data-i18n="other_actions">Other Actions</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_other-actions_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_other-actions_repeating">No other actions saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_other-actions">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit other-actions--edit">
                        <div class="other-action">
                          <div class="chimera-input other-action__name">
                            <label class="chimera-input__label" data-i18n="action_name" for="action_name">Action</label>
                            <input class="chimera-input__field" data-i18n-title="action_name_title" id="action_name" name="attr_action_name" title="Action" type="text"/>
                          </div>
                          <div class="chimera-input other-action__effect">
                            <label class="chimera-input__label" data-i18n="action_effect" for="action_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="action_effect_title" id="action_effect" name="attr_action_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete other-actions--delete">
                        <div class="other-action">
                          <div class="chimera-value other-action__name"><span class="chimera-value__value" name="attr_action_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view other-actions--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="special-rules">
                <h2 class="special-rules__heading--edit" data-i18n="special_rules">Special Rules</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_special-rules_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_special-rules_repeating">No special rules saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_special-rules">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit special-rules--edit">
                        <div class="special-rule">
                          <div class="chimera-input special-rule__name">
                            <label class="chimera-input__label" data-i18n="special_name" for="special_name">Special</label>
                            <input class="chimera-input__field" data-i18n-title="special_name_title" id="special_name" name="attr_special_name" title="Special" type="text"/>
                          </div>
                          <div class="chimera-input special-rule__effect">
                            <label class="chimera-input__label" data-i18n="special_effect" for="special_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="special_effect_title" id="special_effect" name="attr_special_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete special-rules--delete">
                        <div class="special-rule">
                          <div class="chimera-value special-rule__name"><span class="chimera-value__value" name="attr_special_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view special-rules--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="rare-gears">
                <h2 class="rare-gears__heading--edit" data-i18n="rare_gear">rare gear</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_rare-gears_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_rare-gears_repeating">No rare gears saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_rare-gears">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit rare-gears--edit">
                        <div class="rare-gear">
                          <div class="chimera-input rare-gear__name">
                            <label class="chimera-input__label" data-i18n="raregear_name" for="raregear_name">Equipment</label>
                            <input class="chimera-input__field" data-i18n-title="raregear_name_title" id="raregear_name" name="attr_raregear_name" title="Equipment" type="text"/>
                          </div>
                          <div class="chimera-input rare-gear__effect">
                            <label class="chimera-input__label" data-i18n="raregear_effect" for="raregear_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="raregear_effect_title" id="raregear_effect" name="attr_raregear_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete rare-gears--delete">
                        <div class="rare-gear">
                          <div class="chimera-value rare-gear__name"><span class="chimera-value__value" name="attr_raregear_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view rare-gears--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="notes">
                <h2 class="notes__heading--edit" data-i18n="notes">Notes</h2>
                <div class="chimera-repeater">
                  <input class="chimera-hidden chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                  <div class="chimera-repeater__empty">
                    <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                  </div>
                  <fieldset class="repeating_notes">
                    <div class="chimera-repeater__content">
                      <div class="chimera-repeater--edit notes--edit">
                        <div class="note">
                          <div class="chimera-input note__name">
                            <label class="chimera-input__label" data-i18n="note_name" for="note_name">Note</label>
                            <input class="chimera-input__field" data-i18n-title="note_name_title" id="note_name" name="attr_note_name" title="Note" type="text"/>
                          </div>
                          <div class="chimera-input note__effect">
                            <label class="chimera-input__label" data-i18n="note_effect" for="note_effect">Effect</label>
                            <textarea class="chimera-input__field" data-i18n-title="note_effect_title" id="note_effect" name="attr_note_effect" title="Effect" type="textarea"></textarea>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--delete notes--delete">
                        <div class="note">
                          <div class="chimera-value note__name"><span class="chimera-value__value" name="attr_note_name"></span>
                          </div>
                        </div>
                      </div>
                      <div class="chimera-repeater--view notes--view">
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
        </section>
  </main>
  <main class="gm"><span>[GM]</span></main>
  <footer></footer>
</div>
<rolltemplate class="sheet-rolltemplate-fabula-attack">
  <div class="sheet-roll sheet-{{sheet_type}}">
    <div class="sheet-roll-header">{{#avatar}}
      <div class="sheet-avatar">[avatar]({{ avatar }})</div>{{/avatar}}
      <div class="sheet-character-name"><span>{{ character }}</span></div>
      <div class="sheet-roll-type"><span>{{ action }}</span></div>
    </div>{{#^rollTotal() computed::critical 0}}{{#rollGreater() computed::critical 0}}
    <div class="sheet-critical-success"><span class="sheet-fabula-important" data-i18n="is_critical">Critical Success!</span></div>{{/rollGreater() computed::critical 0}}{{#rollLess() computed::critical 0}}
    <div class="sheet-critical-fumble"><span class="sheet-fabula-important" data-i18n="is_fumble">Critical Fumble!</span></div>{{/rollLess() computed::critical 0}}{{/^rollTotal() computed::critical 0}}
    <div class="sheet-header">{{#melee}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg"/>{{/melee}}{{#distance}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg"/>{{/distance}}{{#spell}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg"/>{{/spell}}<span class="sheet-fabula-label">{{ name }}</span>
    </div>{{^noaction}}
    <div class="sheet-action">
      <div><span class="sheet-fabula-label">{{ check }}</span><span class="sheet-fabula-span">{{ roll }}</span></div>
      <div><span class="span sheet-fabula-label">{{ hr }}</span><span class="sheet-fabula-span">{{ computed::damage }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ type }}</span></div>
      <!-- TODO Vunerable and Resistance calculations-->
      <!-- preferrably shown by hover or something?-->
    </div>{{/noaction}}
    <div class="sheet-details">{{#mp}}
      <div><span class="sheet-fabula-span">{{ mp }}</span><span class="sheet-fabula-label" data-i18n="mp">MP</span></div>{{/mp}}{{#target}}
      <div><span class="sheet-fabula-label" data-i18n="target">Target</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ target }}</span></div>{{/target}}{{#duration}}
      <div><span class="sheet-fabula-label" data-i18n="duration">Duration</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ duration }}</span></div>{{/duration}}{{#special}}<span class="sheet-fabula-span">{{ special }}</span>{{/special}}
    </div>
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-fabula-chat">
  <div class="sheet-roll sheet-{{sheet_type}}">
    <div class="sheet-roll-header">{{#avatar}}
      <div class="sheet-avatar">[avatar]({{ avatar }})</div>{{/avatar}}
      <div class="sheet-character-name"><span>{{ character }}</span></div>
      <div class="sheet-roll-type"><span>{{ action }}</span></div>
    </div>{{#name}}
    <div class="sheet-header">{{#melee}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg"/>{{/melee}}{{#distance}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg"/>{{/distance}}{{#spell}}<img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/spell.svg"/>{{/spell}}<span class="sheet-fabula-label">{{ name }}</span>{{#level}}<span class="sheet-fabula-span">{{ level }}</span>{{/level}}{{#martial}}<span class="sheet-fabula-diamond">✦</span>{{/martial}}
    </div>{{/name}}{{#study}}
    <div class="sheet-header sheet-space-around">{{#rank}}{{#species}}<span class="sheet-fabula-span">{{ rank }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ species }}</span>{{/species}}{{/rank}}{{#hp_max}}{{#mp_max}}<span class="sheet-fabula-diamond">⬥</span>
      <div class="sheet-hp"><span class="sheet-fabula-span">{{ hp_max }}</span><span class="sheet-fabula-label" data-i18n="hp_max">HP</span></div><span class="sheet-fabula-diamond">⬥</span>
      <div class="sheet-mp"><span class="sheet-fabula-span">{{ mp_max }}</span><span class="sheet-fabula-label" data-i18n="mp_max">MP</span></div>{{/mp_max}}{{/hp_max}}
    </div>{{/study}}{{#dexterity}}{{#insight}}{{#might}}{{#willpower}}
    <div class="sheet-details">
      <div class="sheet-attributes sheet-space-around">
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="dexterity">DEX</span><span class="sheet-fabula-span">{{ dexterity }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="insight">INS</span><span class="sheet-fabula-span">{{ insight }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="might">MIG</span><span class="sheet-fabula-span">{{ might }}</span></div><span class="sheet-fabula-diamond">⬥</span>
        <div class="sheet-attribute"><span class="sheet-fabula-label" data-i18n="willpower">WLP</span><span class="sheet-fabula-span">{{ willpower }}</span></div>
      </div>
    </div>{{/willpower}}{{/might}}{{/insight}}{{/dexterity}}
    <div class="sheet-details sheet-flex">{{#physical}}
      <div class="sheet-affinity"><img data-i18n-title="physical_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" title="Physical Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="physical">Physical</span><span class="sheet-fabula-span sheet-uppercase">{{ physical }}</span>
      </div>{{/physical}}{{#air}}
      <div class="sheet-affinity"><img data-i18n-title="air_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" title="Air Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="air">Air</span><span class="sheet-fabula-span sheet-uppercase">{{ air }}</span>
      </div>{{/air}}{{#bolt}}
      <div class="sheet-affinity"><img data-i18n-title="bolt_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" title="Bolt Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="bolt">Bolt</span><span class="sheet-fabula-span sheet-uppercase">{{ bolt }}</span>
      </div>{{/bolt}}{{#dark}}
      <div class="sheet-affinity"><img data-i18n-title="dark_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" title="Dark Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="dark">Dark</span><span class="sheet-fabula-span sheet-uppercase">{{ dark }}</span>
      </div>{{/dark}}{{#earth}}
      <div class="sheet-affinity"><img data-i18n-title="earth_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" title="Earth Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="earth">Earth</span><span class="sheet-fabula-span sheet-uppercase">{{ earth }}</span>
      </div>{{/earth}}{{#fire}}
      <div class="sheet-affinity"><img data-i18n-title="fire_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" title="Fire Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="fire">Fire</span><span class="sheet-fabula-span sheet-uppercase">{{ fire }}</span>
      </div>{{/fire}}{{#ice}}
      <div class="sheet-affinity"><img data-i18n-title="ice_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" title="Ice Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="ice">Ice</span><span class="sheet-fabula-span sheet-uppercase">{{ ice }}</span>
      </div>{{/ice}}{{#light}}
      <div class="sheet-affinity"><img data-i18n-title="light_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" title="Light Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="light">Light</span><span class="sheet-fabula-span sheet-uppercase">{{ light }}</span>
      </div>{{/light}}{{#poison}}
      <div class="sheet-affinity"><img data-i18n-title="poison_title" src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" title="Poison Affinity"/><span class="sheet-fabula-label sheet-sr-only" data-i18n="poison">Poison</span><span class="sheet-fabula-span sheet-uppercase">{{ poison }}</span>
      </div>{{/poison}}
    </div>
    <div class="sheet-details">{{#accuracy}}
      <div><span class="sheet-fabula-label">{{ accuracy }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-label">{{ damage }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ type }}</span></div>{{/accuracy}}{{#def}}{{#mdef}}
      <div><span class="sheet-fabula-label" data-i18n="defense">DEF</span><span class="sheet-fabula-span">{{ def }}</span></div>
      <div><span class="sheet-fabula-label" data-i18n="magic_defense">M.DEF</span><span class="sheet-fabula-span">{{ mdef }}</span></div>{{/mdef}}{{/def}}{{#category}}{{#hands}}
      <div><span class="sheet-fabula-span">{{ category }}</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span" data-i18n="{{ hands }}-handed">X-Handed</span></div>{{/hands}}{{/category}}{{#init}}
      <div><span class="sheet-fabula-label" data-i18n="init">Init.</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ init }}</span></div>{{/init}}{{#cost}}
      <div><span class="sheet-fabula-label" data-i18n="cost">Cost</span><span class="sheet-fabula-diamond">⬥</span><span class="sheet-fabula-span">{{ cost }}</span></div>{{/cost}}{{#traits}}
      <div><span class="sheet-fabula-label" data-i18n="traits">Traits</span><span class="sheet-fabula-span">{{ traits }}</span></div>{{/traits}}{{#bond}}
      <div class="sheet-bonds">{{#approval}}<span class="sheet-fabula-span">{{ approval }}</span>{{/approval}}{{#allegiance}}<span class="sheet-fabula-span">{{ allegiance }}</span>{{/allegiance}}{{#fondness}}<span class="sheet-fabula-span">{{ fondness }}</span>{{/fondness}}
      </div>{{/bond}}{{#effect}}<span class="sheet-fabula-span">{{ effect }}</span>{{/effect}}{{#special}}<span class="sheet-fabula-span">{{ special }}</span>{{/special}}
    </div>
    <div class="sheet-details">{{#basicattacks}}
      <div class="sheet-detail-banner"><span class="sheet-fabula-important" data-i18n="basic_attacks">Basic Attacks</span></div><span class="sheet-fabula-span">...</span>{{/basicattacks}}{{#spells}}
      <div class="sheet-detail-banner"><span class="sheet-fabula-important" data-i18n="spells">Spells</span></div><span class="sheet-fabula-span">...</span>{{/spells}}
    </div>
  </div>
</rolltemplate>
<script type="text/worker">const NAVBAR = ['stats', 'bonds', 'classes', 'equipment', 'magic', 'journal', 'settings'];
const REPEATING = [
    'bonds',
    'basic-attacks',
    'weapons',
    'spells',
    'other-actions',
    'special-rules',
    'rare-gears',
    'notes',
    'classes',
];
const DIE_SIZES = [6, 8, 10, 12];
const STUDY_THRESHOLDS = [7, 10, 13];
const VILLAIN_ULTIMA_POINTS = {
    minor: 5,
    major: 10,
    supreme: 15,
};
const STATUS_EFFECTS = {
    dazed: -1,
    enraged: -1,
    poisoned: -1,
    shaken: -1,
    slow: -1,
    weak: -1,
};
const ATTR_ABBREVIATIONS = {
    dexterity: 'dex',
    insight: 'ins',
    might: 'mig',
    willpower: 'wlp',
};
const AFFINITIES = ['physical', 'air', 'bolt', 'dark', 'earth', 'fire', 'ice', 'light', 'poison'];
const ATTR_WATCH = {
    dexterity: ['dexterity_max', 'slow', 'enraged'],
    insight: ['insight_max', 'dazed', 'enraged'],
    might: ['might_max', 'weak', 'poisoned'],
    willpower: ['willpower_max', 'shaken', 'poisoned'],
    hp: ['sheet_type', 'might_max', 'level', 'hp_extra'],
    mp: ['sheet_type', 'willpower_max', 'level', 'mp_extra'],
    ip: ['sheet_type', 'ip_extra'],
    ultima_points: ['sheet_type', 'villain'],
    villain_empty: ['villain', 'multipart', 'phases'],
    initiative: ['dexterity', 'insight', 'initiative_extra', 'initiative_bonus'],
    level: [
        'sheet_type',
        'repeating_classes:class_skill1_level',
        'repeating_classes:class_skill2_level',
        'repeating_classes:class_skill3_level',
        'repeating_classes:class_skill4_level',
        'repeating_classes:class_skill5_level',
    ],
    defense: [
        'dexterity',
        'defense_quick',
        'defense_extra',
        'armor_is_martial',
        'armor_defense',
        'armor_defense_bonus',
        'shield_defense_bonus',
    ],
    magic_defense: [
        'willpower',
        'defense_quick',
        'magic_defense_extra',
        'armor_magic_defense_bonus',
        'shield_magic_defense_bonus',
    ],
    bonds: [1, 2, 3, 4, 5, 6].flatMap((bond) => [
        `bond${bond}_approval`,
        `bond${bond}_allegiance`,
        `bond${bond}_fondness`,
    ]),
    basic_attacks: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_basic-attacks:attack_extra_damage',
    ],
    weapons: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_weapons:weapon_accuracy',
        'repeating_weapons:weapon_damage',
        'repeating_weapons:weapon_attack_accuracy',
        'repeating_weapons:weapon_attack_damage',
        'repeating_weapons:weapon_extra_damage',
    ],
    spells: [
        'sheet_type',
        'level',
        'accuracy_bonus',
        'magic_bonus',
        'repeating_spells:spell_accuracy',
        'repeating_spells:spell_damage',
    ],
    equipments_empty: [
        'weapons_empty',
        'armor_name',
        'armor_defense',
        'armor_defense_bonus',
        'armor_magic_defense_bonus',
        'armor_initiative',
        'armor_cost',
        'shield_name',
        'shield_defense',
        'shield_defense_bonus',
        'shield_magic_defense_bonus',
        'shield_initiative',
        'shield_cost',
    ],
};
const BUTTON_ACTIONS = {
    hp: ['hp-control-add', 'hp-control-subtract'],
    mp: ['mp-control-add', 'mp-control-subtract'],
};
const CLICK_LISTENERS = {
    'repeating_basic-attacks:basicattack': 'basicattack',
    'repeating_weapons:weaponattack': 'weaponattack',
    'repeating_weapons:weaponchat': 'weaponchat',
    'repeating_spells:spell': 'spell',
    'repeating_other-actions:otheractionchat': 'otheractionchat',
    'repeating_special-rules:specialrulechat': 'specialrulechat',
    'repeating_rare-gears:raregearchat': 'raregearchat',
    'repeating_notes:notechat': 'notechat',
    'armorchat': 'armorchat',
    'shieldchat': 'shieldchat',
    'study7': 'study7',
    'study10': 'study10',
    'study13': 'study13',
    'bond1chat': 'bond1',
    'bond2chat': 'bond2',
    'bond3chat': 'bond3',
    'bond4chat': 'bond4',
    'bond5chat': 'bond5',
    'bond6chat': 'bond6',
};
const SEND_TO_CHAT = {
    ...[1, 2, 3, 4, 5, 6].reduce((memo, bond) => ((memo[`bond${bond}`] = [
        `bond${bond}_name`,
        `bond${bond}_level`,
        `bond${bond}_approval`,
        `bond${bond}_allegiance`,
        `bond${bond}_fondness`,
        `bond${bond}_description`,
    ]),
        memo), {}),
    basicattack: [
        'attack_name',
        'attack_range',
        'attack_attr1',
        'attack_attr2',
        'attack_accuracy_total',
        'attack_damage_total',
        'attack_type',
        'attack_special',
    ],
    weaponattack: [
        'weapon_name',
        'weapon_accuracy_total',
        'weapon_attack_accuracy',
        'weapon_attack_damage',
        'weapon_attack_name',
        'weapon_attr1',
        'weapon_attr2',
        'weapon_category',
        'weapon_damage_total',
        'weapon_extra_damage',
        'weapon_hands',
        'weapon_name',
        'weapon_range',
        'weapon_special',
        'weapon_type',
    ],
    spell: [
        'spell_name',
        'spell_is_offensive',
        'spell_accuracy_total',
        'spell_attr1',
        'spell_attr2',
        'spell_damage_total',
        'spell_duration',
        'spell_effect',
        'spell_mp',
        'spell_name',
        'spell_target',
        'spell_type',
    ],
    otheractionchat: ['action_name', 'action_effect'],
    specialrulechat: ['special_name', 'special_effect'],
    raregearchat: ['raregear_name', 'raregear_effect'],
    notechat: ['note_name', 'note_effect'],
    armorchat: [
        'armor_is_martial',
        'armor_name',
        'armor_defense',
        'armor_defense_bonus',
        'armor_magic_defense_bonus',
        'armor_initiative',
        'armor_cost',
    ],
    shieldchat: [
        'shield_name',
        'shield_is_martial',
        'shield_defense_bonus',
        'shield_magic_defense_bonus',
        'shield_initiative',
        'shield_cost',
    ],
    weaponchat: [
        'weapon_name',
        'weapon_is_martial',
        'weapon_range',
        'weapon_category',
        'weapon_attr1',
        'weapon_attr2',
        'weapon_accuracy',
        'weapon_type',
        'weapon_hands',
        'weapon_damage',
        'weapon_cost',
        'weapon_special',
    ],
    study7: ['rank', 'species', 'hp', 'hp_max', 'hp_crisis', 'mp_max'],
};
SEND_TO_CHAT.study10 = [
    ...SEND_TO_CHAT.study7,
    'traits',
    'dexterity_max',
    'insight_max',
    'might_max',
    'willpower_max',
    'defense',
    'magic_defense',
    'physical',
    'air',
    'bolt',
    'dark',
    'earth',
    'fire',
    'ice',
    'light',
    'poison',
];
SEND_TO_CHAT.study13 = [...SEND_TO_CHAT.study10];
const ROLLTEMPLATE_REQUESTS = ['character_avatar', 'sheet_type'];
const CHARACTER_SKILL_LEVEL = [
    {
        section: 'repeating_classes',
        fields: [
            'class_skill1_name',
            'class_skill1_level',
            'class_skill2_name',
            'class_skill2_level',
            'class_skill3_name',
            'class_skill3_level',
            'class_skill4_name',
            'class_skill4_level',
            'class_skill5_name',
            'class_skill5_level',
        ],
    },
];
const BASIC_ACCURACY_DAMAGE = [
    {
        section: 'repeating_basic-attacks',
        fields: ['attack_extra_damage'],
    },
];
const WEAPON_ACCURACY_DAMAGE = [
    {
        section: 'repeating_weapons',
        fields: [
            'weapon_accuracy',
            'weapon_damage',
            'weapon_attack_accuracy',
            'weapon_attack_damage',
            'weapon_extra_damage',
        ],
    },
];
const SPELL_ACCURACY_DAMAGE = [
    {
        section: 'repeating_spells',
        fields: ['spell_accuracy', 'spell_damage'],
    },
];
const listenersByKey = (obj) => {
    return Object.entries(obj).reduce((memo, [key, arr]) => {
        memo[key] = listeners(arr);
        return memo;
    }, {});
};
const listeners = (arr) => {
    return arr.map((str) => `change:${str}`).join(' ');
};
function chimeraRoll(template, attributes, rolls, callback) {
    const x = Object.entries(attributes)
        .map(([key, val]) => `{{${key}=${val}}}`)
        .join(' ');
    const r = Object.entries(rolls)
        .map(([key, val]) => `{{${key}=[[${val}]]}}`)
        .join(' ');
    const rollstring = `&{template:${template}} ${x} ${r}`;
    startRoll(rollstring, callback);
}
Object.entries(CLICK_LISTENERS).forEach(([btn, key]) => {
    on(`clicked:${btn}`, async (eventInfo) => {
        const id = RepeatingModule.getRepId(eventInfo?.sourceAttribute);
        return handleClick(key, id);
    });
});
const checkForCritical = (dice) => {
    return dice.every((die) => die === 1)
        ? -1
        : dice.every((die) => die >= 6 && die === dice.at(0))
            ? 1
            : 0;
};
const handleClick = async (btn, id) => {
    switch (btn) {
        case 'basicattack':
        case 'weaponattack':
        case 'spell':
            return rollAction(btn, id);
        case 'bond1':
        case 'bond2':
        case 'bond3':
        case 'bond4':
        case 'bond5':
        case 'bond6':
        case 'armorchat':
        case 'shieldchat':
        case 'weaponchat':
        case 'specialrulechat':
        case 'notechat':
        case 'otheractionchat':
        case 'raregearchat':
        case 'study7':
        case 'study10':
        case 'study13':
            return sendToChat(btn, id);
    }
};
const rollAction = async (action, id) => {
    switch (action) {
        case 'basicattack':
            return rollBasicAttack(id);
        case 'weaponattack':
            return rollWeaponAttack(id);
        case 'spell':
            return rollSpellAction(id);
    }
};
const getSendChatRequest = (key, id) => {
    const entries = Object.entries(CLICK_LISTENERS);
    const entry = entries.filter(([rpt, val]) => key === val).at(0) ?? [''];
    const fieldset = entry.at(0).split(':').at(0);
    let request;
    let prefix = '';
    if (fieldset.includes('repeating')) {
        prefix = `${fieldset}_${id}_`;
        const attributes = SEND_TO_CHAT[key].reduce((memo, v) => ((memo[v] = prefix + v), memo), {});
        request = Object.values(attributes);
    }
    else {
        request = SEND_TO_CHAT[key];
    }
    return { request, prefix };
};
const chatData = (chat, prefix, values) => {
    const attrPrefix = (function () {
        switch (chat) {
            case 'otheractionchat':
                return 'action_';
            case 'specialrulechat':
                return 'special_';
            case 'raregearchat':
                return 'raregear_';
            case 'notechat':
                return 'note_';
            case 'armorchat':
                return 'armor_';
            case 'shieldchat':
                return 'shield_';
            case 'weaponchat':
                return 'weapon_';
            case 'bond1':
            case 'bond2':
            case 'bond3':
            case 'bond4':
            case 'bond5':
            case 'bond6':
                return `${chat}_`;
        }
    })();
    return SEND_TO_CHAT[chat].reduce((memo, attr) => ((memo[attr.replace(attrPrefix, '')] = values[prefix + attr]), memo), {});
};
const signedInteger = (value) => {
    return +value < 0 ? `${value}` : `+${value}`;
};
const simpleTemplate = (values) => {
    const template = {};
    template.name = values.name;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const armorTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.def = values.defense;
        template.martial = 'true';
    }
    else {
        template.def = 'DEX size ' + signedInteger(values.defense_bonus);
    }
    template.name = values.name;
    template.mdef = 'INS size ' + signedInteger(values.magic_defense_bonus);
    template.init = signedInteger(values.initiative);
    template.cost = values.cost;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const shieldTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.martial = 'true';
    }
    template.name = values.name;
    template.def = signedInteger(values.defense_bonus);
    template.mdef = signedInteger(values.magic_defense_bonus);
    template.init = signedInteger(values.initiative);
    template.cost = values.cost;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const weaponTemplate = (values) => {
    const template = {};
    let martial = values.is_martial === 'on';
    if (martial) {
        template.martial = 'true';
    }
    template[values.range] = 'true';
    template.type = getTranslationByKey(values.type) || values.type;
    template.category = getTranslationByKey(values.category) || values.category;
    template.name = values.name;
    template.cost = values.cost;
    const att1_i18n = getTranslationByKey(values.attr1) || values.attr;
    const att2_i18n = getTranslationByKey(values.attr2) || values.attr;
    const hr_i18n = getTranslationByKey('hr') || 'HR';
    const accuracy = `【 ${att1_i18n} + ${att2_i18n}` +
        (+values.accuracy > 0 ? ` + ${values.accuracy}` : ``) +
        ` 】`;
    const damage = `【 ${hr_i18n} + ${values.damage} 】`;
    template.accuracy = accuracy;
    template.damage = damage;
    template.hands = values.hands;
    if (values.special)
        template.special = values.special;
    if (values.effect)
        template.effect = values.effect;
    return template;
};
const studyTemplate = (chat, values) => {
    const study = +chat.match(/\d+/)?.shift();
    const template = {};
    template.action = getTranslationByKey('study') || 'Study';
    template.study = 'true';
    if (study >= STUDY_THRESHOLDS[0]) {
        template.rank = getTranslationByKey(values.rank) || '';
        template.species = values.species;
        template.hp_max = values.hp_max;
        if (+values.hp <= +values.hp_crisis)
            template.crisis = 'true';
        template.mp_max = values.mp_max;
    }
    if (study >= STUDY_THRESHOLDS[1]) {
        template.traits = values.traits;
        Object.keys(ATTR_ABBREVIATIONS).forEach((attr) => {
            template[attr] = values[`${attr}_max`];
        });
        template.def = values.defense;
        template.mdef = values.magic_defense;
        AFFINITIES.forEach((affinity) => {
            if (values[affinity] !== '') {
                template[affinity] = getTranslationByKey(values[affinity]) || values[affinity];
            }
        });
    }
    if (study >= STUDY_THRESHOLDS[2]) {
        template.basicattacks = '// TODO Reveal Basic Attacks';
        template.spells = '// TODO Reveal Spells';
    }
    return template;
};
const bondTemplate = (chat, values) => {
    const template = {};
    template.action = getTranslationByKey('bond') || 'Bond';
    template.name = values.name;
    template.level = signedInteger(values.level);
    template.bond = 'true';
    template.approval = getTranslationByKey(values.approval) || '';
    template.allegiance = getTranslationByKey(values.allegiance) || '';
    template.fondness = getTranslationByKey(values.fondness) || '';
    template.special = values.description;
    return template;
};
const sendToChat = async (chat, id) => {
    const { request, prefix } = getSendChatRequest(chat, id);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        const action = getTranslationByKey('info') || 'Info';
        const data = chatData(chat, prefix, v);
        const template = (function () {
            switch (chat) {
                case 'otheractionchat':
                case 'specialrulechat':
                case 'raregearchat':
                case 'notechat':
                    return simpleTemplate(data);
                case 'armorchat':
                    return armorTemplate(data);
                case 'shieldchat':
                    return shieldTemplate(data);
                case 'weaponchat':
                    return weaponTemplate(data);
                case 'study7':
                case 'study10':
                case 'study13':
                    return studyTemplate(chat, data);
                case 'bond1':
                case 'bond2':
                case 'bond3':
                case 'bond4':
                case 'bond5':
                case 'bond6':
                    return bondTemplate(chat, data);
            }
        })();
        chimeraRoll('fabula-chat', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: action,
            character: `@{character_name}`,
            ...template,
        }, {}, ({ rollId, results }) => {
            finishRoll(rollId, results);
        });
    });
};
const rollBasicAttack = async (id) => {
    const prefix = `repeating_basic-attacks_${id}_`;
    const attributes = SEND_TO_CHAT.basicattack.reduce((memo, v) => ((memo[v] = prefix + v), memo), {});
    const request = Object.values(attributes);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const att1 = v[prefix + 'attack_attr1'];
        const att2 = v[prefix + 'attack_attr2'];
        const att1_i18n = getTranslationByKey(att1) || att1;
        const att2_i18n = getTranslationByKey(att2) || att2;
        const hr_i18n = getTranslationByKey('hr') || 'HR';
        const dmg_i18n = getTranslationByKey('dmg') || 'DMG';
        const accuracy = +v[prefix + 'attack_accuracy_total'] ?? 0;
        const damage = v[prefix + 'attack_damage_total'];
        const action = getTranslationByKey('attack') || 'Attack';
        const range = v[prefix + 'attack_range'];
        const accuracyRoll = `【 ${att1_i18n} + ${att2_i18n}` + (accuracy > 0 ? ` + ${accuracy}` : ``) + ` 】`;
        const damageRoll = `【 ${hr_i18n} + ${damage} 】`;
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        chimeraRoll('fabula-attack', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: action,
            character: `@{character_name}`,
            name: v[prefix + 'attack_name'],
            type: getTranslationByKey(v[prefix + 'attack_type']) || '',
            special: v[prefix + 'attack_special'],
            check: accuracyRoll,
            hr: damageRoll,
            [range]: range,
        }, {
            roll: `1d@{${att1}}[${att1_i18n}] + 1d@{${att2}}[${att2_i18n}] + ${accuracy}`,
            damage: `0[${hr_i18n}] + ${damage}[${dmg_i18n}]`,
            critical: '0',
        }, ({ rollId, results }) => {
            const hr = results.roll.dice.reduce((memo, die) => Math.max(memo, die), 0);
            const critical = checkForCritical(results.roll.dice);
            finishRoll(rollId, {
                damage: hr + results.damage.result,
                critical: critical,
            });
        });
    });
};
const rollWeaponAttack = async (id) => {
    const prefix = `repeating_weapons_${id}_`;
    const attributes = SEND_TO_CHAT.weaponattack.reduce((memo, v) => ((memo[v] = prefix + v), memo), {});
    const request = Object.values(attributes);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const att1 = v[prefix + 'weapon_attr1'];
        const att2 = v[prefix + 'weapon_attr2'];
        const attackName = v[prefix + 'weapon_attack_name'] || v[prefix + 'weapon_name'];
        const att1_i18n = getTranslationByKey(att1) || att1;
        const att2_i18n = getTranslationByKey(att2) || att2;
        const hr_i18n = getTranslationByKey('hr') || 'HR';
        const dmg_i18n = getTranslationByKey('dmg') || 'DMG';
        const accuracy = +v[prefix + 'weapon_accuracy_total'] ?? 0;
        const damage = v[prefix + 'weapon_damage_total'];
        const action = getTranslationByKey('attack') || 'Attack';
        const range = v[prefix + 'weapon_range'];
        const accuracyRoll = `【 ${att1_i18n} + ${att2_i18n}` + (accuracy > 0 ? ` + ${accuracy}` : ``) + ` 】`;
        const damageRoll = `【 HR + ${damage} 】`;
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        chimeraRoll('fabula-attack', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: action,
            character: `@{character_name}`,
            name: attackName,
            type: getTranslationByKey(v[prefix + 'weapon_type']) || '',
            special: v[prefix + 'weapon_special'],
            check: accuracyRoll,
            hr: damageRoll,
            [range]: range,
        }, {
            roll: `1d@{${att1}}[${att1_i18n}] + 1d@{${att2}}[${att2_i18n}] + ${accuracy}`,
            damage: `0[${hr_i18n}] + ${damage}[${dmg_i18n}]`,
            critical: '0',
        }, ({ rollId, results }) => {
            const hr = results.roll.dice.reduce((memo, die) => Math.max(memo, die), 0);
            const critical = checkForCritical(results.roll.dice);
            finishRoll(rollId, {
                damage: hr + results.damage.result,
                critical: critical,
            });
        });
    });
};
const rollSpellAction = async (id) => {
    const prefix = `repeating_spells_${id}_`;
    const attributes = SEND_TO_CHAT.spell.reduce((memo, v) => ((memo[v] = prefix + v), memo), {});
    const request = Object.values(attributes);
    getAttrs([...ROLLTEMPLATE_REQUESTS, ...request], (v) => {
        const att1 = v[prefix + 'spell_attr1'];
        const att2 = v[prefix + 'spell_attr2'];
        const attackName = v[prefix + 'spell_attack_name'] || v[prefix + 'spell_name'];
        const att1_i18n = getTranslationByKey(att1) || att1;
        const att2_i18n = getTranslationByKey(att2) || att2;
        const hr_i18n = getTranslationByKey('hr') || 'HR';
        const dmg_i18n = getTranslationByKey('dmg') || 'DMG';
        const accuracy = +v[prefix + 'spell_accuracy_total'] ?? 0;
        const damage = v[prefix + 'spell_damage_total'];
        const action = getTranslationByKey('spell') || 'Spell';
        const range = 'spell';
        const accuracyRoll = `【 ${att1_i18n} + ${att2_i18n}` + (accuracy > 0 ? ` + ${accuracy}` : ``) + ` 】`;
        const damageRoll = `【 HR + ${damage} 】`;
        const avatar = v['character_avatar'].replace(/\?\d+$/g, '');
        const noaction = v[prefix + 'spell_is_offensive'] === 'on' ? null : 'noaction';
        chimeraRoll('fabula-attack', {
            avatar: avatar,
            sheet_type: v.sheet_type,
            action: action,
            character: `@{character_name}`,
            name: attackName,
            type: getTranslationByKey(v[prefix + 'spell_type']) || '',
            mp: v[prefix + 'spell_mp'],
            target: v[prefix + 'spell_target'],
            duration: v[prefix + 'spell_duration'],
            special: v[prefix + 'spell_effect'],
            check: accuracyRoll,
            hr: damageRoll,
            [range]: range,
            [noaction]: 'true',
        }, {
            roll: `1d@{${att1}}[${att1_i18n}] + 1d@{${att2}}[${att2_i18n}] + ${accuracy}`,
            damage: `0[${hr_i18n}] + ${damage}[${dmg_i18n}]`,
            critical: '0',
        }, ({ rollId, results }) => {
            const hr = results.roll.dice.reduce((memo, die) => Math.max(memo, die), 0);
            const critical = checkForCritical(results.roll.dice);
            finishRoll(rollId, {
                damage: hr + results.damage.result,
                critical: critical,
            });
        });
    });
};
class RepeatingModule {
    static isFieldsetEmpty(section, suffix = 'empty') {
        getSectionIDs(section, (id) => {
            setAttrs({ [`${section}_${suffix}`]: id.length });
        });
    }
    static getRepId(sourceAttribute) {
        return sourceAttribute?.split('_').at(2);
    }
    static getAllAttrs(sectionDetails, getArray = [], callback) {
        const args = new Array(arguments.length);
        for (var i = 0; i < args.length; ++i)
            args[i] = arguments[i];
        sectionDetails = structuredClone(args.shift());
        callback = args.pop();
        if (typeof callback !== 'function')
            return;
        if (args.length > 0)
            getArray = structuredClone(args.shift());
        else
            getArray = [];
        this.getSections(getArray, sectionDetails, {}, (getArr, sections) => {
            getAttrs(getArr, (attributes) => {
                callback(attributes, sections);
            });
        });
    }
    static getSections(getArray = [], sectionDetails = [], sections = {}, callback) {
        let section = sectionDetails.shift();
        getSectionIDs(section.section, (idArray) => {
            sections[section.section] = [...idArray];
            getArray.push(`_reporder_${section.section}`);
            idArray.forEach((id) => {
                section.fields.forEach((field) => {
                    getArray.push(`${section.section}_${id}_${field}`);
                });
            });
            if (sectionDetails[0]) {
                this.getSections(getArray, sectionDetails, sections, callback);
            }
            else {
                callback(getArray, sections);
            }
        });
    }
}
NAVBAR.forEach((nav) => {
    on(`clicked:${nav}`, (eventInfo) => {
        setAttrs({ nav: nav }, { silent: true });
    });
});
REPEATING.forEach((fieldset) => {
    on(`sheet:opened change:repeating_${fieldset} remove:repeating_${fieldset}`, (eventInfo) => {
        RepeatingModule.isFieldsetEmpty(fieldset);
    });
});
Object.keys(ATTR_WATCH).forEach((attr) => {
    on(listeners(ATTR_WATCH[attr]), () => handleCalculations(attr));
});
on('change:defense_quick', (eventInfo) => {
    calculateQuickDefenses(eventInfo.newValue);
});
on('change:defense_extra change:magic_defense_extra', () => {
    updateQuickDefenseDropdown();
});
on('clicked:hp-control-add clicked:hp-control-subtract ' +
    'clicked:mp-control-add clicked:mp-control-subtract ', (eventInfo) => {
    const [attr, control, direction] = eventInfo.triggerName.substring(8).split('-');
    updatePoints(attr, direction);
});
const handleCalculations = (attr) => {
    switch (attr) {
        case 'dexterity':
        case 'insight':
        case 'might':
        case 'willpower':
            return calculateAttribute(attr, ATTR_WATCH[attr]);
        case 'hp':
            return calculateMaxHP(ATTR_WATCH[attr]);
        case 'mp':
            return calculateMaxMP(ATTR_WATCH[attr]);
        case 'ip':
            return calculateMaxIP(ATTR_WATCH[attr]);
        case 'ultima_points':
            return calculateUltimaPoints(ATTR_WATCH[attr]);
        case 'initiative':
            return calculateInitiative(ATTR_WATCH[attr]);
        case 'defense':
            return calculateDefense(ATTR_WATCH[attr]);
        case 'magic_defense':
            return calculateMagicDefense(ATTR_WATCH[attr]);
        case 'basic_attacks':
            return calculateBasicAccuracyDamage(ATTR_WATCH[attr]);
        case 'weapons':
            return calculateWeaponAccuracyDamage(ATTR_WATCH[attr]);
        case 'spells':
            return calculateSpellAccuracyDamage(ATTR_WATCH[attr]);
        case 'level':
            return calculateCharacterLevel(ATTR_WATCH[attr]);
        case 'bonds':
            return calculateBondLevels(ATTR_WATCH[attr]);
        case 'equipments_empty':
        case 'villain_empty':
            return isFieldEmpty(attr, ATTR_WATCH[attr]);
    }
};
const isFieldEmpty = (attr, request) => {
    getAttrs(request, (v) => {
        const isEmpty = Object.values(v).every((val) => !String(val).trim() || val === 'none') ? 0 : 1;
        setAttrs({ [attr]: isEmpty }, { silent: true });
    });
};
const calculateAttribute = (attr, request) => {
    getAttrs(request, (v) => {
        const die = calculateStatusEffects(attr, v);
        setAttrs({ [attr]: die });
    });
};
const calculateStatusEffects = (attr, v) => {
    const die = +v[`${attr}_max`] ?? 0;
    const currentStep = DIE_SIZES.findIndex((size) => size == die);
    const debuffs = ATTR_WATCH[attr]
        .filter((a) => !a.includes('max'))
        .reduce((memo, status) => memo + (v[status] === 'on' ? STATUS_EFFECTS[status] : 0), 0);
    const newSize = Math.max(0, Math.min(DIE_SIZES.length - 1, currentStep + debuffs));
    return DIE_SIZES.at(newSize);
};
const calculateMaxHP = (request) => {
    getAttrs(request, (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const might_max = +v.might_max ?? 0;
        const level = +v.level ?? 0;
        const hp_extra = +v.hp_extra ?? 0;
        let hp_max;
        if (v.sheet_type === 'character') {
            hp_max = might_max * 5 + level + hp_extra;
        }
        if (v.sheet_type === 'bestiary') {
            hp_max = might_max * 5 + level * 2 + hp_extra;
        }
        const hp_crisis = Math.floor(hp_max / 2);
        setAttrs({ hp_max, hp_crisis }, { silent: true });
    });
};
const calculateMaxMP = (request) => {
    getAttrs(request, (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const willpower_max = +v.willpower_max ?? 0;
        const level = +v.level ?? 0;
        const mp_extra = +v.mp_extra ?? 0;
        let mp_max;
        if (v.sheet_type === 'character') {
            mp_max = willpower_max * 5 + level + mp_extra;
        }
        if (v.sheet_type === 'bestiary') {
            mp_max = willpower_max * 5 + level + mp_extra;
        }
        setAttrs({ mp_max }, { silent: true });
    });
};
const calculateMaxIP = (request) => {
    getAttrs(request, (v) => {
        if (v.sheet_type !== 'character')
            return;
        const ip_extra = +v.ip_extra ?? 0;
        const ip_max = 6 + ip_extra;
        setAttrs({ ip_max }, { silent: true });
    });
};
const calculateUltimaPoints = (request) => {
    getAttrs(request, (v) => {
        if (v.sheet_type !== 'bestiary')
            return;
        const villain = v.villain ?? '';
        const ultima_points = VILLAIN_ULTIMA_POINTS[villain] ?? 0;
        setAttrs({ ultima_points }, { silent: true });
    });
};
const updatePoints = (attr, direction) => {
    getAttrs([attr, `${attr}_max`, `${attr}-control`], (v) => {
        const xp = +v[attr] ?? 0;
        const xp_max = +v[`${attr}_max`] ?? 0;
        const xp_control = +v[`${attr}-control`] ?? 0;
        const sign = direction === 'add' ? 1 : -1;
        const update = Math.max(0, Math.min(xp_max, xp + xp_control * sign));
        setAttrs({ [attr]: update, [`${attr}-control`]: 1 }, { silent: true });
    });
};
const calculateDefense = (request) => {
    getAttrs(request, (v) => {
        const dexterity = +v.dexterity ?? 0;
        const defense_extra = +v.defense_extra ?? 0;
        const is_martial = v.armor_is_martial === 'on';
        const armor_defense = +v.armor_defense ?? 0;
        const armor_defense_bonus = +v.armor_defense_bonus ?? 0;
        const shield_defense_bonus = +v.shield_defense_bonus ?? 0;
        const defense = (is_martial ? armor_defense : dexterity + armor_defense_bonus) +
            shield_defense_bonus +
            defense_extra;
        setAttrs({ defense }, { silent: true });
    });
};
const calculateMagicDefense = (request) => {
    getAttrs(request, (v) => {
        const willpower = +v.willpower ?? 0;
        const magic_defense_extra = +v.magic_defense_extra ?? 0;
        const armor_magic_defense_bonus = +v.armor_magic_defense_bonus ?? 0;
        const shield_magic_defense_bonus = +v.shield_magic_defense_bonus ?? 0;
        const magic_defense = willpower + armor_magic_defense_bonus + shield_magic_defense_bonus + magic_defense_extra;
        setAttrs({ magic_defense }, { silent: true });
    });
};
const calculateCharacterLevel = (request) => {
    RepeatingModule.getAllAttrs(CHARACTER_SKILL_LEVEL, request, (attributes, sections) => {
        if (attributes.sheet_type != 'character')
            return;
        const update = {};
        let level = 0;
        sections.repeating_classes.forEach((id) => {
            const prefix = `repeating_classes_${id}_`;
            const keys = Object.keys(attributes).filter((key) => key.includes(id));
            const classLevel = keys.reduce((memo, level) => {
                return memo + (level.includes('level') ? +attributes[level] : 0);
            }, 0);
            level += classLevel;
            update[prefix + 'class_level'] = classLevel;
            const skillsTaken = [];
            [1, 2, 3, 4, 5].forEach((skill) => {
                const skillPrefix = `class_skill${skill}_`;
                const skillName = attributes[prefix + skillPrefix + 'name'];
                const skillLevel = attributes[prefix + skillPrefix + 'level'];
                if (+skillLevel > 0) {
                    const sl = +skillLevel > 1 ? ` (SL ${skillLevel})` : '';
                    skillsTaken.push(`${skillName}${sl}`);
                }
            });
            update[prefix + 'class_skills_taken'] = skillsTaken.join(', ');
        });
        update.level = level;
        setAttrs(update, { silent: true });
    });
};
const calculateBondLevels = (request) => {
    getAttrs(request, (v) => {
        const update = {};
        [1, 2, 3, 4, 5, 6].forEach((bond) => {
            const b = Object.entries(v)
                .filter(([key, val]) => key.includes(String(bond)) && val.length)
                .map(([key, val]) => val);
            const level = b.reduce((memo, emotion) => memo + +!!emotion, 0);
            update[`bond${bond}_level`] = String(level);
        });
        setAttrs(update, { silent: true });
    });
};
const calculateQuickDefenses = (value) => {
    if (!value)
        return;
    const [def, mdef] = value.split('/');
    setAttrs({
        defense_extra: def,
        magic_defense_extra: mdef,
    }, { silent: true });
};
const updateQuickDefenseDropdown = () => {
    getAttrs(['defense_extra', 'magic_defense_extra'], (v) => {
        const defense_quick = `${v.defense_extra}/${v.magic_defense_extra}`;
        setAttrs({ defense_quick: defense_quick }, { silent: true });
    });
};
const calculateInitiative = (request) => {
    getAttrs(['sheet_type', ...request], (v) => {
        if (!['character', 'bestiary'].includes(v.sheet_type))
            return;
        const dexterity = +v.dexterity ?? 0;
        const insight = +v.insight ?? 0;
        const initiative_bonus = +v.initiative_bonus ?? 0;
        const initiative_extra = +v.initiative_extra ?? 0;
        let initiative;
        if (v.sheet_type === 'character') {
            initiative = (dexterity + insight) / 2 + initiative_extra;
        }
        if (v.sheet_type === 'bestiary') {
            initiative = (dexterity + insight) / 2 + initiative_bonus + initiative_extra;
        }
        setAttrs({ initiative: initiative }, { silent: true });
    });
};
const calculateLevelAccuracyBonus = (level) => Math.floor(level / 10);
const calculateLevelDamageBonus = (level) => level === 60 ? 15 : level >= 40 ? 10 : level >= 20 ? 5 : 0;
const calculateBasicAccuracyDamage = (request) => {
    RepeatingModule.getAllAttrs(BASIC_ACCURACY_DAMAGE, request, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        if (attributes.sheet_type === 'bestiary') {
            const level = +attributes.level ?? 0;
            const accuracy_bonus = +attributes.accuracy_bonus ?? 0;
            const levelAccuracyBonus = calculateLevelAccuracyBonus(level);
            const levelDamageBonus = calculateLevelDamageBonus(level);
            const [section, ids] = Object.entries(sections).at(0);
            ids.forEach((id) => {
                const prefix = `${section}_${id}_`;
                const extra_damage = +attributes[prefix + 'attack_extra_damage'] ?? 0;
                update[prefix + 'attack_accuracy_total'] = accuracy_bonus + levelAccuracyBonus;
                update[prefix + 'attack_damage_total'] = 5 + extra_damage + levelDamageBonus;
            });
            setAttrs(update, { silent: true });
        }
    });
};
const calculateWeaponAccuracyDamage = (request) => {
    RepeatingModule.getAllAttrs(WEAPON_ACCURACY_DAMAGE, request, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        const level = +attributes.level ?? 0;
        const accuracy_bonus = +attributes.accuracy_bonus ?? 0;
        let levelAccuracyBonus = 0;
        let levelDamageBonus = 0;
        if (attributes.sheet_type === 'bestiary') {
            levelAccuracyBonus = calculateLevelAccuracyBonus(level);
            levelDamageBonus = calculateLevelDamageBonus(level);
        }
        const [section, ids] = Object.entries(sections).at(0);
        ids.forEach((id) => {
            const prefix = `${section}_${id}_`;
            const weapon_accuracy = +attributes[prefix + 'weapon_accuracy'] ?? 0;
            const weapon_damage = +attributes[prefix + 'weapon_damage'] ?? 0;
            const attack_accuracy = +attributes[prefix + 'weapon_attack_accuracy'] ?? 0;
            const attack_damage = +attributes[prefix + 'weapon_attack_damage'] ?? 0;
            const extra_damage = +attributes[prefix + 'weapon_extra_damage'] ?? 0;
            update[prefix + 'weapon_accuracy_total'] =
                weapon_accuracy + attack_accuracy + accuracy_bonus + levelAccuracyBonus;
            update[prefix + 'weapon_damage_total'] =
                weapon_damage + attack_damage + extra_damage + levelDamageBonus;
        });
        setAttrs(update, { silent: true });
    });
};
const calculateSpellAccuracyDamage = (request) => {
    RepeatingModule.getAllAttrs(SPELL_ACCURACY_DAMAGE, request, (attributes, sections) => {
        if (!['character', 'bestiary'].includes(attributes.sheet_type))
            return;
        const update = {};
        if (attributes.sheet_type === 'bestiary') {
            const level = +attributes.level ?? 0;
            const accuracy_bonus = +attributes.accuracy_bonus ?? 0;
            const levelAccuracyBonus = calculateLevelAccuracyBonus(level);
            const levelDamageBonus = calculateLevelDamageBonus(level);
            const [section, ids] = Object.entries(sections).at(0);
            ids.forEach((id) => {
                const prefix = `${section}_${id}_`;
                const spell_accuracy = +attributes[prefix + 'spell_accuracy'] ?? 0;
                const spell_damage = +attributes[prefix + 'spell_damage'] ?? 0;
                update[prefix + 'spell_accuracy_total'] =
                    spell_accuracy + accuracy_bonus + levelAccuracyBonus;
                update[prefix + 'spell_damage_total'] = spell_damage + levelDamageBonus;
            });
            setAttrs(update, { silent: true });
        }
    });
};

</script>